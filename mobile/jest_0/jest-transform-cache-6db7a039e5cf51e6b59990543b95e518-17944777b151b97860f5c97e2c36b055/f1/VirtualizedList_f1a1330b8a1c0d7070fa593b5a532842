8e307646afe6b75c6b9446900010d42b
'use strict';var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _class,_temp,_initialiseProps,_class2,_temp3,_class3,_temp4;function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var Batchinator=require('Batchinator');var FillRateHelper=require('FillRateHelper');var PropTypes=require('prop-types');var React=require('React');var ReactNative=require('ReactNative');var RefreshControl=require('RefreshControl');var ScrollView=require('ScrollView');var StyleSheet=require('StyleSheet');var UIManager=require('UIManager');var View=require('View');var ViewabilityHelper=require('ViewabilityHelper');var flattenStyle=require('flattenStyle');var infoLog=require('infoLog');var invariant=require('fbjs/lib/invariant');var warning=require('fbjs/lib/warning');var _require=require('VirtualizeUtils'),computeWindowedRenderLimits=_require.computeWindowedRenderLimits;var _usedIndexForKey=false;var VirtualizedList=(_temp=_class=function(_React$PureComponent){_inherits(VirtualizedList,_React$PureComponent);_createClass(VirtualizedList,[{key:'scrollToEnd',value:function scrollToEnd(params){var animated=params?params.animated:true;var veryLast=this.props.getItemCount(this.props.data)-1;var frame=this._getFrameMetricsApprox(veryLast);var offset=Math.max(0,frame.offset+frame.length+this._footerLength-this._scrollMetrics.visibleLength);this._scrollRef.scrollTo(this.props.horizontal?{x:offset,animated:animated}:{y:offset,animated:animated});}},{key:'scrollToIndex',value:function scrollToIndex(params){var _props=this.props,data=_props.data,horizontal=_props.horizontal,getItemCount=_props.getItemCount,getItemLayout=_props.getItemLayout,onScrollToIndexFailed=_props.onScrollToIndexFailed;var animated=params.animated,index=params.index,viewOffset=params.viewOffset,viewPosition=params.viewPosition;invariant(index>=0&&index<getItemCount(data),'scrollToIndex out of range: '+index+' vs '+(getItemCount(data)-1));if(!getItemLayout&&index>this._highestMeasuredFrameIndex){invariant(!!onScrollToIndexFailed,'scrollToIndex should be used in conjunction with getItemLayout or onScrollToIndexFailed, '+'otherwise there is no way to know the location of offscreen indices or handle failures.');onScrollToIndexFailed({averageItemLength:this._averageCellLength,highestMeasuredFrameIndex:this._highestMeasuredFrameIndex,index:index});return;}var frame=this._getFrameMetricsApprox(index);var offset=Math.max(0,frame.offset-(viewPosition||0)*(this._scrollMetrics.visibleLength-frame.length))-(viewOffset||0);this._scrollRef.scrollTo(horizontal?{x:offset,animated:animated}:{y:offset,animated:animated});}},{key:'scrollToItem',value:function scrollToItem(params){var item=params.item;var _props2=this.props,data=_props2.data,getItem=_props2.getItem,getItemCount=_props2.getItemCount;var itemCount=getItemCount(data);for(var _index=0;_index<itemCount;_index++){if(getItem(data,_index)===item){this.scrollToIndex(_extends({},params,{index:_index}));break;}}}},{key:'scrollToOffset',value:function scrollToOffset(params){var animated=params.animated,offset=params.offset;this._scrollRef.scrollTo(this.props.horizontal?{x:offset,animated:animated}:{y:offset,animated:animated});}},{key:'recordInteraction',value:function recordInteraction(){this._nestedChildLists.forEach(function(childList){childList.ref&&childList.ref.recordInteraction();});this._viewabilityTuples.forEach(function(t){t.viewabilityHelper.recordInteraction();});this._updateViewableItems(this.props.data);}},{key:'flashScrollIndicators',value:function flashScrollIndicators(){this._scrollRef.flashScrollIndicators();}},{key:'getScrollResponder',value:function getScrollResponder(){if(this._scrollRef&&this._scrollRef.getScrollResponder){return this._scrollRef.getScrollResponder();}}},{key:'getScrollableNode',value:function getScrollableNode(){if(this._scrollRef&&this._scrollRef.getScrollableNode){return this._scrollRef.getScrollableNode();}else{return ReactNative.findNodeHandle(this._scrollRef);}}},{key:'setNativeProps',value:function setNativeProps(props){if(this._scrollRef){this._scrollRef.setNativeProps(props);}}},{key:'getChildContext',value:function getChildContext(){return{virtualizedList:{getScrollMetrics:this._getScrollMetrics,horizontal:this.props.horizontal,getOutermostParentListRef:this._getOutermostParentListRef,getNestedChildState:this._getNestedChildState,registerAsNestedChild:this._registerAsNestedChild,unregisterAsNestedChild:this._unregisterAsNestedChild}};}},{key:'_getCellKey',value:function _getCellKey(){return this.context.virtualizedCell&&this.context.virtualizedCell.cellKey||'rootList';}},{key:'hasMore',value:function hasMore(){return this._hasMore;}}]);function VirtualizedList(props,context){_classCallCheck(this,VirtualizedList);var _this=_possibleConstructorReturn(this,(VirtualizedList.__proto__||Object.getPrototypeOf(VirtualizedList)).call(this,props,context));_initialiseProps.call(_this);invariant(!props.onScroll||!props.onScroll.__isNative,'Components based on VirtualizedList must be wrapped with Animated.createAnimatedComponent '+'to support native onScroll events with useNativeDriver');invariant(props.windowSize>0,'VirtualizedList: The windowSize prop must be present and set to a value greater than 0.');_this._fillRateHelper=new FillRateHelper(_this._getFrameMetrics);_this._updateCellsToRenderBatcher=new Batchinator(_this._updateCellsToRender,_this.props.updateCellsBatchingPeriod);if(_this.props.viewabilityConfigCallbackPairs){_this._viewabilityTuples=_this.props.viewabilityConfigCallbackPairs.map(function(pair){return{viewabilityHelper:new ViewabilityHelper(pair.viewabilityConfig),onViewableItemsChanged:pair.onViewableItemsChanged};});}else if(_this.props.onViewableItemsChanged){_this._viewabilityTuples.push({viewabilityHelper:new ViewabilityHelper(_this.props.viewabilityConfig),onViewableItemsChanged:_this.props.onViewableItemsChanged});}var initialState={first:_this.props.initialScrollIndex||0,last:Math.min(_this.props.getItemCount(_this.props.data),(_this.props.initialScrollIndex||0)+_this.props.initialNumToRender)-1};if(_this._isNestedWithSameOrientation()){var storedState=_this.context.virtualizedList.getNestedChildState(_this.props.listKey||_this._getCellKey());if(storedState){initialState=storedState;_this.state=storedState;_this._frames=storedState.frames;}}_this.state=initialState;return _this;}_createClass(VirtualizedList,[{key:'componentDidMount',value:function componentDidMount(){if(this._isNestedWithSameOrientation()){this.context.virtualizedList.registerAsNestedChild({cellKey:this._getCellKey(),key:this.props.listKey||this._getCellKey(),ref:this});}}},{key:'componentWillUnmount',value:function componentWillUnmount(){if(this._isNestedWithSameOrientation()){this.context.virtualizedList.unregisterAsNestedChild({key:this.props.listKey||this._getCellKey(),state:{first:this.state.first,last:this.state.last,frames:this._frames}});}this._updateViewableItems(null);this._updateCellsToRenderBatcher.dispose({abort:true});this._viewabilityTuples.forEach(function(tuple){tuple.viewabilityHelper.dispose();});this._fillRateHelper.deactivateAndFlush();}},{key:'_pushCells',value:function _pushCells(cells,stickyHeaderIndices,stickyIndicesFromProps,first,last,inversionStyle){var _this2=this;var _props3=this.props,CellRendererComponent=_props3.CellRendererComponent,ItemSeparatorComponent=_props3.ItemSeparatorComponent,data=_props3.data,getItem=_props3.getItem,getItemCount=_props3.getItemCount,horizontal=_props3.horizontal,keyExtractor=_props3.keyExtractor;var stickyOffset=this.props.ListHeaderComponent?1:0;var end=getItemCount(data)-1;var prevCellKey=void 0;last=Math.min(end,last);var _loop=function _loop(ii){var item=getItem(data,ii);var key=keyExtractor(item,ii);_this2._indicesToKeys.set(ii,key);if(stickyIndicesFromProps.has(ii+stickyOffset)){stickyHeaderIndices.push(cells.length);}cells.push(React.createElement(CellRenderer,{CellRendererComponent:CellRendererComponent,ItemSeparatorComponent:ii<end?ItemSeparatorComponent:undefined,cellKey:key,fillRateHelper:_this2._fillRateHelper,horizontal:horizontal,index:ii,inversionStyle:inversionStyle,item:item,key:key,prevCellKey:prevCellKey,onUpdateSeparators:_this2._onUpdateSeparators,onLayout:function onLayout(e){return _this2._onCellLayout(e,key,ii);},onUnmount:_this2._onCellUnmount,parentProps:_this2.props,ref:function(_ref){function ref(_x){return _ref.apply(this,arguments);}ref.toString=function(){return _ref.toString();};return ref;}(function(ref){_this2._cellRefs[key]=ref;})}));prevCellKey=key;};for(var ii=first;ii<=last;ii++){_loop(ii);}}},{key:'_isVirtualizationDisabled',value:function _isVirtualizationDisabled(){return this.props.disableVirtualization;}},{key:'_isNestedWithSameOrientation',value:function _isNestedWithSameOrientation(){var nestedContext=this.context.virtualizedList;return!!(nestedContext&&!!nestedContext.horizontal===!!this.props.horizontal);}},{key:'render',value:function render(){if(__DEV__){var flatStyles=flattenStyle(this.props.contentContainerStyle);warning(flatStyles==null||flatStyles.flexWrap!=='wrap','`flexWrap: `wrap`` is not supported with the `VirtualizedList` components.'+'Consider using `numColumns` with `FlatList` instead.');}var _props4=this.props,ListEmptyComponent=_props4.ListEmptyComponent,ListFooterComponent=_props4.ListFooterComponent,ListHeaderComponent=_props4.ListHeaderComponent;var _props5=this.props,data=_props5.data,horizontal=_props5.horizontal;var isVirtualizationDisabled=this._isVirtualizationDisabled();var inversionStyle=this.props.inverted?this.props.horizontal?styles.horizontallyInverted:styles.verticallyInverted:null;var cells=[];var stickyIndicesFromProps=new Set(this.props.stickyHeaderIndices);var stickyHeaderIndices=[];if(ListHeaderComponent){if(stickyIndicesFromProps.has(0)){stickyHeaderIndices.push(0);}var element=React.isValidElement(ListHeaderComponent)?ListHeaderComponent:React.createElement(ListHeaderComponent,null);cells.push(React.createElement(VirtualizedCellWrapper,{cellKey:this._getCellKey()+'-header',key:'$header'},React.createElement(View,{onLayout:this._onLayoutHeader,style:inversionStyle},element)));}var itemCount=this.props.getItemCount(data);if(itemCount>0){_usedIndexForKey=false;var spacerKey=!horizontal?'height':'width';var lastInitialIndex=this.props.initialScrollIndex?-1:this.props.initialNumToRender-1;var _state=this.state,_first=_state.first,_last=_state.last;this._pushCells(cells,stickyHeaderIndices,stickyIndicesFromProps,0,lastInitialIndex,inversionStyle);var firstAfterInitial=Math.max(lastInitialIndex+1,_first);if(!isVirtualizationDisabled&&_first>lastInitialIndex+1){var insertedStickySpacer=false;if(stickyIndicesFromProps.size>0){var stickyOffset=ListHeaderComponent?1:0;for(var ii=firstAfterInitial-1;ii>lastInitialIndex;ii--){if(stickyIndicesFromProps.has(ii+stickyOffset)){var initBlock=this._getFrameMetricsApprox(lastInitialIndex);var stickyBlock=this._getFrameMetricsApprox(ii);var leadSpace=stickyBlock.offset-(initBlock.offset+initBlock.length);cells.push(React.createElement(View,{key:'$sticky_lead',style:_defineProperty({},spacerKey,leadSpace)}));this._pushCells(cells,stickyHeaderIndices,stickyIndicesFromProps,ii,ii,inversionStyle);var trailSpace=this._getFrameMetricsApprox(_first).offset-(stickyBlock.offset+stickyBlock.length);cells.push(React.createElement(View,{key:'$sticky_trail',style:_defineProperty({},spacerKey,trailSpace)}));insertedStickySpacer=true;break;}}}if(!insertedStickySpacer){var _initBlock=this._getFrameMetricsApprox(lastInitialIndex);var firstSpace=this._getFrameMetricsApprox(_first).offset-(_initBlock.offset+_initBlock.length);cells.push(React.createElement(View,{key:'$lead_spacer',style:_defineProperty({},spacerKey,firstSpace)}));}}this._pushCells(cells,stickyHeaderIndices,stickyIndicesFromProps,firstAfterInitial,_last,inversionStyle);if(!this._hasWarned.keys&&_usedIndexForKey){console.warn('VirtualizedList: missing keys for items, make sure to specify a key property on each '+'item or provide a custom keyExtractor.');this._hasWarned.keys=true;}if(!isVirtualizationDisabled&&_last<itemCount-1){var lastFrame=this._getFrameMetricsApprox(_last);var end=this.props.getItemLayout?itemCount-1:Math.min(itemCount-1,this._highestMeasuredFrameIndex);var endFrame=this._getFrameMetricsApprox(end);var tailSpacerLength=endFrame.offset+endFrame.length-(lastFrame.offset+lastFrame.length);cells.push(React.createElement(View,{key:'$tail_spacer',style:_defineProperty({},spacerKey,tailSpacerLength)}));}}else if(ListEmptyComponent){var _element=React.isValidElement(ListEmptyComponent)?ListEmptyComponent:React.createElement(ListEmptyComponent,null);cells.push(React.createElement(View,{key:'$empty',onLayout:this._onLayoutEmpty,style:inversionStyle},_element));}if(ListFooterComponent){var _element2=React.isValidElement(ListFooterComponent)?ListFooterComponent:React.createElement(ListFooterComponent,null);cells.push(React.createElement(VirtualizedCellWrapper,{cellKey:this._getCellKey()+'-footer',key:'$footer'},React.createElement(View,{onLayout:this._onLayoutFooter,style:inversionStyle},_element2)));}var scrollProps=_extends({},this.props,{onContentSizeChange:this._onContentSizeChange,onLayout:this._onLayout,onScroll:this._onScroll,onScrollBeginDrag:this._onScrollBeginDrag,onScrollEndDrag:this._onScrollEndDrag,onMomentumScrollEnd:this._onMomentumScrollEnd,scrollEventThrottle:this.props.scrollEventThrottle,invertStickyHeaders:this.props.invertStickyHeaders!==undefined?this.props.invertStickyHeaders:this.props.inverted,stickyHeaderIndices:stickyHeaderIndices});if(inversionStyle){scrollProps.style=[inversionStyle,this.props.style];}this._hasMore=this.state.last<this.props.getItemCount(this.props.data)-1;var ret=React.cloneElement((this.props.renderScrollComponent||this._defaultRenderScrollComponent)(scrollProps),{ref:this._captureScrollRef},cells);if(this.props.debug){return React.createElement(View,{style:{flex:1}},ret,this._renderDebugOverlay());}else{return ret;}}},{key:'componentDidUpdate',value:function componentDidUpdate(prevProps){var _props6=this.props,data=_props6.data,extraData=_props6.extraData;if(data!==prevProps.data||extraData!==prevProps.extraData){this._hasDataChangedSinceEndReached=true;this._viewabilityTuples.forEach(function(tuple){tuple.viewabilityHelper.resetViewableIndices();});}this._scheduleCellsToRenderUpdate();}},{key:'_computeBlankness',value:function _computeBlankness(){this._fillRateHelper.computeBlankness(this.props,this.state,this._scrollMetrics);}},{key:'_onCellLayout',value:function _onCellLayout(e,cellKey,index){var layout=e.nativeEvent.layout;var next={offset:this._selectOffset(layout),length:this._selectLength(layout),index:index,inLayout:true};var curr=this._frames[cellKey];if(!curr||next.offset!==curr.offset||next.length!==curr.length||index!==curr.index){this._totalCellLength+=next.length-(curr?curr.length:0);this._totalCellsMeasured+=curr?0:1;this._averageCellLength=this._totalCellLength/this._totalCellsMeasured;this._frames[cellKey]=next;this._highestMeasuredFrameIndex=Math.max(this._highestMeasuredFrameIndex,index);this._scheduleCellsToRenderUpdate();}else{this._frames[cellKey].inLayout=true;}this._computeBlankness();}},{key:'_measureLayoutRelativeToContainingList',value:function _measureLayoutRelativeToContainingList(){var _this3=this;UIManager.measureLayout(ReactNative.findNodeHandle(this),ReactNative.findNodeHandle(this.context.virtualizedList.getOutermostParentListRef()),function(error){console.warn("VirtualizedList: Encountered an error while measuring a list's"+' offset from its containing VirtualizedList.');},function(x,y,width,height){_this3._offsetFromParentVirtualizedList=_this3._selectOffset({x:x,y:y});_this3._scrollMetrics.contentLength=_this3._selectLength({width:width,height:height});var scrollMetrics=_this3._convertParentScrollMetrics(_this3.context.virtualizedList.getScrollMetrics());_this3._scrollMetrics.visibleLength=scrollMetrics.visibleLength;_this3._scrollMetrics.offset=scrollMetrics.offset;});}},{key:'_renderDebugOverlay',value:function _renderDebugOverlay(){var normalize=this._scrollMetrics.visibleLength/this._scrollMetrics.contentLength;var framesInLayout=[];var itemCount=this.props.getItemCount(this.props.data);for(var ii=0;ii<itemCount;ii++){var frame=this._getFrameMetricsApprox(ii);if(frame.inLayout){framesInLayout.push(frame);}}var windowTop=this._getFrameMetricsApprox(this.state.first).offset;var frameLast=this._getFrameMetricsApprox(this.state.last);var windowLen=frameLast.offset+frameLast.length-windowTop;var visTop=this._scrollMetrics.offset;var visLen=this._scrollMetrics.visibleLength;var baseStyle={position:'absolute',top:0,right:0};return React.createElement(View,{style:_extends({},baseStyle,{bottom:0,width:20,borderColor:'blue',borderWidth:1})},framesInLayout.map(function(f,ii){return React.createElement(View,{key:'f'+ii,style:_extends({},baseStyle,{left:0,top:f.offset*normalize,height:f.length*normalize,backgroundColor:'orange'})});}),React.createElement(View,{style:_extends({},baseStyle,{left:0,top:windowTop*normalize,height:windowLen*normalize,borderColor:'green',borderWidth:2})}),React.createElement(View,{style:_extends({},baseStyle,{left:0,top:visTop*normalize,height:visLen*normalize,borderColor:'red',borderWidth:2})}));}},{key:'_selectLength',value:function _selectLength(metrics){return!this.props.horizontal?metrics.height:metrics.width;}},{key:'_selectOffset',value:function _selectOffset(metrics){return!this.props.horizontal?metrics.y:metrics.x;}},{key:'_maybeCallOnEndReached',value:function _maybeCallOnEndReached(){var _props7=this.props,data=_props7.data,getItemCount=_props7.getItemCount,onEndReached=_props7.onEndReached,onEndReachedThreshold=_props7.onEndReachedThreshold;var _scrollMetrics=this._scrollMetrics,contentLength=_scrollMetrics.contentLength,visibleLength=_scrollMetrics.visibleLength,offset=_scrollMetrics.offset;var distanceFromEnd=contentLength-visibleLength-offset;if(onEndReached&&this.state.last===getItemCount(data)-1&&distanceFromEnd<onEndReachedThreshold*visibleLength&&(this._hasDataChangedSinceEndReached||this._scrollMetrics.contentLength!==this._sentEndForContentLength)){this._hasDataChangedSinceEndReached=false;this._sentEndForContentLength=this._scrollMetrics.contentLength;onEndReached({distanceFromEnd:distanceFromEnd});}}},{key:'_scheduleCellsToRenderUpdate',value:function _scheduleCellsToRenderUpdate(){var _state2=this.state,first=_state2.first,last=_state2.last;var _scrollMetrics2=this._scrollMetrics,offset=_scrollMetrics2.offset,visibleLength=_scrollMetrics2.visibleLength,velocity=_scrollMetrics2.velocity;var itemCount=this.props.getItemCount(this.props.data);var hiPri=false;if(first>0||last<itemCount-1){var distTop=offset-this._getFrameMetricsApprox(first).offset;var distBottom=this._getFrameMetricsApprox(last).offset-(offset+visibleLength);var scrollingThreshold=this.props.onEndReachedThreshold*visibleLength/2;hiPri=Math.min(distTop,distBottom)<0||velocity<-2&&distTop<scrollingThreshold||velocity>2&&distBottom<scrollingThreshold;}if(hiPri&&this._averageCellLength){this._updateCellsToRenderBatcher.dispose({abort:true});this._updateCellsToRender();return;}else{this._updateCellsToRenderBatcher.schedule();}}},{key:'_updateViewableItems',value:function _updateViewableItems(data){var _this4=this;var getItemCount=this.props.getItemCount;this._viewabilityTuples.forEach(function(tuple){tuple.viewabilityHelper.onUpdate(getItemCount(data),_this4._scrollMetrics.offset,_this4._scrollMetrics.visibleLength,_this4._getFrameMetrics,_this4._createViewToken,tuple.onViewableItemsChanged,_this4.state);});}}],[{key:'getDerivedStateFromProps',value:function getDerivedStateFromProps(newProps,prevState){var data=newProps.data,extraData=newProps.extraData,getItemCount=newProps.getItemCount,maxToRenderPerBatch=newProps.maxToRenderPerBatch;return{first:Math.max(0,Math.min(prevState.first,getItemCount(data)-1-maxToRenderPerBatch)),last:Math.max(0,Math.min(prevState.last,getItemCount(data)-1))};}}]);return VirtualizedList;}(React.PureComponent),_class.defaultProps={disableVirtualization:false,horizontal:false,initialNumToRender:10,keyExtractor:function keyExtractor(item,index){if(item.key!=null){return item.key;}_usedIndexForKey=true;return String(index);},maxToRenderPerBatch:10,onEndReachedThreshold:2,scrollEventThrottle:50,updateCellsBatchingPeriod:50,windowSize:21},_class.contextTypes={virtualizedCell:PropTypes.shape({cellKey:PropTypes.string}),virtualizedList:PropTypes.shape({getScrollMetrics:PropTypes.func,horizontal:PropTypes.bool,getOutermostParentListRef:PropTypes.func,getNestedChildState:PropTypes.func,registerAsNestedChild:PropTypes.func,unregisterAsNestedChild:PropTypes.func})},_class.childContextTypes={virtualizedList:PropTypes.shape({getScrollMetrics:PropTypes.func,horizontal:PropTypes.bool,getOutermostParentListRef:PropTypes.func,getNestedChildState:PropTypes.func,registerAsNestedChild:PropTypes.func,unregisterAsNestedChild:PropTypes.func})},_initialiseProps=function _initialiseProps(){var _this5=this;this._getScrollMetrics=function(){return _this5._scrollMetrics;};this._getOutermostParentListRef=function(){if(_this5._isNestedWithSameOrientation()){return _this5.context.virtualizedList.getOutermostParentListRef();}else{return _this5;}};this._getNestedChildState=function(key){var existingChildData=_this5._nestedChildLists.get(key);return existingChildData&&existingChildData.state;};this._registerAsNestedChild=function(childList){var childListsInCell=_this5._cellKeysToChildListKeys.get(childList.cellKey)||new Set();childListsInCell.add(childList.key);_this5._cellKeysToChildListKeys.set(childList.cellKey,childListsInCell);var existingChildData=_this5._nestedChildLists.get(childList.key);invariant(!(existingChildData&&existingChildData.ref!==null),'A VirtualizedList contains a cell which itself contains '+'more than one VirtualizedList of the same orientation as the parent '+'list. You must pass a unique listKey prop to each sibling list.');_this5._nestedChildLists.set(childList.key,{ref:childList.ref,state:null});if(_this5._hasInteracted){childList.ref.recordInteraction();}};this._unregisterAsNestedChild=function(childList){_this5._nestedChildLists.set(childList.key,{ref:null,state:childList.state});};this._onUpdateSeparators=function(keys,newProps){keys.forEach(function(key){var ref=key!=null&&_this5._cellRefs[key];ref&&ref.updateSeparatorProps(newProps);});};this._averageCellLength=0;this._cellKeysToChildListKeys=new Map();this._cellRefs={};this._frames={};this._footerLength=0;this._hasDataChangedSinceEndReached=true;this._hasInteracted=false;this._hasMore=false;this._hasWarned={};this._highestMeasuredFrameIndex=0;this._headerLength=0;this._indicesToKeys=new Map();this._hasDoneInitialScroll=false;this._nestedChildLists=new Map();this._offsetFromParentVirtualizedList=0;this._prevParentOffset=0;this._scrollMetrics={contentLength:0,dOffset:0,dt:10,offset:0,timestamp:0,velocity:0,visibleLength:0};this._scrollRef=null;this._sentEndForContentLength=0;this._totalCellLength=0;this._totalCellsMeasured=0;this._viewabilityTuples=[];this._captureScrollRef=function(ref){_this5._scrollRef=ref;};this._defaultRenderScrollComponent=function(props){if(_this5._isNestedWithSameOrientation()){return React.createElement(View,props);}else if(props.onRefresh){invariant(typeof props.refreshing==='boolean','`refreshing` prop must be set as a boolean in order to use `onRefresh`, but got `'+JSON.stringify(props.refreshing)+'`');return React.createElement(ScrollView,_extends({},props,{refreshControl:React.createElement(RefreshControl,{refreshing:props.refreshing,onRefresh:props.onRefresh,progressViewOffset:props.progressViewOffset})}));}else{return React.createElement(ScrollView,props);}};this._onCellUnmount=function(cellKey){var curr=_this5._frames[cellKey];if(curr){_this5._frames[cellKey]=_extends({},curr,{inLayout:false});}};this._onLayout=function(e){if(_this5._isNestedWithSameOrientation()){_this5._measureLayoutRelativeToContainingList();}else{_this5._scrollMetrics.visibleLength=_this5._selectLength(e.nativeEvent.layout);}_this5.props.onLayout&&_this5.props.onLayout(e);_this5._scheduleCellsToRenderUpdate();_this5._maybeCallOnEndReached();};this._onLayoutEmpty=function(e){_this5.props.onLayout&&_this5.props.onLayout(e);};this._onLayoutFooter=function(e){_this5._footerLength=_this5._selectLength(e.nativeEvent.layout);};this._onLayoutHeader=function(e){_this5._headerLength=_this5._selectLength(e.nativeEvent.layout);};this._onContentSizeChange=function(width,height){if(width>0&&height>0&&_this5.props.initialScrollIndex!=null&&_this5.props.initialScrollIndex>0&&!_this5._hasDoneInitialScroll){_this5.scrollToIndex({animated:false,index:_this5.props.initialScrollIndex});_this5._hasDoneInitialScroll=true;}if(_this5.props.onContentSizeChange){_this5.props.onContentSizeChange(width,height);}_this5._scrollMetrics.contentLength=_this5._selectLength({height:height,width:width});_this5._scheduleCellsToRenderUpdate();_this5._maybeCallOnEndReached();};this._convertParentScrollMetrics=function(metrics){var offset=metrics.offset-_this5._offsetFromParentVirtualizedList;var visibleLength=metrics.visibleLength;var dOffset=offset-_this5._scrollMetrics.offset;var contentLength=_this5._scrollMetrics.contentLength;return{visibleLength:visibleLength,contentLength:contentLength,offset:offset,dOffset:dOffset};};this._onScroll=function(e){_this5._nestedChildLists.forEach(function(childList){childList.ref&&childList.ref._onScroll(e);});if(_this5.props.onScroll){_this5.props.onScroll(e);}var timestamp=e.timeStamp;var visibleLength=_this5._selectLength(e.nativeEvent.layoutMeasurement);var contentLength=_this5._selectLength(e.nativeEvent.contentSize);var offset=_this5._selectOffset(e.nativeEvent.contentOffset);var dOffset=offset-_this5._scrollMetrics.offset;if(_this5._isNestedWithSameOrientation()){if(_this5._scrollMetrics.contentLength===0){return;}var _convertParentScrollM=_this5._convertParentScrollMetrics({visibleLength:visibleLength,offset:offset});visibleLength=_convertParentScrollM.visibleLength;contentLength=_convertParentScrollM.contentLength;offset=_convertParentScrollM.offset;dOffset=_convertParentScrollM.dOffset;}var dt=_this5._scrollMetrics.timestamp?Math.max(1,timestamp-_this5._scrollMetrics.timestamp):1;var velocity=dOffset/dt;if(dt>500&&_this5._scrollMetrics.dt>500&&contentLength>5*visibleLength&&!_this5._hasWarned.perf){infoLog('VirtualizedList: You have a large list that is slow to update - make sure your '+'renderItem function renders components that follow React performance best practices '+'like PureComponent, shouldComponentUpdate, etc.',{dt:dt,prevDt:_this5._scrollMetrics.dt,contentLength:contentLength});_this5._hasWarned.perf=true;}_this5._scrollMetrics={contentLength:contentLength,dt:dt,dOffset:dOffset,offset:offset,timestamp:timestamp,velocity:velocity,visibleLength:visibleLength};_this5._updateViewableItems(_this5.props.data);if(!_this5.props){return;}_this5._maybeCallOnEndReached();if(velocity!==0){_this5._fillRateHelper.activate();}_this5._computeBlankness();_this5._scheduleCellsToRenderUpdate();};this._onScrollBeginDrag=function(e){_this5._nestedChildLists.forEach(function(childList){childList.ref&&childList.ref._onScrollBeginDrag(e);});_this5._viewabilityTuples.forEach(function(tuple){tuple.viewabilityHelper.recordInteraction();});_this5._hasInteracted=true;_this5.props.onScrollBeginDrag&&_this5.props.onScrollBeginDrag(e);};this._onScrollEndDrag=function(e){var velocity=e.nativeEvent.velocity;if(velocity){_this5._scrollMetrics.velocity=_this5._selectOffset(velocity);}_this5._computeBlankness();_this5.props.onScrollEndDrag&&_this5.props.onScrollEndDrag(e);};this._onMomentumScrollEnd=function(e){_this5._scrollMetrics.velocity=0;_this5._computeBlankness();_this5.props.onMomentumScrollEnd&&_this5.props.onMomentumScrollEnd(e);};this._updateCellsToRender=function(){var _props8=_this5.props,data=_props8.data,getItemCount=_props8.getItemCount,onEndReachedThreshold=_props8.onEndReachedThreshold;var isVirtualizationDisabled=_this5._isVirtualizationDisabled();_this5._updateViewableItems(data);if(!data){return;}_this5.setState(function(state){var newState=void 0;if(!isVirtualizationDisabled){if(_this5._scrollMetrics.visibleLength){if(!_this5.props.initialScrollIndex||_this5._scrollMetrics.offset){newState=computeWindowedRenderLimits(_this5.props,state,_this5._getFrameMetricsApprox,_this5._scrollMetrics);}}}else{var _scrollMetrics3=_this5._scrollMetrics,contentLength=_scrollMetrics3.contentLength,_offset=_scrollMetrics3.offset,visibleLength=_scrollMetrics3.visibleLength;var _distanceFromEnd=contentLength-visibleLength-_offset;var renderAhead=_distanceFromEnd<onEndReachedThreshold*visibleLength?_this5.props.maxToRenderPerBatch:0;newState={first:0,last:Math.min(state.last+renderAhead,getItemCount(data)-1)};}if(newState&&_this5._nestedChildLists.size>0){var newFirst=newState.first;var newLast=newState.last;for(var ii=newFirst;ii<=newLast;ii++){var cellKeyForIndex=_this5._indicesToKeys.get(ii);var childListKeys=cellKeyForIndex&&_this5._cellKeysToChildListKeys.get(cellKeyForIndex);if(!childListKeys){continue;}var someChildHasMore=false;for(var _iterator=childListKeys,_isArray=Array.isArray(_iterator),_i=0,_iterator=_isArray?_iterator:_iterator[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var _ref6;if(_isArray){if(_i>=_iterator.length)break;_ref6=_iterator[_i++];}else{_i=_iterator.next();if(_i.done)break;_ref6=_i.value;}var childKey=_ref6;var childList=_this5._nestedChildLists.get(childKey);if(childList&&childList.ref&&childList.ref.hasMore()){someChildHasMore=true;break;}}if(someChildHasMore){newState.last=ii;break;}}}return newState;});};this._createViewToken=function(index,isViewable){var _props9=_this5.props,data=_props9.data,getItem=_props9.getItem,keyExtractor=_props9.keyExtractor;var item=getItem(data,index);return{index:index,item:item,key:keyExtractor(item,index),isViewable:isViewable};};this._getFrameMetricsApprox=function(index){var frame=_this5._getFrameMetrics(index);if(frame&&frame.index===index){return frame;}else{var _getItemLayout=_this5.props.getItemLayout;invariant(!_getItemLayout,'Should not have to estimate frames when a measurement metrics function is provided');return{length:_this5._averageCellLength,offset:_this5._averageCellLength*index};}};this._getFrameMetrics=function(index){var _props10=_this5.props,data=_props10.data,getItem=_props10.getItem,getItemCount=_props10.getItemCount,getItemLayout=_props10.getItemLayout,keyExtractor=_props10.keyExtractor;invariant(getItemCount(data)>index,'Tried to get frame for out of range index '+index);var item=getItem(data,index);var frame=item&&_this5._frames[keyExtractor(item,index)];if(!frame||frame.index!==index){if(getItemLayout){frame=getItemLayout(data,index);if(__DEV__){var frameType=PropTypes.shape({length:PropTypes.number.isRequired,offset:PropTypes.number.isRequired,index:PropTypes.number.isRequired}).isRequired;PropTypes.checkPropTypes({frame:frameType},{frame:frame},'frame','VirtualizedList.getItemLayout');}}}return frame;};},_temp);var CellRenderer=(_temp3=_class2=function(_React$Component){_inherits(CellRenderer,_React$Component);function CellRenderer(){var _ref7;var _temp2,_this6,_ret2;_classCallCheck(this,CellRenderer);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}return _ret2=(_temp2=(_this6=_possibleConstructorReturn(this,(_ref7=CellRenderer.__proto__||Object.getPrototypeOf(CellRenderer)).call.apply(_ref7,[this].concat(args))),_this6),_this6.state={separatorProps:{highlighted:false,leadingItem:_this6.props.item}},_this6._separators={highlight:function highlight(){var _this6$props=_this6.props,cellKey=_this6$props.cellKey,prevCellKey=_this6$props.prevCellKey;_this6.props.onUpdateSeparators([cellKey,prevCellKey],{highlighted:true});},unhighlight:function unhighlight(){var _this6$props2=_this6.props,cellKey=_this6$props2.cellKey,prevCellKey=_this6$props2.prevCellKey;_this6.props.onUpdateSeparators([cellKey,prevCellKey],{highlighted:false});},updateProps:function updateProps(select,newProps){var _this6$props3=_this6.props,cellKey=_this6$props3.cellKey,prevCellKey=_this6$props3.prevCellKey;_this6.props.onUpdateSeparators([select==='leading'?prevCellKey:cellKey],newProps);}},_temp2),_possibleConstructorReturn(_this6,_ret2);}_createClass(CellRenderer,[{key:'getChildContext',value:function getChildContext(){return{virtualizedCell:{cellKey:this.props.cellKey}};}},{key:'updateSeparatorProps',value:function updateSeparatorProps(newProps){this.setState(function(state){return{separatorProps:_extends({},state.separatorProps,newProps)};});}},{key:'componentWillUnmount',value:function componentWillUnmount(){this.props.onUnmount(this.props.cellKey);}},{key:'render',value:function render(){var _props11=this.props,CellRendererComponent=_props11.CellRendererComponent,ItemSeparatorComponent=_props11.ItemSeparatorComponent,fillRateHelper=_props11.fillRateHelper,horizontal=_props11.horizontal,item=_props11.item,index=_props11.index,inversionStyle=_props11.inversionStyle,parentProps=_props11.parentProps;var renderItem=parentProps.renderItem,getItemLayout=parentProps.getItemLayout;invariant(renderItem,'no renderItem!');var element=renderItem({item:item,index:index,separators:this._separators});var onLayout=getItemLayout&&!parentProps.debug&&!fillRateHelper.enabled()?undefined:this.props.onLayout;var itemSeparator=ItemSeparatorComponent&&React.createElement(ItemSeparatorComponent,this.state.separatorProps);var cellStyle=inversionStyle?horizontal?[{flexDirection:'row-reverse'},inversionStyle]:[{flexDirection:'column-reverse'},inversionStyle]:horizontal?[{flexDirection:'row'},inversionStyle]:inversionStyle;if(!CellRendererComponent){return React.createElement(View,{style:cellStyle,onLayout:onLayout},element,itemSeparator);}return React.createElement(CellRendererComponent,_extends({},this.props,{style:cellStyle,onLayout:onLayout}),element,itemSeparator);}}]);return CellRenderer;}(React.Component),_class2.childContextTypes={virtualizedCell:PropTypes.shape({cellKey:PropTypes.string})},_temp3);var VirtualizedCellWrapper=(_temp4=_class3=function(_React$Component2){_inherits(VirtualizedCellWrapper,_React$Component2);function VirtualizedCellWrapper(){_classCallCheck(this,VirtualizedCellWrapper);return _possibleConstructorReturn(this,(VirtualizedCellWrapper.__proto__||Object.getPrototypeOf(VirtualizedCellWrapper)).apply(this,arguments));}_createClass(VirtualizedCellWrapper,[{key:'getChildContext',value:function getChildContext(){return{virtualizedCell:{cellKey:this.props.cellKey}};}},{key:'render',value:function render(){return this.props.children;}}]);return VirtualizedCellWrapper;}(React.Component),_class3.childContextTypes={virtualizedCell:PropTypes.shape({cellKey:PropTypes.string})},_temp4);var styles=StyleSheet.create({verticallyInverted:{transform:[{scaleY:-1}]},horizontallyInverted:{transform:[{scaleX:-1}]}});module.exports=VirtualizedList;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlZpcnR1YWxpemVkTGlzdC5qcyJdLCJuYW1lcyI6WyJCYXRjaGluYXRvciIsInJlcXVpcmUiLCJGaWxsUmF0ZUhlbHBlciIsIlByb3BUeXBlcyIsIlJlYWN0IiwiUmVhY3ROYXRpdmUiLCJSZWZyZXNoQ29udHJvbCIsIlNjcm9sbFZpZXciLCJTdHlsZVNoZWV0IiwiVUlNYW5hZ2VyIiwiVmlldyIsIlZpZXdhYmlsaXR5SGVscGVyIiwiZmxhdHRlblN0eWxlIiwiaW5mb0xvZyIsImludmFyaWFudCIsIndhcm5pbmciLCJjb21wdXRlV2luZG93ZWRSZW5kZXJMaW1pdHMiLCJfdXNlZEluZGV4Rm9yS2V5IiwiVmlydHVhbGl6ZWRMaXN0IiwicGFyYW1zIiwiYW5pbWF0ZWQiLCJ2ZXJ5TGFzdCIsInByb3BzIiwiZ2V0SXRlbUNvdW50IiwiZGF0YSIsImZyYW1lIiwiX2dldEZyYW1lTWV0cmljc0FwcHJveCIsIm9mZnNldCIsIk1hdGgiLCJtYXgiLCJsZW5ndGgiLCJfZm9vdGVyTGVuZ3RoIiwiX3Njcm9sbE1ldHJpY3MiLCJ2aXNpYmxlTGVuZ3RoIiwiX3Njcm9sbFJlZiIsInNjcm9sbFRvIiwiaG9yaXpvbnRhbCIsIngiLCJ5IiwiZ2V0SXRlbUxheW91dCIsIm9uU2Nyb2xsVG9JbmRleEZhaWxlZCIsImluZGV4Iiwidmlld09mZnNldCIsInZpZXdQb3NpdGlvbiIsIl9oaWdoZXN0TWVhc3VyZWRGcmFtZUluZGV4IiwiYXZlcmFnZUl0ZW1MZW5ndGgiLCJfYXZlcmFnZUNlbGxMZW5ndGgiLCJoaWdoZXN0TWVhc3VyZWRGcmFtZUluZGV4IiwiaXRlbSIsImdldEl0ZW0iLCJpdGVtQ291bnQiLCJzY3JvbGxUb0luZGV4IiwiX25lc3RlZENoaWxkTGlzdHMiLCJmb3JFYWNoIiwiY2hpbGRMaXN0IiwicmVmIiwicmVjb3JkSW50ZXJhY3Rpb24iLCJfdmlld2FiaWxpdHlUdXBsZXMiLCJ0Iiwidmlld2FiaWxpdHlIZWxwZXIiLCJfdXBkYXRlVmlld2FibGVJdGVtcyIsImZsYXNoU2Nyb2xsSW5kaWNhdG9ycyIsImdldFNjcm9sbFJlc3BvbmRlciIsImdldFNjcm9sbGFibGVOb2RlIiwiZmluZE5vZGVIYW5kbGUiLCJzZXROYXRpdmVQcm9wcyIsInZpcnR1YWxpemVkTGlzdCIsImdldFNjcm9sbE1ldHJpY3MiLCJfZ2V0U2Nyb2xsTWV0cmljcyIsImdldE91dGVybW9zdFBhcmVudExpc3RSZWYiLCJfZ2V0T3V0ZXJtb3N0UGFyZW50TGlzdFJlZiIsImdldE5lc3RlZENoaWxkU3RhdGUiLCJfZ2V0TmVzdGVkQ2hpbGRTdGF0ZSIsInJlZ2lzdGVyQXNOZXN0ZWRDaGlsZCIsIl9yZWdpc3RlckFzTmVzdGVkQ2hpbGQiLCJ1bnJlZ2lzdGVyQXNOZXN0ZWRDaGlsZCIsIl91bnJlZ2lzdGVyQXNOZXN0ZWRDaGlsZCIsImNvbnRleHQiLCJ2aXJ0dWFsaXplZENlbGwiLCJjZWxsS2V5IiwiX2hhc01vcmUiLCJvblNjcm9sbCIsIl9faXNOYXRpdmUiLCJ3aW5kb3dTaXplIiwiX2ZpbGxSYXRlSGVscGVyIiwiX2dldEZyYW1lTWV0cmljcyIsIl91cGRhdGVDZWxsc1RvUmVuZGVyQmF0Y2hlciIsIl91cGRhdGVDZWxsc1RvUmVuZGVyIiwidXBkYXRlQ2VsbHNCYXRjaGluZ1BlcmlvZCIsInZpZXdhYmlsaXR5Q29uZmlnQ2FsbGJhY2tQYWlycyIsIm1hcCIsInBhaXIiLCJ2aWV3YWJpbGl0eUNvbmZpZyIsIm9uVmlld2FibGVJdGVtc0NoYW5nZWQiLCJwdXNoIiwiaW5pdGlhbFN0YXRlIiwiZmlyc3QiLCJpbml0aWFsU2Nyb2xsSW5kZXgiLCJsYXN0IiwibWluIiwiaW5pdGlhbE51bVRvUmVuZGVyIiwiX2lzTmVzdGVkV2l0aFNhbWVPcmllbnRhdGlvbiIsInN0b3JlZFN0YXRlIiwibGlzdEtleSIsIl9nZXRDZWxsS2V5Iiwic3RhdGUiLCJfZnJhbWVzIiwiZnJhbWVzIiwia2V5IiwiZGlzcG9zZSIsImFib3J0IiwidHVwbGUiLCJkZWFjdGl2YXRlQW5kRmx1c2giLCJjZWxscyIsInN0aWNreUhlYWRlckluZGljZXMiLCJzdGlja3lJbmRpY2VzRnJvbVByb3BzIiwiaW52ZXJzaW9uU3R5bGUiLCJDZWxsUmVuZGVyZXJDb21wb25lbnQiLCJJdGVtU2VwYXJhdG9yQ29tcG9uZW50Iiwia2V5RXh0cmFjdG9yIiwic3RpY2t5T2Zmc2V0IiwiTGlzdEhlYWRlckNvbXBvbmVudCIsImVuZCIsInByZXZDZWxsS2V5IiwiaWkiLCJfaW5kaWNlc1RvS2V5cyIsInNldCIsImhhcyIsInVuZGVmaW5lZCIsIl9vblVwZGF0ZVNlcGFyYXRvcnMiLCJfb25DZWxsTGF5b3V0IiwiZSIsIl9vbkNlbGxVbm1vdW50IiwiX2NlbGxSZWZzIiwiZGlzYWJsZVZpcnR1YWxpemF0aW9uIiwibmVzdGVkQ29udGV4dCIsIl9fREVWX18iLCJmbGF0U3R5bGVzIiwiY29udGVudENvbnRhaW5lclN0eWxlIiwiZmxleFdyYXAiLCJMaXN0RW1wdHlDb21wb25lbnQiLCJMaXN0Rm9vdGVyQ29tcG9uZW50IiwiaXNWaXJ0dWFsaXphdGlvbkRpc2FibGVkIiwiX2lzVmlydHVhbGl6YXRpb25EaXNhYmxlZCIsImludmVydGVkIiwic3R5bGVzIiwiaG9yaXpvbnRhbGx5SW52ZXJ0ZWQiLCJ2ZXJ0aWNhbGx5SW52ZXJ0ZWQiLCJTZXQiLCJlbGVtZW50IiwiaXNWYWxpZEVsZW1lbnQiLCJfb25MYXlvdXRIZWFkZXIiLCJzcGFjZXJLZXkiLCJsYXN0SW5pdGlhbEluZGV4IiwiX3B1c2hDZWxscyIsImZpcnN0QWZ0ZXJJbml0aWFsIiwiaW5zZXJ0ZWRTdGlja3lTcGFjZXIiLCJzaXplIiwiaW5pdEJsb2NrIiwic3RpY2t5QmxvY2siLCJsZWFkU3BhY2UiLCJ0cmFpbFNwYWNlIiwiZmlyc3RTcGFjZSIsIl9oYXNXYXJuZWQiLCJrZXlzIiwiY29uc29sZSIsIndhcm4iLCJsYXN0RnJhbWUiLCJlbmRGcmFtZSIsInRhaWxTcGFjZXJMZW5ndGgiLCJfb25MYXlvdXRFbXB0eSIsIl9vbkxheW91dEZvb3RlciIsInNjcm9sbFByb3BzIiwib25Db250ZW50U2l6ZUNoYW5nZSIsIl9vbkNvbnRlbnRTaXplQ2hhbmdlIiwib25MYXlvdXQiLCJfb25MYXlvdXQiLCJfb25TY3JvbGwiLCJvblNjcm9sbEJlZ2luRHJhZyIsIl9vblNjcm9sbEJlZ2luRHJhZyIsIm9uU2Nyb2xsRW5kRHJhZyIsIl9vblNjcm9sbEVuZERyYWciLCJvbk1vbWVudHVtU2Nyb2xsRW5kIiwiX29uTW9tZW50dW1TY3JvbGxFbmQiLCJzY3JvbGxFdmVudFRocm90dGxlIiwiaW52ZXJ0U3RpY2t5SGVhZGVycyIsInN0eWxlIiwicmV0IiwiY2xvbmVFbGVtZW50IiwicmVuZGVyU2Nyb2xsQ29tcG9uZW50IiwiX2RlZmF1bHRSZW5kZXJTY3JvbGxDb21wb25lbnQiLCJfY2FwdHVyZVNjcm9sbFJlZiIsImRlYnVnIiwiZmxleCIsIl9yZW5kZXJEZWJ1Z092ZXJsYXkiLCJwcmV2UHJvcHMiLCJleHRyYURhdGEiLCJfaGFzRGF0YUNoYW5nZWRTaW5jZUVuZFJlYWNoZWQiLCJyZXNldFZpZXdhYmxlSW5kaWNlcyIsIl9zY2hlZHVsZUNlbGxzVG9SZW5kZXJVcGRhdGUiLCJjb21wdXRlQmxhbmtuZXNzIiwibGF5b3V0IiwibmF0aXZlRXZlbnQiLCJuZXh0IiwiX3NlbGVjdE9mZnNldCIsIl9zZWxlY3RMZW5ndGgiLCJpbkxheW91dCIsImN1cnIiLCJfdG90YWxDZWxsTGVuZ3RoIiwiX3RvdGFsQ2VsbHNNZWFzdXJlZCIsIl9jb21wdXRlQmxhbmtuZXNzIiwibWVhc3VyZUxheW91dCIsIndpZHRoIiwiaGVpZ2h0IiwiX29mZnNldEZyb21QYXJlbnRWaXJ0dWFsaXplZExpc3QiLCJjb250ZW50TGVuZ3RoIiwic2Nyb2xsTWV0cmljcyIsIl9jb252ZXJ0UGFyZW50U2Nyb2xsTWV0cmljcyIsIm5vcm1hbGl6ZSIsImZyYW1lc0luTGF5b3V0Iiwid2luZG93VG9wIiwiZnJhbWVMYXN0Iiwid2luZG93TGVuIiwidmlzVG9wIiwidmlzTGVuIiwiYmFzZVN0eWxlIiwicG9zaXRpb24iLCJ0b3AiLCJyaWdodCIsImJvdHRvbSIsImJvcmRlckNvbG9yIiwiYm9yZGVyV2lkdGgiLCJmIiwibGVmdCIsImJhY2tncm91bmRDb2xvciIsIm1ldHJpY3MiLCJvbkVuZFJlYWNoZWQiLCJvbkVuZFJlYWNoZWRUaHJlc2hvbGQiLCJkaXN0YW5jZUZyb21FbmQiLCJfc2VudEVuZEZvckNvbnRlbnRMZW5ndGgiLCJ2ZWxvY2l0eSIsImhpUHJpIiwiZGlzdFRvcCIsImRpc3RCb3R0b20iLCJzY3JvbGxpbmdUaHJlc2hvbGQiLCJzY2hlZHVsZSIsIm9uVXBkYXRlIiwiX2NyZWF0ZVZpZXdUb2tlbiIsIm5ld1Byb3BzIiwicHJldlN0YXRlIiwibWF4VG9SZW5kZXJQZXJCYXRjaCIsIlB1cmVDb21wb25lbnQiLCJkZWZhdWx0UHJvcHMiLCJTdHJpbmciLCJjb250ZXh0VHlwZXMiLCJzaGFwZSIsInN0cmluZyIsImZ1bmMiLCJib29sIiwiY2hpbGRDb250ZXh0VHlwZXMiLCJleGlzdGluZ0NoaWxkRGF0YSIsImdldCIsImNoaWxkTGlzdHNJbkNlbGwiLCJfY2VsbEtleXNUb0NoaWxkTGlzdEtleXMiLCJhZGQiLCJfaGFzSW50ZXJhY3RlZCIsInVwZGF0ZVNlcGFyYXRvclByb3BzIiwiTWFwIiwiX2hlYWRlckxlbmd0aCIsIl9oYXNEb25lSW5pdGlhbFNjcm9sbCIsIl9wcmV2UGFyZW50T2Zmc2V0IiwiZE9mZnNldCIsImR0IiwidGltZXN0YW1wIiwib25SZWZyZXNoIiwicmVmcmVzaGluZyIsIkpTT04iLCJzdHJpbmdpZnkiLCJwcm9ncmVzc1ZpZXdPZmZzZXQiLCJfbWVhc3VyZUxheW91dFJlbGF0aXZlVG9Db250YWluaW5nTGlzdCIsIl9tYXliZUNhbGxPbkVuZFJlYWNoZWQiLCJ0aW1lU3RhbXAiLCJsYXlvdXRNZWFzdXJlbWVudCIsImNvbnRlbnRTaXplIiwiY29udGVudE9mZnNldCIsInBlcmYiLCJwcmV2RHQiLCJhY3RpdmF0ZSIsInNldFN0YXRlIiwibmV3U3RhdGUiLCJyZW5kZXJBaGVhZCIsIm5ld0ZpcnN0IiwibmV3TGFzdCIsImNlbGxLZXlGb3JJbmRleCIsImNoaWxkTGlzdEtleXMiLCJzb21lQ2hpbGRIYXNNb3JlIiwiY2hpbGRLZXkiLCJoYXNNb3JlIiwiaXNWaWV3YWJsZSIsImZyYW1lVHlwZSIsIm51bWJlciIsImlzUmVxdWlyZWQiLCJjaGVja1Byb3BUeXBlcyIsIkNlbGxSZW5kZXJlciIsInNlcGFyYXRvclByb3BzIiwiaGlnaGxpZ2h0ZWQiLCJsZWFkaW5nSXRlbSIsIl9zZXBhcmF0b3JzIiwiaGlnaGxpZ2h0Iiwib25VcGRhdGVTZXBhcmF0b3JzIiwidW5oaWdobGlnaHQiLCJ1cGRhdGVQcm9wcyIsInNlbGVjdCIsIm9uVW5tb3VudCIsImZpbGxSYXRlSGVscGVyIiwicGFyZW50UHJvcHMiLCJyZW5kZXJJdGVtIiwic2VwYXJhdG9ycyIsImVuYWJsZWQiLCJpdGVtU2VwYXJhdG9yIiwiY2VsbFN0eWxlIiwiZmxleERpcmVjdGlvbiIsIkNvbXBvbmVudCIsIlZpcnR1YWxpemVkQ2VsbFdyYXBwZXIiLCJjaGlsZHJlbiIsImNyZWF0ZSIsInRyYW5zZm9ybSIsInNjYWxlWSIsInNjYWxlWCIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiJBQVVBLGEsa3dEQUVBLEdBQU1BLGFBQWNDLE9BQWQsZUFBTixDQUNBLEdBQU1DLGdCQUFpQkQsT0FBakIsa0JBQU4sQ0FDQSxHQUFNRSxXQUFZRixPQUFaLGNBQU4sQ0FDQSxHQUFNRyxPQUFRSCxPQUFSLFNBQU4sQ0FDQSxHQUFNSSxhQUFjSixPQUFkLGVBQU4sQ0FDQSxHQUFNSyxnQkFBaUJMLE9BQWpCLGtCQUFOLENBQ0EsR0FBTU0sWUFBYU4sT0FBYixjQUFOLENBQ0EsR0FBTU8sWUFBYVAsT0FBYixjQUFOLENBQ0EsR0FBTVEsV0FBWVIsT0FBWixhQUFOLENBQ0EsR0FBTVMsTUFBT1QsT0FBUCxRQUFOLENBQ0EsR0FBTVUsbUJBQW9CVixPQUFwQixxQkFBTixDQUVBLEdBQU1XLGNBQWVYLE9BQWYsZ0JBQU4sQ0FDQSxHQUFNWSxTQUFVWixPQUFWLFdBQU4sQ0FDQSxHQUFNYSxXQUFZYixPQUFaLHNCQUFOLENBSUEsR0FBTWMsU0FBVWQsT0FBVixvQkFBTixDLGFBRXNDQSxPLG9CQUEvQmUsMkIsVUFBQUEsMkIsQ0FxTFAsR0FBSUMsa0JBQW1CLEtBQXZCLEMsR0E2Q01DLGdCLDBLQUlRQyxNLENBQWlDLENBQzNDLEdBQU1DLFVBQVdELE9BQVNBLE9BQU9DLFFBQWhCLENBQTJCLElBQTVDLENBQ0EsR0FBTUMsVUFBVyxLQUFLQyxLQUFMLENBQVdDLFlBQVgsQ0FBd0IsS0FBS0QsS0FBTCxDQUFXRSxJQUFuQyxFQUEyQyxDQUE1RCxDQUNBLEdBQU1DLE9BQVEsS0FBS0Msc0JBQUwsQ0FBNEJMLFFBQTVCLENBQWQsQ0FDQSxHQUFNTSxRQUFTQyxLQUFLQyxHQUFMLENBQ2IsQ0FEYSxDQUViSixNQUFNRSxNQUFOLENBQ0VGLE1BQU1LLE1BRFIsQ0FFRSxLQUFLQyxhQUZQLENBR0UsS0FBS0MsY0FBTCxDQUFvQkMsYUFMVCxDQUFmLENBVUEsS0FBS0MsVUFBTCxDQUFnQkMsUUFBaEIsQ0FJRSxLQUFLYixLQUFMLENBQVdjLFVBQVgsQ0FBd0IsQ0FBQ0MsRUFBR1YsTUFBSixDQUFZUCxpQkFBWixDQUF4QixDQUFnRCxDQUFDa0IsRUFBR1gsTUFBSixDQUFZUCxpQkFBWixDQUpsRCxFQU1ELEMsb0RBR2FELE0sQ0FLWCxZQU9HLEtBQUtHLEtBUFIsQ0FFQ0UsSUFGRCxRQUVDQSxJQUZELENBR0NZLFVBSEQsUUFHQ0EsVUFIRCxDQUlDYixZQUpELFFBSUNBLFlBSkQsQ0FLQ2dCLGFBTEQsUUFLQ0EsYUFMRCxDQU1DQyxxQkFORCxRQU1DQSxxQkFORCxJQVFNcEIsU0FSTixDQVFtREQsTUFSbkQsQ0FRTUMsUUFSTixDQVFnQnFCLEtBUmhCLENBUW1EdEIsTUFSbkQsQ0FRZ0JzQixLQVJoQixDQVF1QkMsVUFSdkIsQ0FRbUR2QixNQVJuRCxDQVF1QnVCLFVBUnZCLENBUW1DQyxZQVJuQyxDQVFtRHhCLE1BUm5ELENBUW1Dd0IsWUFSbkMsQ0FTRDdCLFVBQ0UyQixPQUFTLENBQVQsRUFBY0EsTUFBUWxCLGFBQWFDLElBQWIsQ0FEeEIsZ0NBRWlDaUIsS0FGakMsU0FFNkNsQixhQUFhQyxJQUFiLEVBQXFCLENBRmxFLEdBSUEsR0FBSSxDQUFDZSxhQUFELEVBQWtCRSxNQUFRLEtBQUtHLDBCQUFuQyxDQUErRCxDQUM3RDlCLFVBQ0UsQ0FBQyxDQUFDMEIscUJBREosQ0FFRSw0RkFDRSx5RkFISixFQUtBQSxzQkFBc0IsQ0FDcEJLLGtCQUFtQixLQUFLQyxrQkFESixDQUVwQkMsMEJBQTJCLEtBQUtILDBCQUZaLENBR3BCSCxXQUhvQixDQUF0QixFQUtBLE9BQ0QsQ0FDRCxHQUFNaEIsT0FBUSxLQUFLQyxzQkFBTCxDQUE0QmUsS0FBNUIsQ0FBZCxDQUNBLEdBQU1kLFFBQ0pDLEtBQUtDLEdBQUwsQ0FDRSxDQURGLENBRUVKLE1BQU1FLE1BQU4sQ0FDRSxDQUFDZ0IsY0FBZ0IsQ0FBakIsR0FDRyxLQUFLWCxjQUFMLENBQW9CQyxhQUFwQixDQUFvQ1IsTUFBTUssTUFEN0MsQ0FISixHQUtLWSxZQUFjLENBTG5CLENBREYsQ0FVQSxLQUFLUixVQUFMLENBQWdCQyxRQUFoQixDQUlFQyxXQUFhLENBQUNDLEVBQUdWLE1BQUosQ0FBWVAsaUJBQVosQ0FBYixDQUFxQyxDQUFDa0IsRUFBR1gsTUFBSixDQUFZUCxpQkFBWixDQUp2QyxFQU1ELEMsa0RBSVlELE0sQ0FJVixJQUNNNkIsS0FETixDQUNjN0IsTUFEZCxDQUNNNkIsSUFETixhQUVxQyxLQUFLMUIsS0FGMUMsQ0FFTUUsSUFGTixTQUVNQSxJQUZOLENBRVl5QixPQUZaLFNBRVlBLE9BRlosQ0FFcUIxQixZQUZyQixTQUVxQkEsWUFGckIsQ0FHRCxHQUFNMkIsV0FBWTNCLGFBQWFDLElBQWIsQ0FBbEIsQ0FDQSxJQUFLLEdBQUlpQixRQUFRLENBQWpCLENBQW9CQSxPQUFRUyxTQUE1QixDQUF1Q1QsUUFBdkMsQ0FBZ0QsQ0FDOUMsR0FBSVEsUUFBUXpCLElBQVIsQ0FBY2lCLE1BQWQsSUFBeUJPLElBQTdCLENBQW1DLENBQ2pDLEtBQUtHLGFBQUwsYUFBdUJoQyxNQUF2QixFQUErQnNCLFlBQS9CLElBQ0EsTUFDRCxDQUNGLENBQ0YsQyxzREFZY3RCLE0sQ0FBK0MsSUFDckRDLFNBRHFELENBQ2pDRCxNQURpQyxDQUNyREMsUUFEcUQsQ0FDM0NPLE1BRDJDLENBQ2pDUixNQURpQyxDQUMzQ1EsTUFEMkMsQ0FLNUQsS0FBS08sVUFBTCxDQUFnQkMsUUFBaEIsQ0FJRSxLQUFLYixLQUFMLENBQVdjLFVBQVgsQ0FBd0IsQ0FBQ0MsRUFBR1YsTUFBSixDQUFZUCxpQkFBWixDQUF4QixDQUFnRCxDQUFDa0IsRUFBR1gsTUFBSixDQUFZUCxpQkFBWixDQUpsRCxFQU1ELEMsNkRBRW1CLENBQ2xCLEtBQUtnQyxpQkFBTCxDQUF1QkMsT0FBdkIsQ0FBK0IsbUJBQWEsQ0FDMUNDLFVBQVVDLEdBQVYsRUFBaUJELFVBQVVDLEdBQVYsQ0FBY0MsaUJBQWQsRUFBakIsQ0FDRCxDQUZELEVBR0EsS0FBS0Msa0JBQUwsQ0FBd0JKLE9BQXhCLENBQWdDLFdBQUssQ0FDbkNLLEVBQUVDLGlCQUFGLENBQW9CSCxpQkFBcEIsR0FDRCxDQUZELEVBR0EsS0FBS0ksb0JBQUwsQ0FBMEIsS0FBS3RDLEtBQUwsQ0FBV0UsSUFBckMsRUFDRCxDLHFFQUV1QixDQUl0QixLQUFLVSxVQUFMLENBQWdCMkIscUJBQWhCLEdBQ0QsQywrREFPb0IsQ0FDbkIsR0FBSSxLQUFLM0IsVUFBTCxFQUFtQixLQUFLQSxVQUFMLENBQWdCNEIsa0JBQXZDLENBQTJELENBQ3pELE1BQU8sTUFBSzVCLFVBQUwsQ0FBZ0I0QixrQkFBaEIsRUFBUCxDQUNELENBQ0YsQyw2REFFbUIsQ0FDbEIsR0FBSSxLQUFLNUIsVUFBTCxFQUFtQixLQUFLQSxVQUFMLENBQWdCNkIsaUJBQXZDLENBQTBELENBQ3hELE1BQU8sTUFBSzdCLFVBQUwsQ0FBZ0I2QixpQkFBaEIsRUFBUCxDQUNELENBRkQsSUFFTyxDQUNMLE1BQU8xRCxhQUFZMkQsY0FBWixDQUEyQixLQUFLOUIsVUFBaEMsQ0FBUCxDQUNELENBQ0YsQyxzREFFY1osSyxDQUFlLENBQzVCLEdBQUksS0FBS1ksVUFBVCxDQUFxQixDQUNuQixLQUFLQSxVQUFMLENBQWdCK0IsY0FBaEIsQ0FBK0IzQyxLQUEvQixFQUNELENBQ0YsQyx5REE2Q2lCLENBQ2hCLE1BQU8sQ0FDTDRDLGdCQUFpQixDQUNmQyxpQkFBa0IsS0FBS0MsaUJBRFIsQ0FFZmhDLFdBQVksS0FBS2QsS0FBTCxDQUFXYyxVQUZSLENBR2ZpQywwQkFBMkIsS0FBS0MsMEJBSGpCLENBSWZDLG9CQUFxQixLQUFLQyxvQkFKWCxDQUtmQyxzQkFBdUIsS0FBS0Msc0JBTGIsQ0FNZkMsd0JBQXlCLEtBQUtDLHdCQU5mLENBRFosQ0FBUCxDQVVELEMsaURBRXFCLENBQ3BCLE1BQ0csTUFBS0MsT0FBTCxDQUFhQyxlQUFiLEVBQWdDLEtBQUtELE9BQUwsQ0FBYUMsZUFBYixDQUE2QkMsT0FBOUQsRUFDQSxVQUZGLENBSUQsQyx5Q0FNa0IsQ0FDakIsTUFBTyxNQUFLQyxRQUFaLENBQ0QsQyxJQXVERCx5QkFBWTFELEtBQVosQ0FBMEJ1RCxPQUExQixDQUEyQywrSkFDbkN2RCxLQURtQyxDQUM1QnVELE9BRDRCLGdDQUV6Qy9ELFVBQ0UsQ0FBQ1EsTUFBTTJELFFBQVAsRUFBbUIsQ0FBQzNELE1BQU0yRCxRQUFOLENBQWVDLFVBRHJDLENBRUUsNkZBQ0Usd0RBSEosRUFNQXBFLFVBQ0VRLE1BQU02RCxVQUFOLENBQW1CLENBRHJCLENBRUUseUZBRkYsRUFLQSxNQUFLQyxlQUFMLENBQXVCLEdBQUlsRixlQUFKLENBQW1CLE1BQUttRixnQkFBeEIsQ0FBdkIsQ0FDQSxNQUFLQywyQkFBTCxDQUFtQyxHQUFJdEYsWUFBSixDQUNqQyxNQUFLdUYsb0JBRDRCLENBRWpDLE1BQUtqRSxLQUFMLENBQVdrRSx5QkFGc0IsQ0FBbkMsQ0FLQSxHQUFJLE1BQUtsRSxLQUFMLENBQVdtRSw4QkFBZixDQUErQyxDQUM3QyxNQUFLaEMsa0JBQUwsQ0FBMEIsTUFBS25DLEtBQUwsQ0FBV21FLDhCQUFYLENBQTBDQyxHQUExQyxDQUN4QixxQkFBUyxDQUNQL0Isa0JBQW1CLEdBQUloRCxrQkFBSixDQUFzQmdGLEtBQUtDLGlCQUEzQixDQURaLENBRVBDLHVCQUF3QkYsS0FBS0Usc0JBRnRCLENBQVQsRUFEd0IsQ0FBMUIsQ0FNRCxDQVBELElBT08sSUFBSSxNQUFLdkUsS0FBTCxDQUFXdUUsc0JBQWYsQ0FBdUMsQ0FDNUMsTUFBS3BDLGtCQUFMLENBQXdCcUMsSUFBeEIsQ0FBNkIsQ0FDM0JuQyxrQkFBbUIsR0FBSWhELGtCQUFKLENBQXNCLE1BQUtXLEtBQUwsQ0FBV3NFLGlCQUFqQyxDQURRLENBRTNCQyx1QkFBd0IsTUFBS3ZFLEtBQUwsQ0FBV3VFLHNCQUZSLENBQTdCLEVBSUQsQ0FFRCxHQUFJRSxjQUFlLENBQ2pCQyxNQUFPLE1BQUsxRSxLQUFMLENBQVcyRSxrQkFBWCxFQUFpQyxDQUR2QixDQUVqQkMsS0FDRXRFLEtBQUt1RSxHQUFMLENBQ0UsTUFBSzdFLEtBQUwsQ0FBV0MsWUFBWCxDQUF3QixNQUFLRCxLQUFMLENBQVdFLElBQW5DLENBREYsQ0FFRSxDQUFDLE1BQUtGLEtBQUwsQ0FBVzJFLGtCQUFYLEVBQWlDLENBQWxDLEVBQXVDLE1BQUszRSxLQUFMLENBQVc4RSxrQkFGcEQsRUFHSSxDQU5XLENBQW5CLENBU0EsR0FBSSxNQUFLQyw0QkFBTCxFQUFKLENBQXlDLENBQ3ZDLEdBQU1DLGFBQWMsTUFBS3pCLE9BQUwsQ0FBYVgsZUFBYixDQUE2QkssbUJBQTdCLENBQ2xCLE1BQUtqRCxLQUFMLENBQVdpRixPQUFYLEVBQXNCLE1BQUtDLFdBQUwsRUFESixDQUFwQixDQUdBLEdBQUlGLFdBQUosQ0FBaUIsQ0FDZlAsYUFBZU8sV0FBZixDQUNBLE1BQUtHLEtBQUwsQ0FBYUgsV0FBYixDQUNBLE1BQUtJLE9BQUwsQ0FBZUosWUFBWUssTUFBM0IsQ0FDRCxDQUNGLENBRUQsTUFBS0YsS0FBTCxDQUFhVixZQUFiLENBckR5QyxhQXNEMUMsQyx5RkFFbUIsQ0FDbEIsR0FBSSxLQUFLTSw0QkFBTCxFQUFKLENBQXlDLENBQ3ZDLEtBQUt4QixPQUFMLENBQWFYLGVBQWIsQ0FBNkJPLHFCQUE3QixDQUFtRCxDQUNqRE0sUUFBUyxLQUFLeUIsV0FBTCxFQUR3QyxDQUVqREksSUFBSyxLQUFLdEYsS0FBTCxDQUFXaUYsT0FBWCxFQUFzQixLQUFLQyxXQUFMLEVBRnNCLENBR2pEakQsSUFBSyxJQUg0QyxDQUFuRCxFQUtELENBQ0YsQyxtRUFFc0IsQ0FDckIsR0FBSSxLQUFLOEMsNEJBQUwsRUFBSixDQUF5QyxDQUN2QyxLQUFLeEIsT0FBTCxDQUFhWCxlQUFiLENBQTZCUyx1QkFBN0IsQ0FBcUQsQ0FDbkRpQyxJQUFLLEtBQUt0RixLQUFMLENBQVdpRixPQUFYLEVBQXNCLEtBQUtDLFdBQUwsRUFEd0IsQ0FFbkRDLE1BQU8sQ0FDTFQsTUFBTyxLQUFLUyxLQUFMLENBQVdULEtBRGIsQ0FFTEUsS0FBTSxLQUFLTyxLQUFMLENBQVdQLElBRlosQ0FHTFMsT0FBUSxLQUFLRCxPQUhSLENBRjRDLENBQXJELEVBUUQsQ0FDRCxLQUFLOUMsb0JBQUwsQ0FBMEIsSUFBMUIsRUFDQSxLQUFLMEIsMkJBQUwsQ0FBaUN1QixPQUFqQyxDQUF5QyxDQUFDQyxNQUFPLElBQVIsQ0FBekMsRUFDQSxLQUFLckQsa0JBQUwsQ0FBd0JKLE9BQXhCLENBQWdDLGVBQVMsQ0FDdkMwRCxNQUFNcEQsaUJBQU4sQ0FBd0JrRCxPQUF4QixHQUNELENBRkQsRUFHQSxLQUFLekIsZUFBTCxDQUFxQjRCLGtCQUFyQixHQUNELEMsOENBZ0JDQyxLLENBQ0FDLG1CLENBQ0FDLHNCLENBQ0FuQixLLENBQ0FFLEksQ0FDQWtCLGMsQ0FDQSw2QkFTSSxLQUFLOUYsS0FUVCxDQUVFK0YscUJBRkYsU0FFRUEscUJBRkYsQ0FHRUMsc0JBSEYsU0FHRUEsc0JBSEYsQ0FJRTlGLElBSkYsU0FJRUEsSUFKRixDQUtFeUIsT0FMRixTQUtFQSxPQUxGLENBTUUxQixZQU5GLFNBTUVBLFlBTkYsQ0FPRWEsVUFQRixTQU9FQSxVQVBGLENBUUVtRixZQVJGLFNBUUVBLFlBUkYsQ0FVQSxHQUFNQyxjQUFlLEtBQUtsRyxLQUFMLENBQVdtRyxtQkFBWCxDQUFpQyxDQUFqQyxDQUFxQyxDQUExRCxDQUNBLEdBQU1DLEtBQU1uRyxhQUFhQyxJQUFiLEVBQXFCLENBQWpDLENBQ0EsR0FBSW1HLG1CQUFKLENBQ0F6QixLQUFPdEUsS0FBS3VFLEdBQUwsQ0FBU3VCLEdBQVQsQ0FBY3hCLElBQWQsQ0FBUCxDQWJBLHlCQWNTMEIsRUFkVCxFQWVFLEdBQU01RSxNQUFPQyxRQUFRekIsSUFBUixDQUFjb0csRUFBZCxDQUFiLENBQ0EsR0FBTWhCLEtBQU1XLGFBQWF2RSxJQUFiLENBQW1CNEUsRUFBbkIsQ0FBWixDQUNBLE9BQUtDLGNBQUwsQ0FBb0JDLEdBQXBCLENBQXdCRixFQUF4QixDQUE0QmhCLEdBQTVCLEVBQ0EsR0FBSU8sdUJBQXVCWSxHQUF2QixDQUEyQkgsR0FBS0osWUFBaEMsQ0FBSixDQUFtRCxDQUNqRE4sb0JBQW9CcEIsSUFBcEIsQ0FBeUJtQixNQUFNbkYsTUFBL0IsRUFDRCxDQUNEbUYsTUFBTW5CLElBQU4sQ0FDRSxvQkFBQyxZQUFELEVBQ0Usc0JBQXVCdUIscUJBRHpCLENBRUUsdUJBQXdCTyxHQUFLRixHQUFMLENBQVdKLHNCQUFYLENBQW9DVSxTQUY5RCxDQUdFLFFBQVNwQixHQUhYLENBSUUsZUFBZ0IsT0FBS3hCLGVBSnZCLENBS0UsV0FBWWhELFVBTGQsQ0FNRSxNQUFPd0YsRUFOVCxDQU9FLGVBQWdCUixjQVBsQixDQVFFLEtBQU1wRSxJQVJSLENBU0UsSUFBSzRELEdBVFAsQ0FVRSxZQUFhZSxXQVZmLENBV0UsbUJBQW9CLE9BQUtNLG1CQVgzQixDQVlFLFNBQVUsMkJBQUssUUFBS0MsYUFBTCxDQUFtQkMsQ0FBbkIsQ0FBc0J2QixHQUF0QixDQUEyQmdCLEVBQTNCLENBQUwsRUFaWixDQWFFLFVBQVcsT0FBS1EsY0FibEIsQ0FjRSxZQUFhLE9BQUs5RyxLQWRwQixDQWVFLHFJQUFLLGFBQU8sQ0FDVixPQUFLK0csU0FBTCxDQUFlekIsR0FBZixFQUFzQnJELEdBQXRCLENBQ0QsQ0FGRCxDQWZGLEVBREYsRUFxQkFvRSxZQUFjZixHQUFkLENBMUNGLEVBY0EsSUFBSyxHQUFJZ0IsSUFBSzVCLEtBQWQsQ0FBcUI0QixJQUFNMUIsSUFBM0IsQ0FBaUMwQixJQUFqQyxDQUF1QyxPQUE5QkEsRUFBOEIsRUE2QnRDLENBQ0YsQyw2RUFTb0MsQ0FDbkMsTUFBTyxNQUFLdEcsS0FBTCxDQUFXZ0gscUJBQWxCLENBQ0QsQyxtRkFFdUMsQ0FDdEMsR0FBTUMsZUFBZ0IsS0FBSzFELE9BQUwsQ0FBYVgsZUFBbkMsQ0FDQSxNQUFPLENBQUMsRUFDTnFFLGVBQWlCLENBQUMsQ0FBQ0EsY0FBY25HLFVBQWhCLEdBQStCLENBQUMsQ0FBQyxLQUFLZCxLQUFMLENBQVdjLFVBRHZELENBQVIsQ0FHRCxDLHVDQUVRLENBQ1AsR0FBSW9HLE9BQUosQ0FBYSxDQUNYLEdBQU1DLFlBQWE3SCxhQUFhLEtBQUtVLEtBQUwsQ0FBV29ILHFCQUF4QixDQUFuQixDQUNBM0gsUUFDRTBILFlBQWMsSUFBZCxFQUFzQkEsV0FBV0UsUUFBWCxHQUF3QixNQURoRCxDQUVFLDZFQUNFLHNEQUhKLEVBS0QsQ0FSTSxZQWFILEtBQUtySCxLQWJGLENBVUxzSCxrQkFWSyxTQVVMQSxrQkFWSyxDQVdMQyxtQkFYSyxTQVdMQSxtQkFYSyxDQVlMcEIsbUJBWkssU0FZTEEsbUJBWkssYUFjb0IsS0FBS25HLEtBZHpCLENBY0FFLElBZEEsU0FjQUEsSUFkQSxDQWNNWSxVQWROLFNBY01BLFVBZE4sQ0FlUCxHQUFNMEcsMEJBQTJCLEtBQUtDLHlCQUFMLEVBQWpDLENBQ0EsR0FBTTNCLGdCQUFpQixLQUFLOUYsS0FBTCxDQUFXMEgsUUFBWCxDQUNuQixLQUFLMUgsS0FBTCxDQUFXYyxVQUFYLENBQ0U2RyxPQUFPQyxvQkFEVCxDQUVFRCxPQUFPRSxrQkFIVSxDQUluQixJQUpKLENBS0EsR0FBTWxDLE9BQVEsRUFBZCxDQUNBLEdBQU1FLHdCQUF5QixHQUFJaUMsSUFBSixDQUFRLEtBQUs5SCxLQUFMLENBQVc0RixtQkFBbkIsQ0FBL0IsQ0FDQSxHQUFNQSxxQkFBc0IsRUFBNUIsQ0FDQSxHQUFJTyxtQkFBSixDQUF5QixDQUN2QixHQUFJTix1QkFBdUJZLEdBQXZCLENBQTJCLENBQTNCLENBQUosQ0FBbUMsQ0FDakNiLG9CQUFvQnBCLElBQXBCLENBQXlCLENBQXpCLEVBQ0QsQ0FDRCxHQUFNdUQsU0FBVWpKLE1BQU1rSixjQUFOLENBQXFCN0IsbUJBQXJCLEVBQ2RBLG1CQURjLENBSWQsb0JBQUMsbUJBQUQsTUFKRixDQU1BUixNQUFNbkIsSUFBTixDQUNFLG9CQUFDLHNCQUFELEVBQ0UsUUFBUyxLQUFLVSxXQUFMLEdBQXFCLFNBRGhDLENBRUUsSUFBSSxTQUZOLEVBR0Usb0JBQUMsSUFBRCxFQUFNLFNBQVUsS0FBSytDLGVBQXJCLENBQXNDLE1BQU9uQyxjQUE3QyxFQUtHaUMsT0FMSCxDQUhGLENBREYsRUFhRCxDQUNELEdBQU1uRyxXQUFZLEtBQUs1QixLQUFMLENBQVdDLFlBQVgsQ0FBd0JDLElBQXhCLENBQWxCLENBQ0EsR0FBSTBCLFVBQVksQ0FBaEIsQ0FBbUIsQ0FDakJqQyxpQkFBbUIsS0FBbkIsQ0FDQSxHQUFNdUksV0FBWSxDQUFDcEgsVUFBRCxDQUFjLFFBQWQsQ0FBeUIsT0FBM0MsQ0FDQSxHQUFNcUgsa0JBQW1CLEtBQUtuSSxLQUFMLENBQVcyRSxrQkFBWCxDQUNyQixDQUFDLENBRG9CLENBRXJCLEtBQUszRSxLQUFMLENBQVc4RSxrQkFBWCxDQUFnQyxDQUZwQyxDQUhpQixXQU1LLEtBQUtLLEtBTlYsQ0FNVlQsTUFOVSxRQU1WQSxLQU5VLENBTUhFLEtBTkcsUUFNSEEsSUFORyxDQU9qQixLQUFLd0QsVUFBTCxDQUNFekMsS0FERixDQUVFQyxtQkFGRixDQUdFQyxzQkFIRixDQUlFLENBSkYsQ0FLRXNDLGdCQUxGLENBTUVyQyxjQU5GLEVBUUEsR0FBTXVDLG1CQUFvQi9ILEtBQUtDLEdBQUwsQ0FBUzRILGlCQUFtQixDQUE1QixDQUErQnpELE1BQS9CLENBQTFCLENBQ0EsR0FBSSxDQUFDOEMsd0JBQUQsRUFBNkI5QyxPQUFReUQsaUJBQW1CLENBQTVELENBQStELENBQzdELEdBQUlHLHNCQUF1QixLQUEzQixDQUNBLEdBQUl6Qyx1QkFBdUIwQyxJQUF2QixDQUE4QixDQUFsQyxDQUFxQyxDQUNuQyxHQUFNckMsY0FBZUMsb0JBQXNCLENBQXRCLENBQTBCLENBQS9DLENBRUEsSUFBSyxHQUFJRyxJQUFLK0Isa0JBQW9CLENBQWxDLENBQXFDL0IsR0FBSzZCLGdCQUExQyxDQUE0RDdCLElBQTVELENBQWtFLENBQ2hFLEdBQUlULHVCQUF1QlksR0FBdkIsQ0FBMkJILEdBQUtKLFlBQWhDLENBQUosQ0FBbUQsQ0FDakQsR0FBTXNDLFdBQVksS0FBS3BJLHNCQUFMLENBQTRCK0gsZ0JBQTVCLENBQWxCLENBQ0EsR0FBTU0sYUFBYyxLQUFLckksc0JBQUwsQ0FBNEJrRyxFQUE1QixDQUFwQixDQUNBLEdBQU1vQyxXQUNKRCxZQUFZcEksTUFBWixFQUFzQm1JLFVBQVVuSSxNQUFWLENBQW1CbUksVUFBVWhJLE1BQW5ELENBREYsQ0FFQW1GLE1BQU1uQixJQUFOLENBQ0Usb0JBQUMsSUFBRCxFQUFNLElBQUksY0FBVixDQUF5Qix5QkFBUzBELFNBQVQsQ0FBcUJRLFNBQXJCLENBQXpCLEVBREYsRUFHQSxLQUFLTixVQUFMLENBQ0V6QyxLQURGLENBRUVDLG1CQUZGLENBR0VDLHNCQUhGLENBSUVTLEVBSkYsQ0FLRUEsRUFMRixDQU1FUixjQU5GLEVBUUEsR0FBTTZDLFlBQ0osS0FBS3ZJLHNCQUFMLENBQTRCc0UsTUFBNUIsRUFBbUNyRSxNQUFuQyxFQUNDb0ksWUFBWXBJLE1BQVosQ0FBcUJvSSxZQUFZakksTUFEbEMsQ0FERixDQUdBbUYsTUFBTW5CLElBQU4sQ0FDRSxvQkFBQyxJQUFELEVBQU0sSUFBSSxlQUFWLENBQTBCLHlCQUFTMEQsU0FBVCxDQUFxQlMsVUFBckIsQ0FBMUIsRUFERixFQUdBTCxxQkFBdUIsSUFBdkIsQ0FDQSxNQUNELENBQ0YsQ0FDRixDQUNELEdBQUksQ0FBQ0Esb0JBQUwsQ0FBMkIsQ0FDekIsR0FBTUUsWUFBWSxLQUFLcEksc0JBQUwsQ0FBNEIrSCxnQkFBNUIsQ0FBbEIsQ0FDQSxHQUFNUyxZQUNKLEtBQUt4SSxzQkFBTCxDQUE0QnNFLE1BQTVCLEVBQW1DckUsTUFBbkMsRUFDQ21JLFdBQVVuSSxNQUFWLENBQW1CbUksV0FBVWhJLE1BRDlCLENBREYsQ0FHQW1GLE1BQU1uQixJQUFOLENBQ0Usb0JBQUMsSUFBRCxFQUFNLElBQUksY0FBVixDQUF5Qix5QkFBUzBELFNBQVQsQ0FBcUJVLFVBQXJCLENBQXpCLEVBREYsRUFHRCxDQUNGLENBQ0QsS0FBS1IsVUFBTCxDQUNFekMsS0FERixDQUVFQyxtQkFGRixDQUdFQyxzQkFIRixDQUlFd0MsaUJBSkYsQ0FLRXpELEtBTEYsQ0FNRWtCLGNBTkYsRUFRQSxHQUFJLENBQUMsS0FBSytDLFVBQUwsQ0FBZ0JDLElBQWpCLEVBQXlCbkosZ0JBQTdCLENBQStDLENBQzdDb0osUUFBUUMsSUFBUixDQUNFLHdGQUNFLHdDQUZKLEVBSUEsS0FBS0gsVUFBTCxDQUFnQkMsSUFBaEIsQ0FBdUIsSUFBdkIsQ0FDRCxDQUNELEdBQUksQ0FBQ3RCLHdCQUFELEVBQTZCNUMsTUFBT2hELFVBQVksQ0FBcEQsQ0FBdUQsQ0FDckQsR0FBTXFILFdBQVksS0FBSzdJLHNCQUFMLENBQTRCd0UsS0FBNUIsQ0FBbEIsQ0FJQSxHQUFNd0IsS0FBTSxLQUFLcEcsS0FBTCxDQUFXaUIsYUFBWCxDQUNSVyxVQUFZLENBREosQ0FFUnRCLEtBQUt1RSxHQUFMLENBQVNqRCxVQUFZLENBQXJCLENBQXdCLEtBQUtOLDBCQUE3QixDQUZKLENBR0EsR0FBTTRILFVBQVcsS0FBSzlJLHNCQUFMLENBQTRCZ0csR0FBNUIsQ0FBakIsQ0FDQSxHQUFNK0Msa0JBQ0pELFNBQVM3SSxNQUFULENBQ0E2SSxTQUFTMUksTUFEVCxFQUVDeUksVUFBVTVJLE1BQVYsQ0FBbUI0SSxVQUFVekksTUFGOUIsQ0FERixDQUlBbUYsTUFBTW5CLElBQU4sQ0FDRSxvQkFBQyxJQUFELEVBQU0sSUFBSSxjQUFWLENBQXlCLHlCQUFTMEQsU0FBVCxDQUFxQmlCLGdCQUFyQixDQUF6QixFQURGLEVBR0QsQ0FDRixDQTNGRCxJQTJGTyxJQUFJN0Isa0JBQUosQ0FBd0IsQ0FDN0IsR0FBTVMsVUFBVWpKLE1BQU1rSixjQUFOLENBQXFCVixrQkFBckIsRUFDZEEsa0JBRGMsQ0FJZCxvQkFBQyxrQkFBRCxNQUpGLENBTUEzQixNQUFNbkIsSUFBTixDQUNFLG9CQUFDLElBQUQsRUFDRSxJQUFJLFFBRE4sQ0FFRSxTQUFVLEtBQUs0RSxjQUZqQixDQUdFLE1BQU90RCxjQUhULEVBUUdpQyxRQVJILENBREYsRUFZRCxDQUNELEdBQUlSLG1CQUFKLENBQXlCLENBQ3ZCLEdBQU1RLFdBQVVqSixNQUFNa0osY0FBTixDQUFxQlQsbUJBQXJCLEVBQ2RBLG1CQURjLENBSWQsb0JBQUMsbUJBQUQsTUFKRixDQU1BNUIsTUFBTW5CLElBQU4sQ0FDRSxvQkFBQyxzQkFBRCxFQUNFLFFBQVMsS0FBS1UsV0FBTCxHQUFxQixTQURoQyxDQUVFLElBQUksU0FGTixFQUdFLG9CQUFDLElBQUQsRUFBTSxTQUFVLEtBQUttRSxlQUFyQixDQUFzQyxNQUFPdkQsY0FBN0MsRUFLR2lDLFNBTEgsQ0FIRixDQURGLEVBYUQsQ0FDRCxHQUFNdUIseUJBQ0QsS0FBS3RKLEtBREosRUFFSnVKLG9CQUFxQixLQUFLQyxvQkFGdEIsQ0FHSkMsU0FBVSxLQUFLQyxTQUhYLENBSUovRixTQUFVLEtBQUtnRyxTQUpYLENBS0pDLGtCQUFtQixLQUFLQyxrQkFMcEIsQ0FNSkMsZ0JBQWlCLEtBQUtDLGdCQU5sQixDQU9KQyxvQkFBcUIsS0FBS0Msb0JBUHRCLENBUUpDLG9CQUFxQixLQUFLbEssS0FBTCxDQUFXa0ssbUJBUjVCLENBU0pDLG9CQUFxQixLQUFLbkssS0FBTCxDQUFXbUssbUJBQVgsR0FBbUN6RCxTQUFuQyxDQUNqQixLQUFLMUcsS0FBTCxDQUFXbUssbUJBRE0sQ0FFakIsS0FBS25LLEtBQUwsQ0FBVzBILFFBWFgsQ0FZSjlCLHVDQVpJLEVBQU4sQ0FjQSxHQUFJRSxjQUFKLENBQW9CLENBQ2xCd0QsWUFBWWMsS0FBWixDQUFvQixDQUFDdEUsY0FBRCxDQUFpQixLQUFLOUYsS0FBTCxDQUFXb0ssS0FBNUIsQ0FBcEIsQ0FDRCxDQUVELEtBQUsxRyxRQUFMLENBQ0UsS0FBS3lCLEtBQUwsQ0FBV1AsSUFBWCxDQUFrQixLQUFLNUUsS0FBTCxDQUFXQyxZQUFYLENBQXdCLEtBQUtELEtBQUwsQ0FBV0UsSUFBbkMsRUFBMkMsQ0FEL0QsQ0FHQSxHQUFNbUssS0FBTXZMLE1BQU13TCxZQUFOLENBQ1YsQ0FBQyxLQUFLdEssS0FBTCxDQUFXdUsscUJBQVgsRUFBb0MsS0FBS0MsNkJBQTFDLEVBQ0VsQixXQURGLENBRFUsQ0FJVixDQUNFckgsSUFBSyxLQUFLd0ksaUJBRFosQ0FKVSxDQU9WOUUsS0FQVSxDQUFaLENBU0EsR0FBSSxLQUFLM0YsS0FBTCxDQUFXMEssS0FBZixDQUFzQixDQUNwQixNQUNFLHFCQUFDLElBQUQsRUFBTSxNQUFPLENBQUNDLEtBQU0sQ0FBUCxDQUFiLEVBQ0dOLEdBREgsQ0FFRyxLQUFLTyxtQkFBTCxFQUZILENBREYsQ0FNRCxDQVBELElBT08sQ0FDTCxNQUFPUCxJQUFQLENBQ0QsQ0FDRixDLDhEQUVrQlEsUyxDQUFrQixhQUNULEtBQUs3SyxLQURJLENBQzVCRSxJQUQ0QixTQUM1QkEsSUFENEIsQ0FDdEI0SyxTQURzQixTQUN0QkEsU0FEc0IsQ0FFbkMsR0FBSTVLLE9BQVMySyxVQUFVM0ssSUFBbkIsRUFBMkI0SyxZQUFjRCxVQUFVQyxTQUF2RCxDQUFrRSxDQUNoRSxLQUFLQyw4QkFBTCxDQUFzQyxJQUF0QyxDQUlBLEtBQUs1SSxrQkFBTCxDQUF3QkosT0FBeEIsQ0FBZ0MsZUFBUyxDQUN2QzBELE1BQU1wRCxpQkFBTixDQUF3QjJJLG9CQUF4QixHQUNELENBRkQsRUFHRCxDQUNELEtBQUtDLDRCQUFMLEdBQ0QsQyw2REEyQ21CLENBQ2xCLEtBQUtuSCxlQUFMLENBQXFCb0gsZ0JBQXJCLENBQ0UsS0FBS2xMLEtBRFAsQ0FFRSxLQUFLbUYsS0FGUCxDQUdFLEtBQUt6RSxjQUhQLEVBS0QsQyxvREFnQ2FtRyxDLENBQUdwRCxPLENBQVN0QyxLLENBQU8sQ0FDL0IsR0FBTWdLLFFBQVN0RSxFQUFFdUUsV0FBRixDQUFjRCxNQUE3QixDQUNBLEdBQU1FLE1BQU8sQ0FDWGhMLE9BQVEsS0FBS2lMLGFBQUwsQ0FBbUJILE1BQW5CLENBREcsQ0FFWDNLLE9BQVEsS0FBSytLLGFBQUwsQ0FBbUJKLE1BQW5CLENBRkcsQ0FHWGhLLFdBSFcsQ0FJWHFLLFNBQVUsSUFKQyxDQUFiLENBTUEsR0FBTUMsTUFBTyxLQUFLckcsT0FBTCxDQUFhM0IsT0FBYixDQUFiLENBQ0EsR0FDRSxDQUFDZ0ksSUFBRCxFQUNBSixLQUFLaEwsTUFBTCxHQUFnQm9MLEtBQUtwTCxNQURyQixFQUVBZ0wsS0FBSzdLLE1BQUwsR0FBZ0JpTCxLQUFLakwsTUFGckIsRUFHQVcsUUFBVXNLLEtBQUt0SyxLQUpqQixDQUtFLENBQ0EsS0FBS3VLLGdCQUFMLEVBQXlCTCxLQUFLN0ssTUFBTCxFQUFlaUwsS0FBT0EsS0FBS2pMLE1BQVosQ0FBcUIsQ0FBcEMsQ0FBekIsQ0FDQSxLQUFLbUwsbUJBQUwsRUFBNEJGLEtBQU8sQ0FBUCxDQUFXLENBQXZDLENBQ0EsS0FBS2pLLGtCQUFMLENBQ0UsS0FBS2tLLGdCQUFMLENBQXdCLEtBQUtDLG1CQUQvQixDQUVBLEtBQUt2RyxPQUFMLENBQWEzQixPQUFiLEVBQXdCNEgsSUFBeEIsQ0FDQSxLQUFLL0osMEJBQUwsQ0FBa0NoQixLQUFLQyxHQUFMLENBQ2hDLEtBQUtlLDBCQUQyQixDQUVoQ0gsS0FGZ0MsQ0FBbEMsQ0FJQSxLQUFLOEosNEJBQUwsR0FDRCxDQWhCRCxJQWdCTyxDQUNMLEtBQUs3RixPQUFMLENBQWEzQixPQUFiLEVBQXNCK0gsUUFBdEIsQ0FBaUMsSUFBakMsQ0FDRCxDQUNELEtBQUtJLGlCQUFMLEdBQ0QsQyx1R0FTOEMsaUJBQzdDek0sVUFBVTBNLGFBQVYsQ0FDRTlNLFlBQVkyRCxjQUFaLENBQTJCLElBQTNCLENBREYsQ0FFRTNELFlBQVkyRCxjQUFaLENBQ0UsS0FBS2EsT0FBTCxDQUFhWCxlQUFiLENBQTZCRyx5QkFBN0IsRUFERixDQUZGLENBS0UsZUFBUyxDQUNQZ0csUUFBUUMsSUFBUixDQUNFLGlFQUNFLDhDQUZKLEVBSUQsQ0FWSCxDQVdFLFNBQUNqSSxDQUFELENBQUlDLENBQUosQ0FBTzhLLEtBQVAsQ0FBY0MsTUFBZCxDQUF5QixDQUN2QixPQUFLQyxnQ0FBTCxDQUF3QyxPQUFLVixhQUFMLENBQW1CLENBQUN2SyxHQUFELENBQUlDLEdBQUosQ0FBbkIsQ0FBeEMsQ0FDQSxPQUFLTixjQUFMLENBQW9CdUwsYUFBcEIsQ0FBb0MsT0FBS1YsYUFBTCxDQUFtQixDQUFDTyxXQUFELENBQVFDLGFBQVIsQ0FBbkIsQ0FBcEMsQ0FFQSxHQUFNRyxlQUFnQixPQUFLQywyQkFBTCxDQUNwQixPQUFLNUksT0FBTCxDQUFhWCxlQUFiLENBQTZCQyxnQkFBN0IsRUFEb0IsQ0FBdEIsQ0FHQSxPQUFLbkMsY0FBTCxDQUFvQkMsYUFBcEIsQ0FBb0N1TCxjQUFjdkwsYUFBbEQsQ0FDQSxPQUFLRCxjQUFMLENBQW9CTCxNQUFwQixDQUE2QjZMLGNBQWM3TCxNQUEzQyxDQUNELENBcEJILEVBc0JELEMsaUVBNkJxQixDQUNwQixHQUFNK0wsV0FDSixLQUFLMUwsY0FBTCxDQUFvQkMsYUFBcEIsQ0FBb0MsS0FBS0QsY0FBTCxDQUFvQnVMLGFBRDFELENBRUEsR0FBTUksZ0JBQWlCLEVBQXZCLENBQ0EsR0FBTXpLLFdBQVksS0FBSzVCLEtBQUwsQ0FBV0MsWUFBWCxDQUF3QixLQUFLRCxLQUFMLENBQVdFLElBQW5DLENBQWxCLENBQ0EsSUFBSyxHQUFJb0csSUFBSyxDQUFkLENBQWlCQSxHQUFLMUUsU0FBdEIsQ0FBaUMwRSxJQUFqQyxDQUF1QyxDQUNyQyxHQUFNbkcsT0FBUSxLQUFLQyxzQkFBTCxDQUE0QmtHLEVBQTVCLENBQWQsQ0FDQSxHQUFJbkcsTUFBTXFMLFFBQVYsQ0FBb0IsQ0FDbEJhLGVBQWU3SCxJQUFmLENBQW9CckUsS0FBcEIsRUFDRCxDQUNGLENBQ0QsR0FBTW1NLFdBQVksS0FBS2xNLHNCQUFMLENBQTRCLEtBQUsrRSxLQUFMLENBQVdULEtBQXZDLEVBQThDckUsTUFBaEUsQ0FDQSxHQUFNa00sV0FBWSxLQUFLbk0sc0JBQUwsQ0FBNEIsS0FBSytFLEtBQUwsQ0FBV1AsSUFBdkMsQ0FBbEIsQ0FDQSxHQUFNNEgsV0FBWUQsVUFBVWxNLE1BQVYsQ0FBbUJrTSxVQUFVL0wsTUFBN0IsQ0FBc0M4TCxTQUF4RCxDQUNBLEdBQU1HLFFBQVMsS0FBSy9MLGNBQUwsQ0FBb0JMLE1BQW5DLENBQ0EsR0FBTXFNLFFBQVMsS0FBS2hNLGNBQUwsQ0FBb0JDLGFBQW5DLENBQ0EsR0FBTWdNLFdBQVksQ0FBQ0MsU0FBVSxVQUFYLENBQXVCQyxJQUFLLENBQTVCLENBQStCQyxNQUFPLENBQXRDLENBQWxCLENBQ0EsTUFDRSxxQkFBQyxJQUFELEVBQ0Usa0JBQ0tILFNBREwsRUFFRUksT0FBUSxDQUZWLENBR0VqQixNQUFPLEVBSFQsQ0FJRWtCLFlBQWEsTUFKZixDQUtFQyxZQUFhLENBTGYsRUFERixFQVFHWixlQUFlakksR0FBZixDQUFtQixTQUFDOEksQ0FBRCxDQUFJNUcsRUFBSixRQUNsQixxQkFBQyxJQUFELEVBQ0UsSUFBSyxJQUFNQSxFQURiLENBRUUsa0JBQ0txRyxTQURMLEVBRUVRLEtBQU0sQ0FGUixDQUdFTixJQUFLSyxFQUFFN00sTUFBRixDQUFXK0wsU0FIbEIsQ0FJRUwsT0FBUW1CLEVBQUUxTSxNQUFGLENBQVc0TCxTQUpyQixDQUtFZ0IsZ0JBQWlCLFFBTG5CLEVBRkYsRUFEa0IsRUFBbkIsQ0FSSCxDQW9CRSxvQkFBQyxJQUFELEVBQ0Usa0JBQ0tULFNBREwsRUFFRVEsS0FBTSxDQUZSLENBR0VOLElBQUtQLFVBQVlGLFNBSG5CLENBSUVMLE9BQVFTLFVBQVlKLFNBSnRCLENBS0VZLFlBQWEsT0FMZixDQU1FQyxZQUFhLENBTmYsRUFERixFQXBCRixDQThCRSxvQkFBQyxJQUFELEVBQ0Usa0JBQ0tOLFNBREwsRUFFRVEsS0FBTSxDQUZSLENBR0VOLElBQUtKLE9BQVNMLFNBSGhCLENBSUVMLE9BQVFXLE9BQVNOLFNBSm5CLENBS0VZLFlBQWEsS0FMZixDQU1FQyxZQUFhLENBTmYsRUFERixFQTlCRixDQURGLENBMkNELEMsb0RBRWFJLE8sQ0FBNkQsQ0FDekUsTUFBTyxDQUFDLEtBQUtyTixLQUFMLENBQVdjLFVBQVosQ0FBeUJ1TSxRQUFRdEIsTUFBakMsQ0FBMENzQixRQUFRdkIsS0FBekQsQ0FDRCxDLG9EQUVhdUIsTyxDQUFvRCxDQUNoRSxNQUFPLENBQUMsS0FBS3JOLEtBQUwsQ0FBV2MsVUFBWixDQUF5QnVNLFFBQVFyTSxDQUFqQyxDQUFxQ3FNLFFBQVF0TSxDQUFwRCxDQUNELEMsdUVBRXdCLGFBTW5CLEtBQUtmLEtBTmMsQ0FFckJFLElBRnFCLFNBRXJCQSxJQUZxQixDQUdyQkQsWUFIcUIsU0FHckJBLFlBSHFCLENBSXJCcU4sWUFKcUIsU0FJckJBLFlBSnFCLENBS3JCQyxxQkFMcUIsU0FLckJBLHFCQUxxQixvQkFPd0IsS0FBSzdNLGNBUDdCLENBT2hCdUwsYUFQZ0IsZ0JBT2hCQSxhQVBnQixDQU9EdEwsYUFQQyxnQkFPREEsYUFQQyxDQU9jTixNQVBkLGdCQU9jQSxNQVBkLENBUXZCLEdBQU1tTixpQkFBa0J2QixjQUFnQnRMLGFBQWhCLENBQWdDTixNQUF4RCxDQUNBLEdBQ0VpTixjQUNBLEtBQUtuSSxLQUFMLENBQVdQLElBQVgsR0FBb0IzRSxhQUFhQyxJQUFiLEVBQXFCLENBRHpDLEVBS0FzTixnQkFBa0JELHNCQUF3QjVNLGFBTDFDLEdBTUMsS0FBS29LLDhCQUFMLEVBQ0MsS0FBS3JLLGNBQUwsQ0FBb0J1TCxhQUFwQixHQUFzQyxLQUFLd0Isd0JBUDdDLENBREYsQ0FTRSxDQUVBLEtBQUsxQyw4QkFBTCxDQUFzQyxLQUF0QyxDQUNBLEtBQUswQyx3QkFBTCxDQUFnQyxLQUFLL00sY0FBTCxDQUFvQnVMLGFBQXBELENBQ0FxQixhQUFhLENBQUNFLCtCQUFELENBQWIsRUFDRCxDQUNGLEMsbUZBb0g4QixhQUNQLEtBQUtySSxLQURFLENBQ3RCVCxLQURzQixTQUN0QkEsS0FEc0IsQ0FDZkUsSUFEZSxTQUNmQSxJQURlLHFCQUVhLEtBQUtsRSxjQUZsQixDQUV0QkwsTUFGc0IsaUJBRXRCQSxNQUZzQixDQUVkTSxhQUZjLGlCQUVkQSxhQUZjLENBRUMrTSxRQUZELGlCQUVDQSxRQUZELENBRzdCLEdBQU05TCxXQUFZLEtBQUs1QixLQUFMLENBQVdDLFlBQVgsQ0FBd0IsS0FBS0QsS0FBTCxDQUFXRSxJQUFuQyxDQUFsQixDQUNBLEdBQUl5TixPQUFRLEtBQVosQ0FDQSxHQUFJakosTUFBUSxDQUFSLEVBQWFFLEtBQU9oRCxVQUFZLENBQXBDLENBQXVDLENBQ3JDLEdBQU1nTSxTQUFVdk4sT0FBUyxLQUFLRCxzQkFBTCxDQUE0QnNFLEtBQTVCLEVBQW1DckUsTUFBNUQsQ0FDQSxHQUFNd04sWUFDSixLQUFLek4sc0JBQUwsQ0FBNEJ3RSxJQUE1QixFQUFrQ3ZFLE1BQWxDLEVBQTRDQSxPQUFTTSxhQUFyRCxDQURGLENBRUEsR0FBTW1OLG9CQUlKLEtBQUs5TixLQUFMLENBQVd1TixxQkFBWCxDQUFtQzVNLGFBQW5DLENBQW1ELENBSnJELENBS0FnTixNQUNFck4sS0FBS3VFLEdBQUwsQ0FBUytJLE9BQVQsQ0FBa0JDLFVBQWxCLEVBQWdDLENBQWhDLEVBQ0NILFNBQVcsQ0FBQyxDQUFaLEVBQWlCRSxRQUFVRSxrQkFENUIsRUFFQ0osU0FBVyxDQUFYLEVBQWdCRyxXQUFhQyxrQkFIaEMsQ0FJRCxDQU1ELEdBQUlILE9BQVMsS0FBS25NLGtCQUFsQixDQUFzQyxDQUdwQyxLQUFLd0MsMkJBQUwsQ0FBaUN1QixPQUFqQyxDQUF5QyxDQUFDQyxNQUFPLElBQVIsQ0FBekMsRUFDQSxLQUFLdkIsb0JBQUwsR0FDQSxPQUNELENBTkQsSUFNTyxDQUNMLEtBQUtELDJCQUFMLENBQWlDK0osUUFBakMsR0FDRCxDQUNGLEMsa0VBZ0xvQjdOLEksQ0FBVyxvQkFDdkJELGFBRHVCLENBQ1AsS0FBS0QsS0FERSxDQUN2QkMsWUFEdUIsQ0FHOUIsS0FBS2tDLGtCQUFMLENBQXdCSixPQUF4QixDQUFnQyxlQUFTLENBQ3ZDMEQsTUFBTXBELGlCQUFOLENBQXdCMkwsUUFBeEIsQ0FDRS9OLGFBQWFDLElBQWIsQ0FERixDQUVFLE9BQUtRLGNBQUwsQ0FBb0JMLE1BRnRCLENBR0UsT0FBS0ssY0FBTCxDQUFvQkMsYUFIdEIsQ0FJRSxPQUFLb0QsZ0JBSlAsQ0FLRSxPQUFLa0ssZ0JBTFAsQ0FNRXhJLE1BQU1sQixzQkFOUixDQU9FLE9BQUtZLEtBUFAsRUFTRCxDQVZELEVBV0QsQyw0RUEzNUIrQitJLFEsQ0FBaUJDLFMsQ0FBa0IsSUFDMURqTyxLQUQwRCxDQUNKZ08sUUFESSxDQUMxRGhPLElBRDBELENBQ3BENEssU0FEb0QsQ0FDSm9ELFFBREksQ0FDcERwRCxTQURvRCxDQUN6QzdLLFlBRHlDLENBQ0ppTyxRQURJLENBQ3pDak8sWUFEeUMsQ0FDM0JtTyxtQkFEMkIsQ0FDSkYsUUFESSxDQUMzQkUsbUJBRDJCLENBSWpFLE1BQU8sQ0FDTDFKLE1BQU9wRSxLQUFLQyxHQUFMLENBQ0wsQ0FESyxDQUVMRCxLQUFLdUUsR0FBTCxDQUFTc0osVUFBVXpKLEtBQW5CLENBQTBCekUsYUFBYUMsSUFBYixFQUFxQixDQUFyQixDQUF5QmtPLG1CQUFuRCxDQUZLLENBREYsQ0FLTHhKLEtBQU10RSxLQUFLQyxHQUFMLENBQVMsQ0FBVCxDQUFZRCxLQUFLdUUsR0FBTCxDQUFTc0osVUFBVXZKLElBQW5CLENBQXlCM0UsYUFBYUMsSUFBYixFQUFxQixDQUE5QyxDQUFaLENBTEQsQ0FBUCxDQU9ELEMsNkJBNVgyQnBCLE1BQU11UCxhLFNBZ0szQkMsWSxDQUFlLENBQ3BCdEgsc0JBQXVCLEtBREgsQ0FFcEJsRyxXQUFZLEtBRlEsQ0FHcEJnRSxtQkFBb0IsRUFIQSxDQUlwQm1CLGFBQWMsc0JBQUN2RSxJQUFELENBQWFQLEtBQWIsQ0FBK0IsQ0FDM0MsR0FBSU8sS0FBSzRELEdBQUwsRUFBWSxJQUFoQixDQUFzQixDQUNwQixNQUFPNUQsTUFBSzRELEdBQVosQ0FDRCxDQUNEM0YsaUJBQW1CLElBQW5CLENBQ0EsTUFBTzRPLFFBQU9wTixLQUFQLENBQVAsQ0FDRCxDQVZtQixDQVdwQmlOLG9CQUFxQixFQVhELENBWXBCYixzQkFBdUIsQ0FaSCxDQWFwQnJELG9CQUFxQixFQWJELENBY3BCaEcsMEJBQTJCLEVBZFAsQ0FlcEJMLFdBQVksRUFmUSxDLFFBa0JmMkssWSxDQUFlLENBQ3BCaEwsZ0JBQWlCM0UsVUFBVTRQLEtBQVYsQ0FBZ0IsQ0FDL0JoTCxRQUFTNUUsVUFBVTZQLE1BRFksQ0FBaEIsQ0FERyxDQUlwQjlMLGdCQUFpQi9ELFVBQVU0UCxLQUFWLENBQWdCLENBQy9CNUwsaUJBQWtCaEUsVUFBVThQLElBREcsQ0FFL0I3TixXQUFZakMsVUFBVStQLElBRlMsQ0FHL0I3TCwwQkFBMkJsRSxVQUFVOFAsSUFITixDQUkvQjFMLG9CQUFxQnBFLFVBQVU4UCxJQUpBLENBSy9CeEwsc0JBQXVCdEUsVUFBVThQLElBTEYsQ0FNL0J0TCx3QkFBeUJ4RSxVQUFVOFAsSUFOSixDQUFoQixDQUpHLEMsUUFjZkUsaUIsQ0FBb0IsQ0FDekJqTSxnQkFBaUIvRCxVQUFVNFAsS0FBVixDQUFnQixDQUMvQjVMLGlCQUFrQmhFLFVBQVU4UCxJQURHLENBRS9CN04sV0FBWWpDLFVBQVUrUCxJQUZTLENBRy9CN0wsMEJBQTJCbEUsVUFBVThQLElBSE4sQ0FJL0IxTCxvQkFBcUJwRSxVQUFVOFAsSUFKQSxDQUsvQnhMLHNCQUF1QnRFLFVBQVU4UCxJQUxGLENBTS9CdEwsd0JBQXlCeEUsVUFBVThQLElBTkosQ0FBaEIsQ0FEUSxDLG1FQStCM0I3TCxpQixDQUFvQixVQUFNLENBQ3hCLE1BQU8sUUFBS3BDLGNBQVosQ0FDRCxDLE1BTURzQywwQixDQUE2QixVQUFNLENBQ2pDLEdBQUksT0FBSytCLDRCQUFMLEVBQUosQ0FBeUMsQ0FDdkMsTUFBTyxRQUFLeEIsT0FBTCxDQUFhWCxlQUFiLENBQTZCRyx5QkFBN0IsRUFBUCxDQUNELENBRkQsSUFFTyxDQUNMLE1BQU8sT0FBUCxDQUNELENBQ0YsQyxNQUVERyxvQixDQUF1QixTQUFDb0MsR0FBRCxDQUFrQyxDQUN2RCxHQUFNd0osbUJBQW9CLE9BQUtoTixpQkFBTCxDQUF1QmlOLEdBQXZCLENBQTJCekosR0FBM0IsQ0FBMUIsQ0FDQSxNQUFPd0osb0JBQXFCQSxrQkFBa0IzSixLQUE5QyxDQUNELEMsTUFFRC9CLHNCLENBQXlCLFNBQUNwQixTQUFELENBSUYsQ0FFckIsR0FBTWdOLGtCQUNKLE9BQUtDLHdCQUFMLENBQThCRixHQUE5QixDQUFrQy9NLFVBQVV5QixPQUE1QyxHQUF3RCxHQUFJcUUsSUFBSixFQUQxRCxDQUVBa0gsaUJBQWlCRSxHQUFqQixDQUFxQmxOLFVBQVVzRCxHQUEvQixFQUNBLE9BQUsySix3QkFBTCxDQUE4QnpJLEdBQTlCLENBQWtDeEUsVUFBVXlCLE9BQTVDLENBQXFEdUwsZ0JBQXJELEVBRUEsR0FBTUYsbUJBQW9CLE9BQUtoTixpQkFBTCxDQUF1QmlOLEdBQXZCLENBQTJCL00sVUFBVXNELEdBQXJDLENBQTFCLENBQ0E5RixVQUNFLEVBQUVzUCxtQkFBcUJBLGtCQUFrQjdNLEdBQWxCLEdBQTBCLElBQWpELENBREYsQ0FFRSwyREFDRSxzRUFERixDQUVFLGlFQUpKLEVBTUEsT0FBS0gsaUJBQUwsQ0FBdUIwRSxHQUF2QixDQUEyQnhFLFVBQVVzRCxHQUFyQyxDQUEwQyxDQUN4Q3JELElBQUtELFVBQVVDLEdBRHlCLENBRXhDa0QsTUFBTyxJQUZpQyxDQUExQyxFQUtBLEdBQUksT0FBS2dLLGNBQVQsQ0FBeUIsQ0FDdkJuTixVQUFVQyxHQUFWLENBQWNDLGlCQUFkLEdBQ0QsQ0FDRixDLE1BRURvQix3QixDQUEyQixTQUFDdEIsU0FBRCxDQUdmLENBQ1YsT0FBS0YsaUJBQUwsQ0FBdUIwRSxHQUF2QixDQUEyQnhFLFVBQVVzRCxHQUFyQyxDQUEwQyxDQUN4Q3JELElBQUssSUFEbUMsQ0FFeENrRCxNQUFPbkQsVUFBVW1ELEtBRnVCLENBQTFDLEVBSUQsQyxNQTJKRHdCLG1CLENBQXNCLFNBQUNtQyxJQUFELENBQXVCb0YsUUFBdkIsQ0FBNEMsQ0FDaEVwRixLQUFLL0csT0FBTCxDQUFhLGFBQU8sQ0FDbEIsR0FBTUUsS0FBTXFELEtBQU8sSUFBUCxFQUFlLE9BQUt5QixTQUFMLENBQWV6QixHQUFmLENBQTNCLENBQ0FyRCxLQUFPQSxJQUFJbU4sb0JBQUosQ0FBeUJsQixRQUF6QixDQUFQLENBQ0QsQ0FIRCxFQUlELEMsTUEwUEQxTSxrQixDQUFxQixDLE1BRXJCeU4sd0IsQ0FBcUQsR0FBSUksSUFBSixFLE1BQ3JEdEksUyxDQUFZLEUsTUFFWjNCLE8sQ0FBVSxFLE1BQ1YzRSxhLENBQWdCLEMsTUFDaEJzSyw4QixDQUFpQyxJLE1BQ2pDb0UsYyxDQUFpQixLLE1BQ2pCekwsUSxDQUFXLEssTUFDWG1GLFUsQ0FBYSxFLE1BQ2J2SCwwQixDQUE2QixDLE1BQzdCZ08sYSxDQUFnQixDLE1BQ2hCL0ksYyxDQUFzQyxHQUFJOEksSUFBSixFLE1BQ3RDRSxxQixDQUF3QixLLE1BQ3hCek4saUIsQ0FHSSxHQUFJdU4sSUFBSixFLE1BQ0pyRCxnQyxDQUEyQyxDLE1BQzNDd0QsaUIsQ0FBNEIsQyxNQUM1QjlPLGMsQ0FBaUIsQ0FDZnVMLGNBQWUsQ0FEQSxDQUVmd0QsUUFBUyxDQUZNLENBR2ZDLEdBQUksRUFIVyxDQUlmclAsT0FBUSxDQUpPLENBS2ZzUCxVQUFXLENBTEksQ0FNZmpDLFNBQVUsQ0FOSyxDQU9mL00sY0FBZSxDQVBBLEMsTUFTakJDLFUsQ0FBcUMsSSxNQUNyQzZNLHdCLENBQTJCLEMsTUFDM0IvQixnQixDQUFtQixDLE1BQ25CQyxtQixDQUFzQixDLE1BRXRCeEosa0IsQ0FBNEQsRSxNQUU1RHNJLGlCLENBQW9CLGFBQU8sQ0FDekIsT0FBSzdKLFVBQUwsQ0FBa0JxQixHQUFsQixDQUNELEMsTUFVRHVJLDZCLENBQWdDLGVBQVMsQ0FDdkMsR0FBSSxPQUFLekYsNEJBQUwsRUFBSixDQUF5QyxDQUN2QyxNQUFPLHFCQUFDLElBQUQsQ0FBVS9FLEtBQVYsQ0FBUCxDQUNELENBRkQsSUFFTyxJQUFJQSxNQUFNNFAsU0FBVixDQUFxQixDQUMxQnBRLFVBQ0UsTUFBT1EsT0FBTTZQLFVBQWIsR0FBNEIsU0FEOUIsQ0FFRSxvRkFDRUMsS0FBS0MsU0FBTCxDQUFlL1AsTUFBTTZQLFVBQXJCLENBREYsQ0FFRSxHQUpKLEVBTUEsTUFDRSxxQkFBQyxVQUFELGFBQ003UCxLQUROLEVBRUUsZUFJRSxvQkFBQyxjQUFELEVBQ0UsV0FBWUEsTUFBTTZQLFVBRHBCLENBRUUsVUFBVzdQLE1BQU00UCxTQUZuQixDQUdFLG1CQUFvQjVQLE1BQU1nUSxrQkFINUIsRUFOSixHQURGLENBZUQsQ0F0Qk0sSUFzQkEsQ0FDTCxNQUFPLHFCQUFDLFVBQUQsQ0FBZ0JoUSxLQUFoQixDQUFQLENBQ0QsQ0FDRixDLE1BaUNEOEcsYyxDQUFpQixTQUFDckQsT0FBRCxDQUFxQixDQUNwQyxHQUFNZ0ksTUFBTyxPQUFLckcsT0FBTCxDQUFhM0IsT0FBYixDQUFiLENBQ0EsR0FBSWdJLElBQUosQ0FBVSxDQUNSLE9BQUtyRyxPQUFMLENBQWEzQixPQUFiLGNBQTRCZ0ksSUFBNUIsRUFBa0NELFNBQVUsS0FBNUMsR0FDRCxDQUNGLEMsTUEyQkQ5QixTLENBQVksU0FBQzdDLENBQUQsQ0FBZSxDQUN6QixHQUFJLE9BQUs5Qiw0QkFBTCxFQUFKLENBQXlDLENBR3ZDLE9BQUtrTCxzQ0FBTCxHQUNELENBSkQsSUFJTyxDQUNMLE9BQUt2UCxjQUFMLENBQW9CQyxhQUFwQixDQUFvQyxPQUFLNEssYUFBTCxDQUNsQzFFLEVBQUV1RSxXQUFGLENBQWNELE1BRG9CLENBQXBDLENBR0QsQ0FDRCxPQUFLbkwsS0FBTCxDQUFXeUosUUFBWCxFQUF1QixPQUFLekosS0FBTCxDQUFXeUosUUFBWCxDQUFvQjVDLENBQXBCLENBQXZCLENBQ0EsT0FBS29FLDRCQUFMLEdBQ0EsT0FBS2lGLHNCQUFMLEdBQ0QsQyxNQUVEOUcsYyxDQUFpQixXQUFLLENBQ3BCLE9BQUtwSixLQUFMLENBQVd5SixRQUFYLEVBQXVCLE9BQUt6SixLQUFMLENBQVd5SixRQUFYLENBQW9CNUMsQ0FBcEIsQ0FBdkIsQ0FDRCxDLE1BRUR3QyxlLENBQWtCLFdBQUssQ0FDckIsT0FBSzVJLGFBQUwsQ0FBcUIsT0FBSzhLLGFBQUwsQ0FBbUIxRSxFQUFFdUUsV0FBRixDQUFjRCxNQUFqQyxDQUFyQixDQUNELEMsTUFFRGxELGUsQ0FBa0IsV0FBSyxDQUNyQixPQUFLcUgsYUFBTCxDQUFxQixPQUFLL0QsYUFBTCxDQUFtQjFFLEVBQUV1RSxXQUFGLENBQWNELE1BQWpDLENBQXJCLENBQ0QsQyxNQWtHRDNCLG9CLENBQXVCLFNBQUNzQyxLQUFELENBQWdCQyxNQUFoQixDQUFtQyxDQUN4RCxHQUNFRCxNQUFRLENBQVIsRUFDQUMsT0FBUyxDQURULEVBRUEsT0FBSy9MLEtBQUwsQ0FBVzJFLGtCQUFYLEVBQWlDLElBRmpDLEVBR0EsT0FBSzNFLEtBQUwsQ0FBVzJFLGtCQUFYLENBQWdDLENBSGhDLEVBSUEsQ0FBQyxPQUFLNEsscUJBTFIsQ0FNRSxDQUNBLE9BQUsxTixhQUFMLENBQW1CLENBQ2pCL0IsU0FBVSxLQURPLENBRWpCcUIsTUFBTyxPQUFLbkIsS0FBTCxDQUFXMkUsa0JBRkQsQ0FBbkIsRUFJQSxPQUFLNEsscUJBQUwsQ0FBNkIsSUFBN0IsQ0FDRCxDQUNELEdBQUksT0FBS3ZQLEtBQUwsQ0FBV3VKLG1CQUFmLENBQW9DLENBQ2xDLE9BQUt2SixLQUFMLENBQVd1SixtQkFBWCxDQUErQnVDLEtBQS9CLENBQXNDQyxNQUF0QyxFQUNELENBQ0QsT0FBS3JMLGNBQUwsQ0FBb0J1TCxhQUFwQixDQUFvQyxPQUFLVixhQUFMLENBQW1CLENBQUNRLGFBQUQsQ0FBU0QsV0FBVCxDQUFuQixDQUFwQyxDQUNBLE9BQUtiLDRCQUFMLEdBQ0EsT0FBS2lGLHNCQUFMLEdBQ0QsQyxNQUtEL0QsMkIsQ0FBOEIsU0FBQ2tCLE9BQUQsQ0FHeEIsQ0FFSixHQUFNaE4sUUFBU2dOLFFBQVFoTixNQUFSLENBQWlCLE9BQUsyTCxnQ0FBckMsQ0FFQSxHQUFNckwsZUFBZ0IwTSxRQUFRMU0sYUFBOUIsQ0FDQSxHQUFNOE8sU0FBVXBQLE9BQVMsT0FBS0ssY0FBTCxDQUFvQkwsTUFBN0MsQ0FDQSxHQUFNNEwsZUFBZ0IsT0FBS3ZMLGNBQUwsQ0FBb0J1TCxhQUExQyxDQUVBLE1BQU8sQ0FDTHRMLDJCQURLLENBRUxzTCwyQkFGSyxDQUdMNUwsYUFISyxDQUlMb1AsZUFKSyxDQUFQLENBTUQsQyxNQUVEOUYsUyxDQUFZLFNBQUM5QyxDQUFELENBQWUsQ0FDekIsT0FBSy9FLGlCQUFMLENBQXVCQyxPQUF2QixDQUErQixtQkFBYSxDQUMxQ0MsVUFBVUMsR0FBVixFQUFpQkQsVUFBVUMsR0FBVixDQUFjMEgsU0FBZCxDQUF3QjlDLENBQXhCLENBQWpCLENBQ0QsQ0FGRCxFQUdBLEdBQUksT0FBSzdHLEtBQUwsQ0FBVzJELFFBQWYsQ0FBeUIsQ0FDdkIsT0FBSzNELEtBQUwsQ0FBVzJELFFBQVgsQ0FBb0JrRCxDQUFwQixFQUNELENBQ0QsR0FBTThJLFdBQVk5SSxFQUFFc0osU0FBcEIsQ0FDQSxHQUFJeFAsZUFBZ0IsT0FBSzRLLGFBQUwsQ0FBbUIxRSxFQUFFdUUsV0FBRixDQUFjZ0YsaUJBQWpDLENBQXBCLENBQ0EsR0FBSW5FLGVBQWdCLE9BQUtWLGFBQUwsQ0FBbUIxRSxFQUFFdUUsV0FBRixDQUFjaUYsV0FBakMsQ0FBcEIsQ0FDQSxHQUFJaFEsUUFBUyxPQUFLaUwsYUFBTCxDQUFtQnpFLEVBQUV1RSxXQUFGLENBQWNrRixhQUFqQyxDQUFiLENBQ0EsR0FBSWIsU0FBVXBQLE9BQVMsT0FBS0ssY0FBTCxDQUFvQkwsTUFBM0MsQ0FFQSxHQUFJLE9BQUswRSw0QkFBTCxFQUFKLENBQXlDLENBQ3ZDLEdBQUksT0FBS3JFLGNBQUwsQ0FBb0J1TCxhQUFwQixHQUFzQyxDQUExQyxDQUE2QyxDQUczQyxPQUNELENBTHNDLDBCQVduQyxPQUFLRSwyQkFBTCxDQUFpQyxDQUNuQ3hMLDJCQURtQyxDQUVuQ04sYUFGbUMsQ0FBakMsQ0FYbUMsQ0FPckNNLGFBUHFDLHVCQU9yQ0EsYUFQcUMsQ0FRckNzTCxhQVJxQyx1QkFRckNBLGFBUnFDLENBU3JDNUwsTUFUcUMsdUJBU3JDQSxNQVRxQyxDQVVyQ29QLE9BVnFDLHVCQVVyQ0EsT0FWcUMsQ0FleEMsQ0FFRCxHQUFNQyxJQUFLLE9BQUtoUCxjQUFMLENBQW9CaVAsU0FBcEIsQ0FDUHJQLEtBQUtDLEdBQUwsQ0FBUyxDQUFULENBQVlvUCxVQUFZLE9BQUtqUCxjQUFMLENBQW9CaVAsU0FBNUMsQ0FETyxDQUVQLENBRkosQ0FHQSxHQUFNakMsVUFBVytCLFFBQVVDLEVBQTNCLENBRUEsR0FDRUEsR0FBSyxHQUFMLEVBQ0EsT0FBS2hQLGNBQUwsQ0FBb0JnUCxFQUFwQixDQUF5QixHQUR6QixFQUVBekQsY0FBZ0IsRUFBSXRMLGFBRnBCLEVBR0EsQ0FBQyxPQUFLa0ksVUFBTCxDQUFnQjBILElBSm5CLENBS0UsQ0FDQWhSLFFBQ0Usa0ZBQ0Usc0ZBREYsQ0FFRSxpREFISixDQUlFLENBQUNtUSxLQUFELENBQUtjLE9BQVEsT0FBSzlQLGNBQUwsQ0FBb0JnUCxFQUFqQyxDQUFxQ3pELDJCQUFyQyxDQUpGLEVBTUEsT0FBS3BELFVBQUwsQ0FBZ0IwSCxJQUFoQixDQUF1QixJQUF2QixDQUNELENBQ0QsT0FBSzdQLGNBQUwsQ0FBc0IsQ0FDcEJ1TCwyQkFEb0IsQ0FFcEJ5RCxLQUZvQixDQUdwQkQsZUFIb0IsQ0FJcEJwUCxhQUpvQixDQUtwQnNQLG1CQUxvQixDQU1wQmpDLGlCQU5vQixDQU9wQi9NLDJCQVBvQixDQUF0QixDQVNBLE9BQUsyQixvQkFBTCxDQUEwQixPQUFLdEMsS0FBTCxDQUFXRSxJQUFyQyxFQUNBLEdBQUksQ0FBQyxPQUFLRixLQUFWLENBQWlCLENBQ2YsT0FDRCxDQUNELE9BQUtrUSxzQkFBTCxHQUNBLEdBQUl4QyxXQUFhLENBQWpCLENBQW9CLENBQ2xCLE9BQUs1SixlQUFMLENBQXFCMk0sUUFBckIsR0FDRCxDQUNELE9BQUs3RSxpQkFBTCxHQUNBLE9BQUtYLDRCQUFMLEdBQ0QsQyxNQXFDRHBCLGtCLENBQXFCLFNBQUNoRCxDQUFELENBQWEsQ0FDaEMsT0FBSy9FLGlCQUFMLENBQXVCQyxPQUF2QixDQUErQixtQkFBYSxDQUMxQ0MsVUFBVUMsR0FBVixFQUFpQkQsVUFBVUMsR0FBVixDQUFjNEgsa0JBQWQsQ0FBaUNoRCxDQUFqQyxDQUFqQixDQUNELENBRkQsRUFHQSxPQUFLMUUsa0JBQUwsQ0FBd0JKLE9BQXhCLENBQWdDLGVBQVMsQ0FDdkMwRCxNQUFNcEQsaUJBQU4sQ0FBd0JILGlCQUF4QixHQUNELENBRkQsRUFHQSxPQUFLaU4sY0FBTCxDQUFzQixJQUF0QixDQUNBLE9BQUtuUCxLQUFMLENBQVc0SixpQkFBWCxFQUFnQyxPQUFLNUosS0FBTCxDQUFXNEosaUJBQVgsQ0FBNkIvQyxDQUE3QixDQUFoQyxDQUNELEMsTUFFRGtELGdCLENBQW1CLFNBQUNsRCxDQUFELENBQWEsSUFDdkI2RyxTQUR1QixDQUNYN0csRUFBRXVFLFdBRFMsQ0FDdkJzQyxRQUR1QixDQUU5QixHQUFJQSxRQUFKLENBQWMsQ0FDWixPQUFLaE4sY0FBTCxDQUFvQmdOLFFBQXBCLENBQStCLE9BQUtwQyxhQUFMLENBQW1Cb0MsUUFBbkIsQ0FBL0IsQ0FDRCxDQUNELE9BQUs5QixpQkFBTCxHQUNBLE9BQUs1TCxLQUFMLENBQVc4SixlQUFYLEVBQThCLE9BQUs5SixLQUFMLENBQVc4SixlQUFYLENBQTJCakQsQ0FBM0IsQ0FBOUIsQ0FDRCxDLE1BRURvRCxvQixDQUF1QixTQUFDcEQsQ0FBRCxDQUFhLENBQ2xDLE9BQUtuRyxjQUFMLENBQW9CZ04sUUFBcEIsQ0FBK0IsQ0FBL0IsQ0FDQSxPQUFLOUIsaUJBQUwsR0FDQSxPQUFLNUwsS0FBTCxDQUFXZ0ssbUJBQVgsRUFBa0MsT0FBS2hLLEtBQUwsQ0FBV2dLLG1CQUFYLENBQStCbkQsQ0FBL0IsQ0FBbEMsQ0FDRCxDLE1BRUQ1QyxvQixDQUF1QixVQUFNLGFBQ3lCLE9BQUtqRSxLQUQ5QixDQUNwQkUsSUFEb0IsU0FDcEJBLElBRG9CLENBQ2RELFlBRGMsU0FDZEEsWUFEYyxDQUNBc04scUJBREEsU0FDQUEscUJBREEsQ0FFM0IsR0FBTS9GLDBCQUEyQixPQUFLQyx5QkFBTCxFQUFqQyxDQUNBLE9BQUtuRixvQkFBTCxDQUEwQnBDLElBQTFCLEVBQ0EsR0FBSSxDQUFDQSxJQUFMLENBQVcsQ0FDVCxPQUNELENBQ0QsT0FBS3dRLFFBQUwsQ0FBYyxlQUFTLENBQ3JCLEdBQUlDLGdCQUFKLENBQ0EsR0FBSSxDQUFDbkosd0JBQUwsQ0FBK0IsQ0FLN0IsR0FBSSxPQUFLOUcsY0FBTCxDQUFvQkMsYUFBeEIsQ0FBdUMsQ0FLckMsR0FBSSxDQUFDLE9BQUtYLEtBQUwsQ0FBVzJFLGtCQUFaLEVBQWtDLE9BQUtqRSxjQUFMLENBQW9CTCxNQUExRCxDQUFrRSxDQUNoRXNRLFNBQVdqUiw0QkFDVCxPQUFLTSxLQURJLENBRVRtRixLQUZTLENBR1QsT0FBSy9FLHNCQUhJLENBSVQsT0FBS00sY0FKSSxDQUFYLENBTUQsQ0FDRixDQUNGLENBbkJELElBbUJPLHFCQUMwQyxPQUFLQSxjQUQvQyxDQUNFdUwsYUFERixpQkFDRUEsYUFERixDQUNpQjVMLE9BRGpCLGlCQUNpQkEsTUFEakIsQ0FDeUJNLGFBRHpCLGlCQUN5QkEsYUFEekIsQ0FFTCxHQUFNNk0sa0JBQWtCdkIsY0FBZ0J0TCxhQUFoQixDQUFnQ04sT0FBeEQsQ0FDQSxHQUFNdVEsYUFJSnBELGlCQUFrQkQsc0JBQXdCNU0sYUFBMUMsQ0FDSSxPQUFLWCxLQUFMLENBQVdvTyxtQkFEZixDQUVJLENBTk4sQ0FPQXVDLFNBQVcsQ0FDVGpNLE1BQU8sQ0FERSxDQUVURSxLQUFNdEUsS0FBS3VFLEdBQUwsQ0FBU00sTUFBTVAsSUFBTixDQUFhZ00sV0FBdEIsQ0FBbUMzUSxhQUFhQyxJQUFiLEVBQXFCLENBQXhELENBRkcsQ0FBWCxDQUlELENBQ0QsR0FBSXlRLFVBQVksT0FBSzdPLGlCQUFMLENBQXVCeUcsSUFBdkIsQ0FBOEIsQ0FBOUMsQ0FBaUQsQ0FDL0MsR0FBTXNJLFVBQVdGLFNBQVNqTSxLQUExQixDQUNBLEdBQU1vTSxTQUFVSCxTQUFTL0wsSUFBekIsQ0FLQSxJQUFLLEdBQUkwQixJQUFLdUssUUFBZCxDQUF3QnZLLElBQU13SyxPQUE5QixDQUF1Q3hLLElBQXZDLENBQTZDLENBQzNDLEdBQU15SyxpQkFBa0IsT0FBS3hLLGNBQUwsQ0FBb0J3SSxHQUFwQixDQUF3QnpJLEVBQXhCLENBQXhCLENBQ0EsR0FBTTBLLGVBQ0pELGlCQUNBLE9BQUs5Qix3QkFBTCxDQUE4QkYsR0FBOUIsQ0FBa0NnQyxlQUFsQyxDQUZGLENBR0EsR0FBSSxDQUFDQyxhQUFMLENBQW9CLENBQ2xCLFNBQ0QsQ0FDRCxHQUFJQyxrQkFBbUIsS0FBdkIsQ0FFQSxrQkFBcUJELGFBQXJCLDRJQUFvQywwSUFBM0JFLFNBQTJCLE9BQ2xDLEdBQU1sUCxXQUFZLE9BQUtGLGlCQUFMLENBQXVCaU4sR0FBdkIsQ0FBMkJtQyxRQUEzQixDQUFsQixDQUNBLEdBQUlsUCxXQUFhQSxVQUFVQyxHQUF2QixFQUE4QkQsVUFBVUMsR0FBVixDQUFja1AsT0FBZCxFQUFsQyxDQUEyRCxDQUN6REYsaUJBQW1CLElBQW5CLENBQ0EsTUFDRCxDQUNGLENBQ0QsR0FBSUEsZ0JBQUosQ0FBc0IsQ0FDcEJOLFNBQVMvTCxJQUFULENBQWdCMEIsRUFBaEIsQ0FDQSxNQUNELENBQ0YsQ0FDRixDQUNELE1BQU9xSyxTQUFQLENBQ0QsQ0FuRUQsRUFvRUQsQyxNQUVEMUMsZ0IsQ0FBbUIsU0FBQzlNLEtBQUQsQ0FBZ0JpUSxVQUFoQixDQUF3QyxhQUNuQixPQUFLcFIsS0FEYyxDQUNsREUsSUFEa0QsU0FDbERBLElBRGtELENBQzVDeUIsT0FENEMsU0FDNUNBLE9BRDRDLENBQ25Dc0UsWUFEbUMsU0FDbkNBLFlBRG1DLENBRXpELEdBQU12RSxNQUFPQyxRQUFRekIsSUFBUixDQUFjaUIsS0FBZCxDQUFiLENBQ0EsTUFBTyxDQUFDQSxXQUFELENBQVFPLFNBQVIsQ0FBYzRELElBQUtXLGFBQWF2RSxJQUFiLENBQW1CUCxLQUFuQixDQUFuQixDQUE4Q2lRLHFCQUE5QyxDQUFQLENBQ0QsQyxNQUVEaFIsc0IsQ0FBeUIsU0FDdkJlLEtBRHVCLENBRWMsQ0FDckMsR0FBTWhCLE9BQVEsT0FBSzRELGdCQUFMLENBQXNCNUMsS0FBdEIsQ0FBZCxDQUNBLEdBQUloQixPQUFTQSxNQUFNZ0IsS0FBTixHQUFnQkEsS0FBN0IsQ0FBb0MsQ0FFbEMsTUFBT2hCLE1BQVAsQ0FDRCxDQUhELElBR08sSUFDRWMsZUFERixDQUNtQixPQUFLakIsS0FEeEIsQ0FDRWlCLGFBREYsQ0FFTHpCLFVBQ0UsQ0FBQ3lCLGNBREgsQ0FFRSxvRkFGRixFQUlBLE1BQU8sQ0FDTFQsT0FBUSxPQUFLZ0Isa0JBRFIsQ0FFTG5CLE9BQVEsT0FBS21CLGtCQUFMLENBQTBCTCxLQUY3QixDQUFQLENBSUQsQ0FDRixDLE1BRUQ0QyxnQixDQUFtQixTQUNqQjVDLEtBRGlCLENBT2QsY0FPQyxPQUFLbkIsS0FQTixDQUVERSxJQUZDLFVBRURBLElBRkMsQ0FHRHlCLE9BSEMsVUFHREEsT0FIQyxDQUlEMUIsWUFKQyxVQUlEQSxZQUpDLENBS0RnQixhQUxDLFVBS0RBLGFBTEMsQ0FNRGdGLFlBTkMsVUFNREEsWUFOQyxDQVFIekcsVUFDRVMsYUFBYUMsSUFBYixFQUFxQmlCLEtBRHZCLENBRUUsNkNBQStDQSxLQUZqRCxFQUlBLEdBQU1PLE1BQU9DLFFBQVF6QixJQUFSLENBQWNpQixLQUFkLENBQWIsQ0FDQSxHQUFJaEIsT0FBUXVCLE1BQVEsT0FBSzBELE9BQUwsQ0FBYWEsYUFBYXZFLElBQWIsQ0FBbUJQLEtBQW5CLENBQWIsQ0FBcEIsQ0FDQSxHQUFJLENBQUNoQixLQUFELEVBQVVBLE1BQU1nQixLQUFOLEdBQWdCQSxLQUE5QixDQUFxQyxDQUNuQyxHQUFJRixhQUFKLENBQW1CLENBQ2pCZCxNQUFRYyxjQUFjZixJQUFkLENBQW9CaUIsS0FBcEIsQ0FBUixDQUNBLEdBQUkrRixPQUFKLENBQWEsQ0FDWCxHQUFNbUssV0FBWXhTLFVBQVU0UCxLQUFWLENBQWdCLENBQ2hDak8sT0FBUTNCLFVBQVV5UyxNQUFWLENBQWlCQyxVQURPLENBRWhDbFIsT0FBUXhCLFVBQVV5UyxNQUFWLENBQWlCQyxVQUZPLENBR2hDcFEsTUFBT3RDLFVBQVV5UyxNQUFWLENBQWlCQyxVQUhRLENBQWhCLEVBSWZBLFVBSkgsQ0FLQTFTLFVBQVUyUyxjQUFWLENBQ0UsQ0FBQ3JSLE1BQU9rUixTQUFSLENBREYsQ0FFRSxDQUFDbFIsV0FBRCxDQUZGLENBR0UsT0FIRixDQUlFLCtCQUpGLEVBTUQsQ0FDRixDQUNGLENBSUQsTUFBT0EsTUFBUCxDQUNELEMsYUFtQkdzUixhLDZjQXFCSnRNLEssQ0FBUSxDQUNOdU0sZUFBZ0IsQ0FDZEMsWUFBYSxLQURDLENBRWRDLFlBQWEsT0FBSzVSLEtBQUwsQ0FBVzBCLElBRlYsQ0FEVixDLFFBdUJSbVEsVyxDQUFjLENBQ1pDLFVBQVcsb0JBQU0sa0JBQ2dCLE9BQUs5UixLQURyQixDQUNSeUQsT0FEUSxjQUNSQSxPQURRLENBQ0M0QyxXQURELGNBQ0NBLFdBREQsQ0FFZixPQUFLckcsS0FBTCxDQUFXK1Isa0JBQVgsQ0FBOEIsQ0FBQ3RPLE9BQUQsQ0FBVTRDLFdBQVYsQ0FBOUIsQ0FBc0QsQ0FDcERzTCxZQUFhLElBRHVDLENBQXRELEVBR0QsQ0FOVyxDQU9aSyxZQUFhLHNCQUFNLG1CQUNjLE9BQUtoUyxLQURuQixDQUNWeUQsT0FEVSxlQUNWQSxPQURVLENBQ0Q0QyxXQURDLGVBQ0RBLFdBREMsQ0FFakIsT0FBS3JHLEtBQUwsQ0FBVytSLGtCQUFYLENBQThCLENBQUN0TyxPQUFELENBQVU0QyxXQUFWLENBQTlCLENBQXNELENBQ3BEc0wsWUFBYSxLQUR1QyxDQUF0RCxFQUdELENBWlcsQ0FhWk0sWUFBYSxxQkFBQ0MsTUFBRCxDQUFpQ2hFLFFBQWpDLENBQXNELG1CQUNsQyxPQUFLbE8sS0FENkIsQ0FDMUR5RCxPQUQwRCxlQUMxREEsT0FEMEQsQ0FDakQ0QyxXQURpRCxlQUNqREEsV0FEaUQsQ0FFakUsT0FBS3JHLEtBQUwsQ0FBVytSLGtCQUFYLENBQ0UsQ0FBQ0csU0FBVyxTQUFYLENBQXVCN0wsV0FBdkIsQ0FBcUM1QyxPQUF0QyxDQURGLENBRUV5SyxRQUZGLEVBSUQsQ0FuQlcsQyxxSUFWSSxDQUNoQixNQUFPLENBQ0wxSyxnQkFBaUIsQ0FDZkMsUUFBUyxLQUFLekQsS0FBTCxDQUFXeUQsT0FETCxDQURaLENBQVAsQ0FLRCxDLGtFQTBCb0J5SyxRLENBQWtCLENBQ3JDLEtBQUt3QyxRQUFMLENBQWMsc0JBQVUsQ0FDdEJnQiwyQkFBb0J2TSxNQUFNdU0sY0FBMUIsQ0FBNkN4RCxRQUE3QyxDQURzQixDQUFWLEVBQWQsRUFHRCxDLG1FQUVzQixDQUNyQixLQUFLbE8sS0FBTCxDQUFXbVMsU0FBWCxDQUFxQixLQUFLblMsS0FBTCxDQUFXeUQsT0FBaEMsRUFDRCxDLHVDQUVRLGNBVUgsS0FBS3pELEtBVkYsQ0FFTCtGLHFCQUZLLFVBRUxBLHFCQUZLLENBR0xDLHNCQUhLLFVBR0xBLHNCQUhLLENBSUxvTSxjQUpLLFVBSUxBLGNBSkssQ0FLTHRSLFVBTEssVUFLTEEsVUFMSyxDQU1MWSxJQU5LLFVBTUxBLElBTkssQ0FPTFAsS0FQSyxVQU9MQSxLQVBLLENBUUwyRSxjQVJLLFVBUUxBLGNBUkssQ0FTTHVNLFdBVEssVUFTTEEsV0FUSyxJQVdBQyxXQVhBLENBVzZCRCxXQVg3QixDQVdBQyxVQVhBLENBV1lyUixhQVhaLENBVzZCb1IsV0FYN0IsQ0FXWXBSLGFBWFosQ0FZUHpCLFVBQVU4UyxVQUFWLENBQXNCLGdCQUF0QixFQUNBLEdBQU12SyxTQUFVdUssV0FBVyxDQUN6QjVRLFNBRHlCLENBRXpCUCxXQUZ5QixDQUd6Qm9SLFdBQVksS0FBS1YsV0FIUSxDQUFYLENBQWhCLENBS0EsR0FBTXBJLFVBQ0p4SSxlQUFpQixDQUFDb1IsWUFBWTNILEtBQTlCLEVBQXVDLENBQUMwSCxlQUFlSSxPQUFmLEVBQXhDLENBQ0k5TCxTQURKLENBRUksS0FBSzFHLEtBQUwsQ0FBV3lKLFFBSGpCLENBTUEsR0FBTWdKLGVBQWdCek0sd0JBQ3BCLG9CQUFDLHNCQUFELENBQTRCLEtBQUtiLEtBQUwsQ0FBV3VNLGNBQXZDLENBREYsQ0FHQSxHQUFNZ0IsV0FBWTVNLGVBQ2RoRixXQUNFLENBQUMsQ0FBQzZSLGNBQWUsYUFBaEIsQ0FBRCxDQUFpQzdNLGNBQWpDLENBREYsQ0FFRSxDQUFDLENBQUM2TSxjQUFlLGdCQUFoQixDQUFELENBQW9DN00sY0FBcEMsQ0FIWSxDQUlkaEYsV0FBYSxDQUFDLENBQUM2UixjQUFlLEtBQWhCLENBQUQsQ0FBeUI3TSxjQUF6QixDQUFiLENBQXdEQSxjQUo1RCxDQUtBLEdBQUksQ0FBQ0MscUJBQUwsQ0FBNEIsQ0FDMUIsTUFDRSxxQkFBQyxJQUFELEVBQU0sTUFBTzJNLFNBQWIsQ0FBd0IsU0FBVWpKLFFBQWxDLEVBQ0cxQixPQURILENBRUcwSyxhQUZILENBREYsQ0FNRCxDQUNELE1BQ0UscUJBQUMscUJBQUQsYUFDTSxLQUFLelMsS0FEWCxFQUVFLE1BQU8wUyxTQUZULENBR0UsU0FBVWpKLFFBSFosR0FJRzFCLE9BSkgsQ0FLRzBLLGFBTEgsQ0FERixDQVNELEMsMEJBN0h3QjNULE1BQU04VCxTLFVBNEJ4Qi9ELGlCLENBQW9CLENBQ3pCckwsZ0JBQWlCM0UsVUFBVTRQLEtBQVYsQ0FBZ0IsQ0FDL0JoTCxRQUFTNUUsVUFBVTZQLE1BRFksQ0FBaEIsQ0FEUSxDLFlBb0d2Qm1FLHVCLDZaQVVjLENBQ2hCLE1BQU8sQ0FDTHJQLGdCQUFpQixDQUNmQyxRQUFTLEtBQUt6RCxLQUFMLENBQVd5RCxPQURMLENBRFosQ0FBUCxDQUtELEMsdUNBRVEsQ0FDUCxNQUFPLE1BQUt6RCxLQUFMLENBQVc4UyxRQUFsQixDQUNELEMsb0NBcEJrQ2hVLE1BQU04VCxTLFVBSWxDL0QsaUIsQ0FBb0IsQ0FDekJyTCxnQkFBaUIzRSxVQUFVNFAsS0FBVixDQUFnQixDQUMvQmhMLFFBQVM1RSxVQUFVNlAsTUFEWSxDQUFoQixDQURRLEMsU0FtQjdCLEdBQU0vRyxRQUFTekksV0FBVzZULE1BQVgsQ0FBa0IsQ0FDL0JsTCxtQkFBb0IsQ0FDbEJtTCxVQUFXLENBQUMsQ0FBQ0MsT0FBUSxDQUFDLENBQVYsQ0FBRCxDQURPLENBRFcsQ0FJL0JyTCxxQkFBc0IsQ0FDcEJvTCxVQUFXLENBQUMsQ0FBQ0UsT0FBUSxDQUFDLENBQVYsQ0FBRCxDQURTLENBSlMsQ0FBbEIsQ0FBZixDQVNBQyxPQUFPQyxPQUFQLENBQWlCeFQsZUFBakIiLCJmaWxlIjoiVmlydHVhbGl6ZWRMaXN0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTUtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUgVmlydHVhbGl6ZWRMaXN0XG4gKiBAZmxvd1xuICogQGZvcm1hdFxuICovXG4ndXNlIHN0cmljdCc7XG5cbmNvbnN0IEJhdGNoaW5hdG9yID0gcmVxdWlyZSgnQmF0Y2hpbmF0b3InKTtcbmNvbnN0IEZpbGxSYXRlSGVscGVyID0gcmVxdWlyZSgnRmlsbFJhdGVIZWxwZXInKTtcbmNvbnN0IFByb3BUeXBlcyA9IHJlcXVpcmUoJ3Byb3AtdHlwZXMnKTtcbmNvbnN0IFJlYWN0ID0gcmVxdWlyZSgnUmVhY3QnKTtcbmNvbnN0IFJlYWN0TmF0aXZlID0gcmVxdWlyZSgnUmVhY3ROYXRpdmUnKTtcbmNvbnN0IFJlZnJlc2hDb250cm9sID0gcmVxdWlyZSgnUmVmcmVzaENvbnRyb2wnKTtcbmNvbnN0IFNjcm9sbFZpZXcgPSByZXF1aXJlKCdTY3JvbGxWaWV3Jyk7XG5jb25zdCBTdHlsZVNoZWV0ID0gcmVxdWlyZSgnU3R5bGVTaGVldCcpO1xuY29uc3QgVUlNYW5hZ2VyID0gcmVxdWlyZSgnVUlNYW5hZ2VyJyk7XG5jb25zdCBWaWV3ID0gcmVxdWlyZSgnVmlldycpO1xuY29uc3QgVmlld2FiaWxpdHlIZWxwZXIgPSByZXF1aXJlKCdWaWV3YWJpbGl0eUhlbHBlcicpO1xuXG5jb25zdCBmbGF0dGVuU3R5bGUgPSByZXF1aXJlKCdmbGF0dGVuU3R5bGUnKTtcbmNvbnN0IGluZm9Mb2cgPSByZXF1aXJlKCdpbmZvTG9nJyk7XG5jb25zdCBpbnZhcmlhbnQgPSByZXF1aXJlKCdmYmpzL2xpYi9pbnZhcmlhbnQnKTtcbi8qICRGbG93Rml4TWUoPj0wLjU0LjAgc2l0ZT1yZWFjdF9uYXRpdmVfb3NzKSBUaGlzIGNvbW1lbnQgc3VwcHJlc3NlcyBhbiBlcnJvclxuICogZm91bmQgd2hlbiBGbG93IHYwLjU0IHdhcyBkZXBsb3llZC4gVG8gc2VlIHRoZSBlcnJvciBkZWxldGUgdGhpcyBjb21tZW50IGFuZFxuICogcnVuIEZsb3cuICovXG5jb25zdCB3YXJuaW5nID0gcmVxdWlyZSgnZmJqcy9saWIvd2FybmluZycpO1xuXG5jb25zdCB7Y29tcHV0ZVdpbmRvd2VkUmVuZGVyTGltaXRzfSA9IHJlcXVpcmUoJ1ZpcnR1YWxpemVVdGlscycpO1xuXG5pbXBvcnQgdHlwZSB7RGFuZ2Vyb3VzbHlJbXByZWNpc2VTdHlsZVByb3B9IGZyb20gJ1N0eWxlU2hlZXQnO1xuaW1wb3J0IHR5cGUge1xuICBWaWV3YWJpbGl0eUNvbmZpZyxcbiAgVmlld1Rva2VuLFxuICBWaWV3YWJpbGl0eUNvbmZpZ0NhbGxiYWNrUGFpcixcbn0gZnJvbSAnVmlld2FiaWxpdHlIZWxwZXInO1xuXG50eXBlIEl0ZW0gPSBhbnk7XG5cbmV4cG9ydCB0eXBlIHJlbmRlckl0ZW1UeXBlID0gKGluZm86IGFueSkgPT4gP1JlYWN0LkVsZW1lbnQ8YW55PjtcblxudHlwZSBWaWV3YWJpbGl0eUhlbHBlckNhbGxiYWNrVHVwbGUgPSB7XG4gIHZpZXdhYmlsaXR5SGVscGVyOiBWaWV3YWJpbGl0eUhlbHBlcixcbiAgb25WaWV3YWJsZUl0ZW1zQ2hhbmdlZDogKGluZm86IHtcbiAgICB2aWV3YWJsZUl0ZW1zOiBBcnJheTxWaWV3VG9rZW4+LFxuICAgIGNoYW5nZWQ6IEFycmF5PFZpZXdUb2tlbj4sXG4gIH0pID0+IHZvaWQsXG59O1xuXG50eXBlIFJlcXVpcmVkUHJvcHMgPSB7XG4gIC8vIFRPRE86IENvbmZsaWN0cyB3aXRoIHRoZSBvcHRpb25hbCBgcmVuZGVySXRlbWAgaW5cbiAgLy8gYFZpcnR1YWxpemVkU2VjdGlvbkxpc3RgJ3MgcHJvcHMuXG4gIHJlbmRlckl0ZW06ICRGbG93Rml4TWU8cmVuZGVySXRlbVR5cGU+LFxuICAvKipcbiAgICogVGhlIGRlZmF1bHQgYWNjZXNzb3IgZnVuY3Rpb25zIGFzc3VtZSB0aGlzIGlzIGFuIEFycmF5PHtrZXk6IHN0cmluZ30+IGJ1dCB5b3UgY2FuIG92ZXJyaWRlXG4gICAqIGdldEl0ZW0sIGdldEl0ZW1Db3VudCwgYW5kIGtleUV4dHJhY3RvciB0byBoYW5kbGUgYW55IHR5cGUgb2YgaW5kZXgtYmFzZWQgZGF0YS5cbiAgICovXG4gIGRhdGE/OiBhbnksXG4gIC8qKlxuICAgKiBBIGdlbmVyaWMgYWNjZXNzb3IgZm9yIGV4dHJhY3RpbmcgYW4gaXRlbSBmcm9tIGFueSBzb3J0IG9mIGRhdGEgYmxvYi5cbiAgICovXG4gIGdldEl0ZW06IChkYXRhOiBhbnksIGluZGV4OiBudW1iZXIpID0+ID9JdGVtLFxuICAvKipcbiAgICogRGV0ZXJtaW5lcyBob3cgbWFueSBpdGVtcyBhcmUgaW4gdGhlIGRhdGEgYmxvYi5cbiAgICovXG4gIGdldEl0ZW1Db3VudDogKGRhdGE6IGFueSkgPT4gbnVtYmVyLFxufTtcbnR5cGUgT3B0aW9uYWxQcm9wcyA9IHtcbiAgLyoqXG4gICAqIGBkZWJ1Z2Agd2lsbCB0dXJuIG9uIGV4dHJhIGxvZ2dpbmcgYW5kIHZpc3VhbCBvdmVybGF5cyB0byBhaWQgd2l0aCBkZWJ1Z2dpbmcgYm90aCB1c2FnZSBhbmRcbiAgICogaW1wbGVtZW50YXRpb24sIGJ1dCB3aXRoIGEgc2lnbmlmaWNhbnQgcGVyZiBoaXQuXG4gICAqL1xuICBkZWJ1Zz86ID9ib29sZWFuLFxuICAvKipcbiAgICogREVQUkVDQVRFRDogVmlydHVhbGl6YXRpb24gcHJvdmlkZXMgc2lnbmlmaWNhbnQgcGVyZm9ybWFuY2UgYW5kIG1lbW9yeSBvcHRpbWl6YXRpb25zLCBidXQgZnVsbHlcbiAgICogdW5tb3VudHMgcmVhY3QgaW5zdGFuY2VzIHRoYXQgYXJlIG91dHNpZGUgb2YgdGhlIHJlbmRlciB3aW5kb3cuIFlvdSBzaG91bGQgb25seSBuZWVkIHRvIGRpc2FibGVcbiAgICogdGhpcyBmb3IgZGVidWdnaW5nIHB1cnBvc2VzLlxuICAgKi9cbiAgZGlzYWJsZVZpcnR1YWxpemF0aW9uOiBib29sZWFuLFxuICAvKipcbiAgICogQSBtYXJrZXIgcHJvcGVydHkgZm9yIHRlbGxpbmcgdGhlIGxpc3QgdG8gcmUtcmVuZGVyIChzaW5jZSBpdCBpbXBsZW1lbnRzIGBQdXJlQ29tcG9uZW50YCkuIElmXG4gICAqIGFueSBvZiB5b3VyIGByZW5kZXJJdGVtYCwgSGVhZGVyLCBGb290ZXIsIGV0Yy4gZnVuY3Rpb25zIGRlcGVuZCBvbiBhbnl0aGluZyBvdXRzaWRlIG9mIHRoZVxuICAgKiBgZGF0YWAgcHJvcCwgc3RpY2sgaXQgaGVyZSBhbmQgdHJlYXQgaXQgaW1tdXRhYmx5LlxuICAgKi9cbiAgZXh0cmFEYXRhPzogYW55LFxuICBnZXRJdGVtTGF5b3V0PzogKFxuICAgIGRhdGE6IGFueSxcbiAgICBpbmRleDogbnVtYmVyLFxuICApID0+IHtsZW5ndGg6IG51bWJlciwgb2Zmc2V0OiBudW1iZXIsIGluZGV4OiBudW1iZXJ9LCAvLyBlLmcuIGhlaWdodCwgeVxuICBob3Jpem9udGFsPzogP2Jvb2xlYW4sXG4gIC8qKlxuICAgKiBIb3cgbWFueSBpdGVtcyB0byByZW5kZXIgaW4gdGhlIGluaXRpYWwgYmF0Y2guIFRoaXMgc2hvdWxkIGJlIGVub3VnaCB0byBmaWxsIHRoZSBzY3JlZW4gYnV0IG5vdFxuICAgKiBtdWNoIG1vcmUuIE5vdGUgdGhlc2UgaXRlbXMgd2lsbCBuZXZlciBiZSB1bm1vdW50ZWQgYXMgcGFydCBvZiB0aGUgd2luZG93ZWQgcmVuZGVyaW5nIGluIG9yZGVyXG4gICAqIHRvIGltcHJvdmUgcGVyY2VpdmVkIHBlcmZvcm1hbmNlIG9mIHNjcm9sbC10by10b3AgYWN0aW9ucy5cbiAgICovXG4gIGluaXRpYWxOdW1Ub1JlbmRlcjogbnVtYmVyLFxuICAvKipcbiAgICogSW5zdGVhZCBvZiBzdGFydGluZyBhdCB0aGUgdG9wIHdpdGggdGhlIGZpcnN0IGl0ZW0sIHN0YXJ0IGF0IGBpbml0aWFsU2Nyb2xsSW5kZXhgLiBUaGlzXG4gICAqIGRpc2FibGVzIHRoZSBcInNjcm9sbCB0byB0b3BcIiBvcHRpbWl6YXRpb24gdGhhdCBrZWVwcyB0aGUgZmlyc3QgYGluaXRpYWxOdW1Ub1JlbmRlcmAgaXRlbXNcbiAgICogYWx3YXlzIHJlbmRlcmVkIGFuZCBpbW1lZGlhdGVseSByZW5kZXJzIHRoZSBpdGVtcyBzdGFydGluZyBhdCB0aGlzIGluaXRpYWwgaW5kZXguIFJlcXVpcmVzXG4gICAqIGBnZXRJdGVtTGF5b3V0YCB0byBiZSBpbXBsZW1lbnRlZC5cbiAgICovXG4gIGluaXRpYWxTY3JvbGxJbmRleD86ID9udW1iZXIsXG4gIC8qKlxuICAgKiBSZXZlcnNlcyB0aGUgZGlyZWN0aW9uIG9mIHNjcm9sbC4gVXNlcyBzY2FsZSB0cmFuc2Zvcm1zIG9mIC0xLlxuICAgKi9cbiAgaW52ZXJ0ZWQ/OiA/Ym9vbGVhbixcbiAga2V5RXh0cmFjdG9yOiAoaXRlbTogSXRlbSwgaW5kZXg6IG51bWJlcikgPT4gc3RyaW5nLFxuICAvKipcbiAgICogRWFjaCBjZWxsIGlzIHJlbmRlcmVkIHVzaW5nIHRoaXMgZWxlbWVudC4gQ2FuIGJlIGEgUmVhY3QgQ29tcG9uZW50IENsYXNzLFxuICAgKiBvciBhIHJlbmRlciBmdW5jdGlvbi4gRGVmYXVsdHMgdG8gdXNpbmcgVmlldy5cbiAgICovXG4gIENlbGxSZW5kZXJlckNvbXBvbmVudD86ID9SZWFjdC5Db21wb25lbnRUeXBlPGFueT4sXG4gIC8qKlxuICAgKiBSZW5kZXJlZCB3aGVuIHRoZSBsaXN0IGlzIGVtcHR5LiBDYW4gYmUgYSBSZWFjdCBDb21wb25lbnQgQ2xhc3MsIGEgcmVuZGVyIGZ1bmN0aW9uLCBvclxuICAgKiBhIHJlbmRlcmVkIGVsZW1lbnQuXG4gICAqL1xuICBMaXN0RW1wdHlDb21wb25lbnQ/OiA/KFJlYWN0LkNvbXBvbmVudFR5cGU8YW55PiB8IFJlYWN0LkVsZW1lbnQ8YW55PiksXG4gIC8qKlxuICAgKiBSZW5kZXJlZCBhdCB0aGUgYm90dG9tIG9mIGFsbCB0aGUgaXRlbXMuIENhbiBiZSBhIFJlYWN0IENvbXBvbmVudCBDbGFzcywgYSByZW5kZXIgZnVuY3Rpb24sIG9yXG4gICAqIGEgcmVuZGVyZWQgZWxlbWVudC5cbiAgICovXG4gIExpc3RGb290ZXJDb21wb25lbnQ/OiA/KFJlYWN0LkNvbXBvbmVudFR5cGU8YW55PiB8IFJlYWN0LkVsZW1lbnQ8YW55PiksXG4gIC8qKlxuICAgKiBSZW5kZXJlZCBhdCB0aGUgdG9wIG9mIGFsbCB0aGUgaXRlbXMuIENhbiBiZSBhIFJlYWN0IENvbXBvbmVudCBDbGFzcywgYSByZW5kZXIgZnVuY3Rpb24sIG9yXG4gICAqIGEgcmVuZGVyZWQgZWxlbWVudC5cbiAgICovXG4gIExpc3RIZWFkZXJDb21wb25lbnQ/OiA/KFJlYWN0LkNvbXBvbmVudFR5cGU8YW55PiB8IFJlYWN0LkVsZW1lbnQ8YW55PiksXG4gIC8qKlxuICAgKiBBIHVuaXF1ZSBpZGVudGlmaWVyIGZvciB0aGlzIGxpc3QuIElmIHRoZXJlIGFyZSBtdWx0aXBsZSBWaXJ0dWFsaXplZExpc3RzIGF0IHRoZSBzYW1lIGxldmVsIG9mXG4gICAqIG5lc3Rpbmcgd2l0aGluIGFub3RoZXIgVmlydHVhbGl6ZWRMaXN0LCB0aGlzIGtleSBpcyBuZWNlc3NhcnkgZm9yIHZpcnR1YWxpemF0aW9uIHRvXG4gICAqIHdvcmsgcHJvcGVybHkuXG4gICAqL1xuICBsaXN0S2V5Pzogc3RyaW5nLFxuICAvKipcbiAgICogVGhlIG1heGltdW0gbnVtYmVyIG9mIGl0ZW1zIHRvIHJlbmRlciBpbiBlYWNoIGluY3JlbWVudGFsIHJlbmRlciBiYXRjaC4gVGhlIG1vcmUgcmVuZGVyZWQgYXRcbiAgICogb25jZSwgdGhlIGJldHRlciB0aGUgZmlsbCByYXRlLCBidXQgcmVzcG9uc2l2ZW5lc3MgbXkgc3VmZmVyIGJlY2F1c2UgcmVuZGVyaW5nIGNvbnRlbnQgbWF5XG4gICAqIGludGVyZmVyZSB3aXRoIHJlc3BvbmRpbmcgdG8gYnV0dG9uIHRhcHMgb3Igb3RoZXIgaW50ZXJhY3Rpb25zLlxuICAgKi9cbiAgbWF4VG9SZW5kZXJQZXJCYXRjaDogbnVtYmVyLFxuICBvbkVuZFJlYWNoZWQ/OiA/KGluZm86IHtkaXN0YW5jZUZyb21FbmQ6IG51bWJlcn0pID0+IHZvaWQsXG4gIG9uRW5kUmVhY2hlZFRocmVzaG9sZD86ID9udW1iZXIsIC8vIHVuaXRzIG9mIHZpc2libGUgbGVuZ3RoXG4gIG9uTGF5b3V0PzogP0Z1bmN0aW9uLFxuICAvKipcbiAgICogSWYgcHJvdmlkZWQsIGEgc3RhbmRhcmQgUmVmcmVzaENvbnRyb2wgd2lsbCBiZSBhZGRlZCBmb3IgXCJQdWxsIHRvIFJlZnJlc2hcIiBmdW5jdGlvbmFsaXR5LiBNYWtlXG4gICAqIHN1cmUgdG8gYWxzbyBzZXQgdGhlIGByZWZyZXNoaW5nYCBwcm9wIGNvcnJlY3RseS5cbiAgICovXG4gIG9uUmVmcmVzaD86ID9GdW5jdGlvbixcbiAgLyoqXG4gICAqIFVzZWQgdG8gaGFuZGxlIGZhaWx1cmVzIHdoZW4gc2Nyb2xsaW5nIHRvIGFuIGluZGV4IHRoYXQgaGFzIG5vdCBiZWVuIG1lYXN1cmVkIHlldC4gUmVjb21tZW5kZWRcbiAgICogYWN0aW9uIGlzIHRvIGVpdGhlciBjb21wdXRlIHlvdXIgb3duIG9mZnNldCBhbmQgYHNjcm9sbFRvYCBpdCwgb3Igc2Nyb2xsIGFzIGZhciBhcyBwb3NzaWJsZSBhbmRcbiAgICogdGhlbiB0cnkgYWdhaW4gYWZ0ZXIgbW9yZSBpdGVtcyBoYXZlIGJlZW4gcmVuZGVyZWQuXG4gICAqL1xuICBvblNjcm9sbFRvSW5kZXhGYWlsZWQ/OiA/KGluZm86IHtcbiAgICBpbmRleDogbnVtYmVyLFxuICAgIGhpZ2hlc3RNZWFzdXJlZEZyYW1lSW5kZXg6IG51bWJlcixcbiAgICBhdmVyYWdlSXRlbUxlbmd0aDogbnVtYmVyLFxuICB9KSA9PiB2b2lkLFxuICAvKipcbiAgICogQ2FsbGVkIHdoZW4gdGhlIHZpZXdhYmlsaXR5IG9mIHJvd3MgY2hhbmdlcywgYXMgZGVmaW5lZCBieSB0aGVcbiAgICogYHZpZXdhYmlsaXR5Q29uZmlnYCBwcm9wLlxuICAgKi9cbiAgb25WaWV3YWJsZUl0ZW1zQ2hhbmdlZD86ID8oaW5mbzoge1xuICAgIHZpZXdhYmxlSXRlbXM6IEFycmF5PFZpZXdUb2tlbj4sXG4gICAgY2hhbmdlZDogQXJyYXk8Vmlld1Rva2VuPixcbiAgfSkgPT4gdm9pZCxcbiAgLyoqXG4gICAqIFNldCB0aGlzIHdoZW4gb2Zmc2V0IGlzIG5lZWRlZCBmb3IgdGhlIGxvYWRpbmcgaW5kaWNhdG9yIHRvIHNob3cgY29ycmVjdGx5LlxuICAgKiBAcGxhdGZvcm0gYW5kcm9pZFxuICAgKi9cbiAgcHJvZ3Jlc3NWaWV3T2Zmc2V0PzogbnVtYmVyLFxuICAvKipcbiAgICogU2V0IHRoaXMgdHJ1ZSB3aGlsZSB3YWl0aW5nIGZvciBuZXcgZGF0YSBmcm9tIGEgcmVmcmVzaC5cbiAgICovXG4gIHJlZnJlc2hpbmc/OiA/Ym9vbGVhbixcbiAgLyoqXG4gICAqIE5vdGU6IG1heSBoYXZlIGJ1Z3MgKG1pc3NpbmcgY29udGVudCkgaW4gc29tZSBjaXJjdW1zdGFuY2VzIC0gdXNlIGF0IHlvdXIgb3duIHJpc2suXG4gICAqXG4gICAqIFRoaXMgbWF5IGltcHJvdmUgc2Nyb2xsIHBlcmZvcm1hbmNlIGZvciBsYXJnZSBsaXN0cy5cbiAgICovXG4gIHJlbW92ZUNsaXBwZWRTdWJ2aWV3cz86IGJvb2xlYW4sXG4gIC8qKlxuICAgKiBSZW5kZXIgYSBjdXN0b20gc2Nyb2xsIGNvbXBvbmVudCwgZS5nLiB3aXRoIGEgZGlmZmVyZW50bHkgc3R5bGVkIGBSZWZyZXNoQ29udHJvbGAuXG4gICAqL1xuICByZW5kZXJTY3JvbGxDb21wb25lbnQ/OiAocHJvcHM6IE9iamVjdCkgPT4gUmVhY3QuRWxlbWVudDxhbnk+LFxuICAvKipcbiAgICogQW1vdW50IG9mIHRpbWUgYmV0d2VlbiBsb3ctcHJpIGl0ZW0gcmVuZGVyIGJhdGNoZXMsIGUuZy4gZm9yIHJlbmRlcmluZyBpdGVtcyBxdWl0ZSBhIHdheXMgb2ZmXG4gICAqIHNjcmVlbi4gU2ltaWxhciBmaWxsIHJhdGUvcmVzcG9uc2l2ZW5lc3MgdHJhZGVvZmYgYXMgYG1heFRvUmVuZGVyUGVyQmF0Y2hgLlxuICAgKi9cbiAgdXBkYXRlQ2VsbHNCYXRjaGluZ1BlcmlvZDogbnVtYmVyLFxuICB2aWV3YWJpbGl0eUNvbmZpZz86IFZpZXdhYmlsaXR5Q29uZmlnLFxuICAvKipcbiAgICogTGlzdCBvZiBWaWV3YWJpbGl0eUNvbmZpZy9vblZpZXdhYmxlSXRlbXNDaGFuZ2VkIHBhaXJzLiBBIHNwZWNpZmljIG9uVmlld2FibGVJdGVtc0NoYW5nZWRcbiAgICogd2lsbCBiZSBjYWxsZWQgd2hlbiBpdHMgY29ycmVzcG9uZGluZyBWaWV3YWJpbGl0eUNvbmZpZydzIGNvbmRpdGlvbnMgYXJlIG1ldC5cbiAgICovXG4gIHZpZXdhYmlsaXR5Q29uZmlnQ2FsbGJhY2tQYWlycz86IEFycmF5PFZpZXdhYmlsaXR5Q29uZmlnQ2FsbGJhY2tQYWlyPixcbiAgLyoqXG4gICAqIERldGVybWluZXMgdGhlIG1heGltdW0gbnVtYmVyIG9mIGl0ZW1zIHJlbmRlcmVkIG91dHNpZGUgb2YgdGhlIHZpc2libGUgYXJlYSwgaW4gdW5pdHMgb2ZcbiAgICogdmlzaWJsZSBsZW5ndGhzLiBTbyBpZiB5b3VyIGxpc3QgZmlsbHMgdGhlIHNjcmVlbiwgdGhlbiBgd2luZG93U2l6ZT17MjF9YCAodGhlIGRlZmF1bHQpIHdpbGxcbiAgICogcmVuZGVyIHRoZSB2aXNpYmxlIHNjcmVlbiBhcmVhIHBsdXMgdXAgdG8gMTAgc2NyZWVucyBhYm92ZSBhbmQgMTAgYmVsb3cgdGhlIHZpZXdwb3J0LiBSZWR1Y2luZ1xuICAgKiB0aGlzIG51bWJlciB3aWxsIHJlZHVjZSBtZW1vcnkgY29uc3VtcHRpb24gYW5kIG1heSBpbXByb3ZlIHBlcmZvcm1hbmNlLCBidXQgd2lsbCBpbmNyZWFzZSB0aGVcbiAgICogY2hhbmNlIHRoYXQgZmFzdCBzY3JvbGxpbmcgbWF5IHJldmVhbCBtb21lbnRhcnkgYmxhbmsgYXJlYXMgb2YgdW5yZW5kZXJlZCBjb250ZW50LlxuICAgKi9cbiAgd2luZG93U2l6ZTogbnVtYmVyLFxufTtcbi8qICRGbG93Rml4TWUgLSB0aGlzIFByb3BzIHNlZW1zIHRvIGJlIG1pc3NpbmcgYSBidW5jaCBvZiBzdHVmZi4gUmVtb3ZlIHRoaXNcbiAqIGNvbW1lbnQgdG8gc2VlIHRoZSBlcnJvcnMgKi9cbmV4cG9ydCB0eXBlIFByb3BzID0gUmVxdWlyZWRQcm9wcyAmIE9wdGlvbmFsUHJvcHM7XG5cbmxldCBfdXNlZEluZGV4Rm9yS2V5ID0gZmFsc2U7XG5cbnR5cGUgRnJhbWUgPSB7XG4gIG9mZnNldDogbnVtYmVyLFxuICBsZW5ndGg6IG51bWJlcixcbiAgaW5kZXg6IG51bWJlcixcbiAgaW5MYXlvdXQ6IGJvb2xlYW4sXG59O1xuXG50eXBlIENoaWxkTGlzdFN0YXRlID0ge1xuICBmaXJzdDogbnVtYmVyLFxuICBsYXN0OiBudW1iZXIsXG4gIGZyYW1lczoge1trZXk6IG51bWJlcl06IEZyYW1lfSxcbn07XG5cbnR5cGUgU3RhdGUgPSB7Zmlyc3Q6IG51bWJlciwgbGFzdDogbnVtYmVyfTtcblxuLyoqXG4gKiBCYXNlIGltcGxlbWVudGF0aW9uIGZvciB0aGUgbW9yZSBjb252ZW5pZW50IFtgPEZsYXRMaXN0PmBdKC9yZWFjdC1uYXRpdmUvZG9jcy9mbGF0bGlzdC5odG1sKVxuICogYW5kIFtgPFNlY3Rpb25MaXN0PmBdKC9yZWFjdC1uYXRpdmUvZG9jcy9zZWN0aW9ubGlzdC5odG1sKSBjb21wb25lbnRzLCB3aGljaCBhcmUgYWxzbyBiZXR0ZXJcbiAqIGRvY3VtZW50ZWQuIEluIGdlbmVyYWwsIHRoaXMgc2hvdWxkIG9ubHkgcmVhbGx5IGJlIHVzZWQgaWYgeW91IG5lZWQgbW9yZSBmbGV4aWJpbGl0eSB0aGFuXG4gKiBgRmxhdExpc3RgIHByb3ZpZGVzLCBlLmcuIGZvciB1c2Ugd2l0aCBpbW11dGFibGUgZGF0YSBpbnN0ZWFkIG9mIHBsYWluIGFycmF5cy5cbiAqXG4gKiBWaXJ0dWFsaXphdGlvbiBtYXNzaXZlbHkgaW1wcm92ZXMgbWVtb3J5IGNvbnN1bXB0aW9uIGFuZCBwZXJmb3JtYW5jZSBvZiBsYXJnZSBsaXN0cyBieVxuICogbWFpbnRhaW5pbmcgYSBmaW5pdGUgcmVuZGVyIHdpbmRvdyBvZiBhY3RpdmUgaXRlbXMgYW5kIHJlcGxhY2luZyBhbGwgaXRlbXMgb3V0c2lkZSBvZiB0aGUgcmVuZGVyXG4gKiB3aW5kb3cgd2l0aCBhcHByb3ByaWF0ZWx5IHNpemVkIGJsYW5rIHNwYWNlLiBUaGUgd2luZG93IGFkYXB0cyB0byBzY3JvbGxpbmcgYmVoYXZpb3IsIGFuZCBpdGVtc1xuICogYXJlIHJlbmRlcmVkIGluY3JlbWVudGFsbHkgd2l0aCBsb3ctcHJpIChhZnRlciBhbnkgcnVubmluZyBpbnRlcmFjdGlvbnMpIGlmIHRoZXkgYXJlIGZhciBmcm9tIHRoZVxuICogdmlzaWJsZSBhcmVhLCBvciB3aXRoIGhpLXByaSBvdGhlcndpc2UgdG8gbWluaW1pemUgdGhlIHBvdGVudGlhbCBvZiBzZWVpbmcgYmxhbmsgc3BhY2UuXG4gKlxuICogU29tZSBjYXZlYXRzOlxuICpcbiAqIC0gSW50ZXJuYWwgc3RhdGUgaXMgbm90IHByZXNlcnZlZCB3aGVuIGNvbnRlbnQgc2Nyb2xscyBvdXQgb2YgdGhlIHJlbmRlciB3aW5kb3cuIE1ha2Ugc3VyZSBhbGxcbiAqICAgeW91ciBkYXRhIGlzIGNhcHR1cmVkIGluIHRoZSBpdGVtIGRhdGEgb3IgZXh0ZXJuYWwgc3RvcmVzIGxpa2UgRmx1eCwgUmVkdXgsIG9yIFJlbGF5LlxuICogLSBUaGlzIGlzIGEgYFB1cmVDb21wb25lbnRgIHdoaWNoIG1lYW5zIHRoYXQgaXQgd2lsbCBub3QgcmUtcmVuZGVyIGlmIGBwcm9wc2AgcmVtYWluIHNoYWxsb3ctXG4gKiAgIGVxdWFsLiBNYWtlIHN1cmUgdGhhdCBldmVyeXRoaW5nIHlvdXIgYHJlbmRlckl0ZW1gIGZ1bmN0aW9uIGRlcGVuZHMgb24gaXMgcGFzc2VkIGFzIGEgcHJvcFxuICogICAoZS5nLiBgZXh0cmFEYXRhYCkgdGhhdCBpcyBub3QgYD09PWAgYWZ0ZXIgdXBkYXRlcywgb3RoZXJ3aXNlIHlvdXIgVUkgbWF5IG5vdCB1cGRhdGUgb25cbiAqICAgY2hhbmdlcy4gVGhpcyBpbmNsdWRlcyB0aGUgYGRhdGFgIHByb3AgYW5kIHBhcmVudCBjb21wb25lbnQgc3RhdGUuXG4gKiAtIEluIG9yZGVyIHRvIGNvbnN0cmFpbiBtZW1vcnkgYW5kIGVuYWJsZSBzbW9vdGggc2Nyb2xsaW5nLCBjb250ZW50IGlzIHJlbmRlcmVkIGFzeW5jaHJvbm91c2x5XG4gKiAgIG9mZnNjcmVlbi4gVGhpcyBtZWFucyBpdCdzIHBvc3NpYmxlIHRvIHNjcm9sbCBmYXN0ZXIgdGhhbiB0aGUgZmlsbCByYXRlIGFuZHMgbW9tZW50YXJpbHkgc2VlXG4gKiAgIGJsYW5rIGNvbnRlbnQuIFRoaXMgaXMgYSB0cmFkZW9mZiB0aGF0IGNhbiBiZSBhZGp1c3RlZCB0byBzdWl0IHRoZSBuZWVkcyBvZiBlYWNoIGFwcGxpY2F0aW9uLFxuICogICBhbmQgd2UgYXJlIHdvcmtpbmcgb24gaW1wcm92aW5nIGl0IGJlaGluZCB0aGUgc2NlbmVzLlxuICogLSBCeSBkZWZhdWx0LCB0aGUgbGlzdCBsb29rcyBmb3IgYSBga2V5YCBwcm9wIG9uIGVhY2ggaXRlbSBhbmQgdXNlcyB0aGF0IGZvciB0aGUgUmVhY3Qga2V5LlxuICogICBBbHRlcm5hdGl2ZWx5LCB5b3UgY2FuIHByb3ZpZGUgYSBjdXN0b20gYGtleUV4dHJhY3RvcmAgcHJvcC5cbiAqXG4gKi9cbmNsYXNzIFZpcnR1YWxpemVkTGlzdCBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQ8UHJvcHMsIFN0YXRlPiB7XG4gIHByb3BzOiBQcm9wcztcblxuICAvLyBzY3JvbGxUb0VuZCBtYXkgYmUgamFua3kgd2l0aG91dCBnZXRJdGVtTGF5b3V0IHByb3BcbiAgc2Nyb2xsVG9FbmQocGFyYW1zPzogP3thbmltYXRlZD86ID9ib29sZWFufSkge1xuICAgIGNvbnN0IGFuaW1hdGVkID0gcGFyYW1zID8gcGFyYW1zLmFuaW1hdGVkIDogdHJ1ZTtcbiAgICBjb25zdCB2ZXJ5TGFzdCA9IHRoaXMucHJvcHMuZ2V0SXRlbUNvdW50KHRoaXMucHJvcHMuZGF0YSkgLSAxO1xuICAgIGNvbnN0IGZyYW1lID0gdGhpcy5fZ2V0RnJhbWVNZXRyaWNzQXBwcm94KHZlcnlMYXN0KTtcbiAgICBjb25zdCBvZmZzZXQgPSBNYXRoLm1heChcbiAgICAgIDAsXG4gICAgICBmcmFtZS5vZmZzZXQgK1xuICAgICAgICBmcmFtZS5sZW5ndGggK1xuICAgICAgICB0aGlzLl9mb290ZXJMZW5ndGggLVxuICAgICAgICB0aGlzLl9zY3JvbGxNZXRyaWNzLnZpc2libGVMZW5ndGgsXG4gICAgKTtcbiAgICAvKiAkRmxvd0ZpeE1lKD49MC41My4wIHNpdGU9cmVhY3RfbmF0aXZlX2ZiLHJlYWN0X25hdGl2ZV9vc3MpIFRoaXMgY29tbWVudFxuICAgICAqIHN1cHByZXNzZXMgYW4gZXJyb3Igd2hlbiB1cGdyYWRpbmcgRmxvdydzIHN1cHBvcnQgZm9yIFJlYWN0LiBUbyBzZWUgdGhlXG4gICAgICogZXJyb3IgZGVsZXRlIHRoaXMgY29tbWVudCBhbmQgcnVuIEZsb3cuICovXG4gICAgdGhpcy5fc2Nyb2xsUmVmLnNjcm9sbFRvKFxuICAgICAgLyogJEZsb3dGaXhNZSg+PTAuNTMuMCBzaXRlPXJlYWN0X25hdGl2ZV9mYixyZWFjdF9uYXRpdmVfb3NzKSBUaGlzXG4gICAgICAgKiBjb21tZW50IHN1cHByZXNzZXMgYW4gZXJyb3Igd2hlbiB1cGdyYWRpbmcgRmxvdydzIHN1cHBvcnQgZm9yIFJlYWN0LlxuICAgICAgICogVG8gc2VlIHRoZSBlcnJvciBkZWxldGUgdGhpcyBjb21tZW50IGFuZCBydW4gRmxvdy4gKi9cbiAgICAgIHRoaXMucHJvcHMuaG9yaXpvbnRhbCA/IHt4OiBvZmZzZXQsIGFuaW1hdGVkfSA6IHt5OiBvZmZzZXQsIGFuaW1hdGVkfSxcbiAgICApO1xuICB9XG5cbiAgLy8gc2Nyb2xsVG9JbmRleCBtYXkgYmUgamFua3kgd2l0aG91dCBnZXRJdGVtTGF5b3V0IHByb3BcbiAgc2Nyb2xsVG9JbmRleChwYXJhbXM6IHtcbiAgICBhbmltYXRlZD86ID9ib29sZWFuLFxuICAgIGluZGV4OiBudW1iZXIsXG4gICAgdmlld09mZnNldD86IG51bWJlcixcbiAgICB2aWV3UG9zaXRpb24/OiBudW1iZXIsXG4gIH0pIHtcbiAgICBjb25zdCB7XG4gICAgICBkYXRhLFxuICAgICAgaG9yaXpvbnRhbCxcbiAgICAgIGdldEl0ZW1Db3VudCxcbiAgICAgIGdldEl0ZW1MYXlvdXQsXG4gICAgICBvblNjcm9sbFRvSW5kZXhGYWlsZWQsXG4gICAgfSA9IHRoaXMucHJvcHM7XG4gICAgY29uc3Qge2FuaW1hdGVkLCBpbmRleCwgdmlld09mZnNldCwgdmlld1Bvc2l0aW9ufSA9IHBhcmFtcztcbiAgICBpbnZhcmlhbnQoXG4gICAgICBpbmRleCA+PSAwICYmIGluZGV4IDwgZ2V0SXRlbUNvdW50KGRhdGEpLFxuICAgICAgYHNjcm9sbFRvSW5kZXggb3V0IG9mIHJhbmdlOiAke2luZGV4fSB2cyAke2dldEl0ZW1Db3VudChkYXRhKSAtIDF9YCxcbiAgICApO1xuICAgIGlmICghZ2V0SXRlbUxheW91dCAmJiBpbmRleCA+IHRoaXMuX2hpZ2hlc3RNZWFzdXJlZEZyYW1lSW5kZXgpIHtcbiAgICAgIGludmFyaWFudChcbiAgICAgICAgISFvblNjcm9sbFRvSW5kZXhGYWlsZWQsXG4gICAgICAgICdzY3JvbGxUb0luZGV4IHNob3VsZCBiZSB1c2VkIGluIGNvbmp1bmN0aW9uIHdpdGggZ2V0SXRlbUxheW91dCBvciBvblNjcm9sbFRvSW5kZXhGYWlsZWQsICcgK1xuICAgICAgICAgICdvdGhlcndpc2UgdGhlcmUgaXMgbm8gd2F5IHRvIGtub3cgdGhlIGxvY2F0aW9uIG9mIG9mZnNjcmVlbiBpbmRpY2VzIG9yIGhhbmRsZSBmYWlsdXJlcy4nLFxuICAgICAgKTtcbiAgICAgIG9uU2Nyb2xsVG9JbmRleEZhaWxlZCh7XG4gICAgICAgIGF2ZXJhZ2VJdGVtTGVuZ3RoOiB0aGlzLl9hdmVyYWdlQ2VsbExlbmd0aCxcbiAgICAgICAgaGlnaGVzdE1lYXN1cmVkRnJhbWVJbmRleDogdGhpcy5faGlnaGVzdE1lYXN1cmVkRnJhbWVJbmRleCxcbiAgICAgICAgaW5kZXgsXG4gICAgICB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgZnJhbWUgPSB0aGlzLl9nZXRGcmFtZU1ldHJpY3NBcHByb3goaW5kZXgpO1xuICAgIGNvbnN0IG9mZnNldCA9XG4gICAgICBNYXRoLm1heChcbiAgICAgICAgMCxcbiAgICAgICAgZnJhbWUub2Zmc2V0IC1cbiAgICAgICAgICAodmlld1Bvc2l0aW9uIHx8IDApICpcbiAgICAgICAgICAgICh0aGlzLl9zY3JvbGxNZXRyaWNzLnZpc2libGVMZW5ndGggLSBmcmFtZS5sZW5ndGgpLFxuICAgICAgKSAtICh2aWV3T2Zmc2V0IHx8IDApO1xuICAgIC8qICRGbG93Rml4TWUoPj0wLjUzLjAgc2l0ZT1yZWFjdF9uYXRpdmVfZmIscmVhY3RfbmF0aXZlX29zcykgVGhpcyBjb21tZW50XG4gICAgICogc3VwcHJlc3NlcyBhbiBlcnJvciB3aGVuIHVwZ3JhZGluZyBGbG93J3Mgc3VwcG9ydCBmb3IgUmVhY3QuIFRvIHNlZSB0aGVcbiAgICAgKiBlcnJvciBkZWxldGUgdGhpcyBjb21tZW50IGFuZCBydW4gRmxvdy4gKi9cbiAgICB0aGlzLl9zY3JvbGxSZWYuc2Nyb2xsVG8oXG4gICAgICAvKiAkRmxvd0ZpeE1lKD49MC41My4wIHNpdGU9cmVhY3RfbmF0aXZlX2ZiLHJlYWN0X25hdGl2ZV9vc3MpIFRoaXNcbiAgICAgICAqIGNvbW1lbnQgc3VwcHJlc3NlcyBhbiBlcnJvciB3aGVuIHVwZ3JhZGluZyBGbG93J3Mgc3VwcG9ydCBmb3IgUmVhY3QuXG4gICAgICAgKiBUbyBzZWUgdGhlIGVycm9yIGRlbGV0ZSB0aGlzIGNvbW1lbnQgYW5kIHJ1biBGbG93LiAqL1xuICAgICAgaG9yaXpvbnRhbCA/IHt4OiBvZmZzZXQsIGFuaW1hdGVkfSA6IHt5OiBvZmZzZXQsIGFuaW1hdGVkfSxcbiAgICApO1xuICB9XG5cbiAgLy8gc2Nyb2xsVG9JdGVtIG1heSBiZSBqYW5reSB3aXRob3V0IGdldEl0ZW1MYXlvdXQgcHJvcC4gUmVxdWlyZWQgbGluZWFyIHNjYW4gdGhyb3VnaCBpdGVtcyAtXG4gIC8vIHVzZSBzY3JvbGxUb0luZGV4IGluc3RlYWQgaWYgcG9zc2libGUuXG4gIHNjcm9sbFRvSXRlbShwYXJhbXM6IHtcbiAgICBhbmltYXRlZD86ID9ib29sZWFuLFxuICAgIGl0ZW06IEl0ZW0sXG4gICAgdmlld1Bvc2l0aW9uPzogbnVtYmVyLFxuICB9KSB7XG4gICAgY29uc3Qge2l0ZW19ID0gcGFyYW1zO1xuICAgIGNvbnN0IHtkYXRhLCBnZXRJdGVtLCBnZXRJdGVtQ291bnR9ID0gdGhpcy5wcm9wcztcbiAgICBjb25zdCBpdGVtQ291bnQgPSBnZXRJdGVtQ291bnQoZGF0YSk7XG4gICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IGl0ZW1Db3VudDsgaW5kZXgrKykge1xuICAgICAgaWYgKGdldEl0ZW0oZGF0YSwgaW5kZXgpID09PSBpdGVtKSB7XG4gICAgICAgIHRoaXMuc2Nyb2xsVG9JbmRleCh7Li4ucGFyYW1zLCBpbmRleH0pO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU2Nyb2xsIHRvIGEgc3BlY2lmaWMgY29udGVudCBwaXhlbCBvZmZzZXQgaW4gdGhlIGxpc3QuXG4gICAqXG4gICAqIFBhcmFtIGBvZmZzZXRgIGV4cGVjdHMgdGhlIG9mZnNldCB0byBzY3JvbGwgdG8uXG4gICAqIEluIGNhc2Ugb2YgYGhvcml6b250YWxgIGlzIHRydWUsIHRoZSBvZmZzZXQgaXMgdGhlIHgtdmFsdWUsXG4gICAqIGluIGFueSBvdGhlciBjYXNlIHRoZSBvZmZzZXQgaXMgdGhlIHktdmFsdWUuXG4gICAqXG4gICAqIFBhcmFtIGBhbmltYXRlZGAgKGB0cnVlYCBieSBkZWZhdWx0KSBkZWZpbmVzIHdoZXRoZXIgdGhlIGxpc3RcbiAgICogc2hvdWxkIGRvIGFuIGFuaW1hdGlvbiB3aGlsZSBzY3JvbGxpbmcuXG4gICAqL1xuICBzY3JvbGxUb09mZnNldChwYXJhbXM6IHthbmltYXRlZD86ID9ib29sZWFuLCBvZmZzZXQ6IG51bWJlcn0pIHtcbiAgICBjb25zdCB7YW5pbWF0ZWQsIG9mZnNldH0gPSBwYXJhbXM7XG4gICAgLyogJEZsb3dGaXhNZSg+PTAuNTMuMCBzaXRlPXJlYWN0X25hdGl2ZV9mYixyZWFjdF9uYXRpdmVfb3NzKSBUaGlzIGNvbW1lbnRcbiAgICAgKiBzdXBwcmVzc2VzIGFuIGVycm9yIHdoZW4gdXBncmFkaW5nIEZsb3cncyBzdXBwb3J0IGZvciBSZWFjdC4gVG8gc2VlIHRoZVxuICAgICAqIGVycm9yIGRlbGV0ZSB0aGlzIGNvbW1lbnQgYW5kIHJ1biBGbG93LiAqL1xuICAgIHRoaXMuX3Njcm9sbFJlZi5zY3JvbGxUbyhcbiAgICAgIC8qICRGbG93Rml4TWUoPj0wLjUzLjAgc2l0ZT1yZWFjdF9uYXRpdmVfZmIscmVhY3RfbmF0aXZlX29zcykgVGhpc1xuICAgICAgICogY29tbWVudCBzdXBwcmVzc2VzIGFuIGVycm9yIHdoZW4gdXBncmFkaW5nIEZsb3cncyBzdXBwb3J0IGZvciBSZWFjdC5cbiAgICAgICAqIFRvIHNlZSB0aGUgZXJyb3IgZGVsZXRlIHRoaXMgY29tbWVudCBhbmQgcnVuIEZsb3cuICovXG4gICAgICB0aGlzLnByb3BzLmhvcml6b250YWwgPyB7eDogb2Zmc2V0LCBhbmltYXRlZH0gOiB7eTogb2Zmc2V0LCBhbmltYXRlZH0sXG4gICAgKTtcbiAgfVxuXG4gIHJlY29yZEludGVyYWN0aW9uKCkge1xuICAgIHRoaXMuX25lc3RlZENoaWxkTGlzdHMuZm9yRWFjaChjaGlsZExpc3QgPT4ge1xuICAgICAgY2hpbGRMaXN0LnJlZiAmJiBjaGlsZExpc3QucmVmLnJlY29yZEludGVyYWN0aW9uKCk7XG4gICAgfSk7XG4gICAgdGhpcy5fdmlld2FiaWxpdHlUdXBsZXMuZm9yRWFjaCh0ID0+IHtcbiAgICAgIHQudmlld2FiaWxpdHlIZWxwZXIucmVjb3JkSW50ZXJhY3Rpb24oKTtcbiAgICB9KTtcbiAgICB0aGlzLl91cGRhdGVWaWV3YWJsZUl0ZW1zKHRoaXMucHJvcHMuZGF0YSk7XG4gIH1cblxuICBmbGFzaFNjcm9sbEluZGljYXRvcnMoKSB7XG4gICAgLyogJEZsb3dGaXhNZSg+PTAuNTMuMCBzaXRlPXJlYWN0X25hdGl2ZV9mYixyZWFjdF9uYXRpdmVfb3NzKSBUaGlzIGNvbW1lbnRcbiAgICAgKiBzdXBwcmVzc2VzIGFuIGVycm9yIHdoZW4gdXBncmFkaW5nIEZsb3cncyBzdXBwb3J0IGZvciBSZWFjdC4gVG8gc2VlIHRoZVxuICAgICAqIGVycm9yIGRlbGV0ZSB0aGlzIGNvbW1lbnQgYW5kIHJ1biBGbG93LiAqL1xuICAgIHRoaXMuX3Njcm9sbFJlZi5mbGFzaFNjcm9sbEluZGljYXRvcnMoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBQcm92aWRlcyBhIGhhbmRsZSB0byB0aGUgdW5kZXJseWluZyBzY3JvbGwgcmVzcG9uZGVyLlxuICAgKiBOb3RlIHRoYXQgYHRoaXMuX3Njcm9sbFJlZmAgbWlnaHQgbm90IGJlIGEgYFNjcm9sbFZpZXdgLCBzbyB3ZVxuICAgKiBuZWVkIHRvIGNoZWNrIHRoYXQgaXQgcmVzcG9uZHMgdG8gYGdldFNjcm9sbFJlc3BvbmRlcmAgYmVmb3JlIGNhbGxpbmcgaXQuXG4gICAqL1xuICBnZXRTY3JvbGxSZXNwb25kZXIoKSB7XG4gICAgaWYgKHRoaXMuX3Njcm9sbFJlZiAmJiB0aGlzLl9zY3JvbGxSZWYuZ2V0U2Nyb2xsUmVzcG9uZGVyKSB7XG4gICAgICByZXR1cm4gdGhpcy5fc2Nyb2xsUmVmLmdldFNjcm9sbFJlc3BvbmRlcigpO1xuICAgIH1cbiAgfVxuXG4gIGdldFNjcm9sbGFibGVOb2RlKCkge1xuICAgIGlmICh0aGlzLl9zY3JvbGxSZWYgJiYgdGhpcy5fc2Nyb2xsUmVmLmdldFNjcm9sbGFibGVOb2RlKSB7XG4gICAgICByZXR1cm4gdGhpcy5fc2Nyb2xsUmVmLmdldFNjcm9sbGFibGVOb2RlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBSZWFjdE5hdGl2ZS5maW5kTm9kZUhhbmRsZSh0aGlzLl9zY3JvbGxSZWYpO1xuICAgIH1cbiAgfVxuXG4gIHNldE5hdGl2ZVByb3BzKHByb3BzOiBPYmplY3QpIHtcbiAgICBpZiAodGhpcy5fc2Nyb2xsUmVmKSB7XG4gICAgICB0aGlzLl9zY3JvbGxSZWYuc2V0TmF0aXZlUHJvcHMocHJvcHMpO1xuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBkZWZhdWx0UHJvcHMgPSB7XG4gICAgZGlzYWJsZVZpcnR1YWxpemF0aW9uOiBmYWxzZSxcbiAgICBob3Jpem9udGFsOiBmYWxzZSxcbiAgICBpbml0aWFsTnVtVG9SZW5kZXI6IDEwLFxuICAgIGtleUV4dHJhY3RvcjogKGl0ZW06IEl0ZW0sIGluZGV4OiBudW1iZXIpID0+IHtcbiAgICAgIGlmIChpdGVtLmtleSAhPSBudWxsKSB7XG4gICAgICAgIHJldHVybiBpdGVtLmtleTtcbiAgICAgIH1cbiAgICAgIF91c2VkSW5kZXhGb3JLZXkgPSB0cnVlO1xuICAgICAgcmV0dXJuIFN0cmluZyhpbmRleCk7XG4gICAgfSxcbiAgICBtYXhUb1JlbmRlclBlckJhdGNoOiAxMCxcbiAgICBvbkVuZFJlYWNoZWRUaHJlc2hvbGQ6IDIsIC8vIG11bHRpcGxlcyBvZiBsZW5ndGhcbiAgICBzY3JvbGxFdmVudFRocm90dGxlOiA1MCxcbiAgICB1cGRhdGVDZWxsc0JhdGNoaW5nUGVyaW9kOiA1MCxcbiAgICB3aW5kb3dTaXplOiAyMSwgLy8gbXVsdGlwbGVzIG9mIGxlbmd0aFxuICB9O1xuXG4gIHN0YXRpYyBjb250ZXh0VHlwZXMgPSB7XG4gICAgdmlydHVhbGl6ZWRDZWxsOiBQcm9wVHlwZXMuc2hhcGUoe1xuICAgICAgY2VsbEtleTogUHJvcFR5cGVzLnN0cmluZyxcbiAgICB9KSxcbiAgICB2aXJ0dWFsaXplZExpc3Q6IFByb3BUeXBlcy5zaGFwZSh7XG4gICAgICBnZXRTY3JvbGxNZXRyaWNzOiBQcm9wVHlwZXMuZnVuYyxcbiAgICAgIGhvcml6b250YWw6IFByb3BUeXBlcy5ib29sLFxuICAgICAgZ2V0T3V0ZXJtb3N0UGFyZW50TGlzdFJlZjogUHJvcFR5cGVzLmZ1bmMsXG4gICAgICBnZXROZXN0ZWRDaGlsZFN0YXRlOiBQcm9wVHlwZXMuZnVuYyxcbiAgICAgIHJlZ2lzdGVyQXNOZXN0ZWRDaGlsZDogUHJvcFR5cGVzLmZ1bmMsXG4gICAgICB1bnJlZ2lzdGVyQXNOZXN0ZWRDaGlsZDogUHJvcFR5cGVzLmZ1bmMsXG4gICAgfSksXG4gIH07XG5cbiAgc3RhdGljIGNoaWxkQ29udGV4dFR5cGVzID0ge1xuICAgIHZpcnR1YWxpemVkTGlzdDogUHJvcFR5cGVzLnNoYXBlKHtcbiAgICAgIGdldFNjcm9sbE1ldHJpY3M6IFByb3BUeXBlcy5mdW5jLFxuICAgICAgaG9yaXpvbnRhbDogUHJvcFR5cGVzLmJvb2wsXG4gICAgICBnZXRPdXRlcm1vc3RQYXJlbnRMaXN0UmVmOiBQcm9wVHlwZXMuZnVuYyxcbiAgICAgIGdldE5lc3RlZENoaWxkU3RhdGU6IFByb3BUeXBlcy5mdW5jLFxuICAgICAgcmVnaXN0ZXJBc05lc3RlZENoaWxkOiBQcm9wVHlwZXMuZnVuYyxcbiAgICAgIHVucmVnaXN0ZXJBc05lc3RlZENoaWxkOiBQcm9wVHlwZXMuZnVuYyxcbiAgICB9KSxcbiAgfTtcblxuICBnZXRDaGlsZENvbnRleHQoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHZpcnR1YWxpemVkTGlzdDoge1xuICAgICAgICBnZXRTY3JvbGxNZXRyaWNzOiB0aGlzLl9nZXRTY3JvbGxNZXRyaWNzLFxuICAgICAgICBob3Jpem9udGFsOiB0aGlzLnByb3BzLmhvcml6b250YWwsXG4gICAgICAgIGdldE91dGVybW9zdFBhcmVudExpc3RSZWY6IHRoaXMuX2dldE91dGVybW9zdFBhcmVudExpc3RSZWYsXG4gICAgICAgIGdldE5lc3RlZENoaWxkU3RhdGU6IHRoaXMuX2dldE5lc3RlZENoaWxkU3RhdGUsXG4gICAgICAgIHJlZ2lzdGVyQXNOZXN0ZWRDaGlsZDogdGhpcy5fcmVnaXN0ZXJBc05lc3RlZENoaWxkLFxuICAgICAgICB1bnJlZ2lzdGVyQXNOZXN0ZWRDaGlsZDogdGhpcy5fdW5yZWdpc3RlckFzTmVzdGVkQ2hpbGQsXG4gICAgICB9LFxuICAgIH07XG4gIH1cblxuICBfZ2V0Q2VsbEtleSgpOiBzdHJpbmcge1xuICAgIHJldHVybiAoXG4gICAgICAodGhpcy5jb250ZXh0LnZpcnR1YWxpemVkQ2VsbCAmJiB0aGlzLmNvbnRleHQudmlydHVhbGl6ZWRDZWxsLmNlbGxLZXkpIHx8XG4gICAgICAncm9vdExpc3QnXG4gICAgKTtcbiAgfVxuXG4gIF9nZXRTY3JvbGxNZXRyaWNzID0gKCkgPT4ge1xuICAgIHJldHVybiB0aGlzLl9zY3JvbGxNZXRyaWNzO1xuICB9O1xuXG4gIGhhc01vcmUoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuX2hhc01vcmU7XG4gIH1cblxuICBfZ2V0T3V0ZXJtb3N0UGFyZW50TGlzdFJlZiA9ICgpID0+IHtcbiAgICBpZiAodGhpcy5faXNOZXN0ZWRXaXRoU2FtZU9yaWVudGF0aW9uKCkpIHtcbiAgICAgIHJldHVybiB0aGlzLmNvbnRleHQudmlydHVhbGl6ZWRMaXN0LmdldE91dGVybW9zdFBhcmVudExpc3RSZWYoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICB9O1xuXG4gIF9nZXROZXN0ZWRDaGlsZFN0YXRlID0gKGtleTogc3RyaW5nKTogP0NoaWxkTGlzdFN0YXRlID0+IHtcbiAgICBjb25zdCBleGlzdGluZ0NoaWxkRGF0YSA9IHRoaXMuX25lc3RlZENoaWxkTGlzdHMuZ2V0KGtleSk7XG4gICAgcmV0dXJuIGV4aXN0aW5nQ2hpbGREYXRhICYmIGV4aXN0aW5nQ2hpbGREYXRhLnN0YXRlO1xuICB9O1xuXG4gIF9yZWdpc3RlckFzTmVzdGVkQ2hpbGQgPSAoY2hpbGRMaXN0OiB7XG4gICAgY2VsbEtleTogc3RyaW5nLFxuICAgIGtleTogc3RyaW5nLFxuICAgIHJlZjogVmlydHVhbGl6ZWRMaXN0LFxuICB9KTogP0NoaWxkTGlzdFN0YXRlID0+IHtcbiAgICAvLyBSZWdpc3RlciB0aGUgbWFwcGluZyBiZXR3ZWVuIHRoaXMgY2hpbGQga2V5IGFuZCB0aGUgY2VsbEtleSBmb3IgaXRzIGNlbGxcbiAgICBjb25zdCBjaGlsZExpc3RzSW5DZWxsID1cbiAgICAgIHRoaXMuX2NlbGxLZXlzVG9DaGlsZExpc3RLZXlzLmdldChjaGlsZExpc3QuY2VsbEtleSkgfHwgbmV3IFNldCgpO1xuICAgIGNoaWxkTGlzdHNJbkNlbGwuYWRkKGNoaWxkTGlzdC5rZXkpO1xuICAgIHRoaXMuX2NlbGxLZXlzVG9DaGlsZExpc3RLZXlzLnNldChjaGlsZExpc3QuY2VsbEtleSwgY2hpbGRMaXN0c0luQ2VsbCk7XG5cbiAgICBjb25zdCBleGlzdGluZ0NoaWxkRGF0YSA9IHRoaXMuX25lc3RlZENoaWxkTGlzdHMuZ2V0KGNoaWxkTGlzdC5rZXkpO1xuICAgIGludmFyaWFudChcbiAgICAgICEoZXhpc3RpbmdDaGlsZERhdGEgJiYgZXhpc3RpbmdDaGlsZERhdGEucmVmICE9PSBudWxsKSxcbiAgICAgICdBIFZpcnR1YWxpemVkTGlzdCBjb250YWlucyBhIGNlbGwgd2hpY2ggaXRzZWxmIGNvbnRhaW5zICcgK1xuICAgICAgICAnbW9yZSB0aGFuIG9uZSBWaXJ0dWFsaXplZExpc3Qgb2YgdGhlIHNhbWUgb3JpZW50YXRpb24gYXMgdGhlIHBhcmVudCAnICtcbiAgICAgICAgJ2xpc3QuIFlvdSBtdXN0IHBhc3MgYSB1bmlxdWUgbGlzdEtleSBwcm9wIHRvIGVhY2ggc2libGluZyBsaXN0LicsXG4gICAgKTtcbiAgICB0aGlzLl9uZXN0ZWRDaGlsZExpc3RzLnNldChjaGlsZExpc3Qua2V5LCB7XG4gICAgICByZWY6IGNoaWxkTGlzdC5yZWYsXG4gICAgICBzdGF0ZTogbnVsbCxcbiAgICB9KTtcblxuICAgIGlmICh0aGlzLl9oYXNJbnRlcmFjdGVkKSB7XG4gICAgICBjaGlsZExpc3QucmVmLnJlY29yZEludGVyYWN0aW9uKCk7XG4gICAgfVxuICB9O1xuXG4gIF91bnJlZ2lzdGVyQXNOZXN0ZWRDaGlsZCA9IChjaGlsZExpc3Q6IHtcbiAgICBrZXk6IHN0cmluZyxcbiAgICBzdGF0ZTogQ2hpbGRMaXN0U3RhdGUsXG4gIH0pOiB2b2lkID0+IHtcbiAgICB0aGlzLl9uZXN0ZWRDaGlsZExpc3RzLnNldChjaGlsZExpc3Qua2V5LCB7XG4gICAgICByZWY6IG51bGwsXG4gICAgICBzdGF0ZTogY2hpbGRMaXN0LnN0YXRlLFxuICAgIH0pO1xuICB9O1xuXG4gIHN0YXRlOiBTdGF0ZTtcblxuICBjb25zdHJ1Y3Rvcihwcm9wczogUHJvcHMsIGNvbnRleHQ6IE9iamVjdCkge1xuICAgIHN1cGVyKHByb3BzLCBjb250ZXh0KTtcbiAgICBpbnZhcmlhbnQoXG4gICAgICAhcHJvcHMub25TY3JvbGwgfHwgIXByb3BzLm9uU2Nyb2xsLl9faXNOYXRpdmUsXG4gICAgICAnQ29tcG9uZW50cyBiYXNlZCBvbiBWaXJ0dWFsaXplZExpc3QgbXVzdCBiZSB3cmFwcGVkIHdpdGggQW5pbWF0ZWQuY3JlYXRlQW5pbWF0ZWRDb21wb25lbnQgJyArXG4gICAgICAgICd0byBzdXBwb3J0IG5hdGl2ZSBvblNjcm9sbCBldmVudHMgd2l0aCB1c2VOYXRpdmVEcml2ZXInLFxuICAgICk7XG5cbiAgICBpbnZhcmlhbnQoXG4gICAgICBwcm9wcy53aW5kb3dTaXplID4gMCxcbiAgICAgICdWaXJ0dWFsaXplZExpc3Q6IFRoZSB3aW5kb3dTaXplIHByb3AgbXVzdCBiZSBwcmVzZW50IGFuZCBzZXQgdG8gYSB2YWx1ZSBncmVhdGVyIHRoYW4gMC4nLFxuICAgICk7XG5cbiAgICB0aGlzLl9maWxsUmF0ZUhlbHBlciA9IG5ldyBGaWxsUmF0ZUhlbHBlcih0aGlzLl9nZXRGcmFtZU1ldHJpY3MpO1xuICAgIHRoaXMuX3VwZGF0ZUNlbGxzVG9SZW5kZXJCYXRjaGVyID0gbmV3IEJhdGNoaW5hdG9yKFxuICAgICAgdGhpcy5fdXBkYXRlQ2VsbHNUb1JlbmRlcixcbiAgICAgIHRoaXMucHJvcHMudXBkYXRlQ2VsbHNCYXRjaGluZ1BlcmlvZCxcbiAgICApO1xuXG4gICAgaWYgKHRoaXMucHJvcHMudmlld2FiaWxpdHlDb25maWdDYWxsYmFja1BhaXJzKSB7XG4gICAgICB0aGlzLl92aWV3YWJpbGl0eVR1cGxlcyA9IHRoaXMucHJvcHMudmlld2FiaWxpdHlDb25maWdDYWxsYmFja1BhaXJzLm1hcChcbiAgICAgICAgcGFpciA9PiAoe1xuICAgICAgICAgIHZpZXdhYmlsaXR5SGVscGVyOiBuZXcgVmlld2FiaWxpdHlIZWxwZXIocGFpci52aWV3YWJpbGl0eUNvbmZpZyksXG4gICAgICAgICAgb25WaWV3YWJsZUl0ZW1zQ2hhbmdlZDogcGFpci5vblZpZXdhYmxlSXRlbXNDaGFuZ2VkLFxuICAgICAgICB9KSxcbiAgICAgICk7XG4gICAgfSBlbHNlIGlmICh0aGlzLnByb3BzLm9uVmlld2FibGVJdGVtc0NoYW5nZWQpIHtcbiAgICAgIHRoaXMuX3ZpZXdhYmlsaXR5VHVwbGVzLnB1c2goe1xuICAgICAgICB2aWV3YWJpbGl0eUhlbHBlcjogbmV3IFZpZXdhYmlsaXR5SGVscGVyKHRoaXMucHJvcHMudmlld2FiaWxpdHlDb25maWcpLFxuICAgICAgICBvblZpZXdhYmxlSXRlbXNDaGFuZ2VkOiB0aGlzLnByb3BzLm9uVmlld2FibGVJdGVtc0NoYW5nZWQsXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBsZXQgaW5pdGlhbFN0YXRlID0ge1xuICAgICAgZmlyc3Q6IHRoaXMucHJvcHMuaW5pdGlhbFNjcm9sbEluZGV4IHx8IDAsXG4gICAgICBsYXN0OlxuICAgICAgICBNYXRoLm1pbihcbiAgICAgICAgICB0aGlzLnByb3BzLmdldEl0ZW1Db3VudCh0aGlzLnByb3BzLmRhdGEpLFxuICAgICAgICAgICh0aGlzLnByb3BzLmluaXRpYWxTY3JvbGxJbmRleCB8fCAwKSArIHRoaXMucHJvcHMuaW5pdGlhbE51bVRvUmVuZGVyLFxuICAgICAgICApIC0gMSxcbiAgICB9O1xuXG4gICAgaWYgKHRoaXMuX2lzTmVzdGVkV2l0aFNhbWVPcmllbnRhdGlvbigpKSB7XG4gICAgICBjb25zdCBzdG9yZWRTdGF0ZSA9IHRoaXMuY29udGV4dC52aXJ0dWFsaXplZExpc3QuZ2V0TmVzdGVkQ2hpbGRTdGF0ZShcbiAgICAgICAgdGhpcy5wcm9wcy5saXN0S2V5IHx8IHRoaXMuX2dldENlbGxLZXkoKSxcbiAgICAgICk7XG4gICAgICBpZiAoc3RvcmVkU3RhdGUpIHtcbiAgICAgICAgaW5pdGlhbFN0YXRlID0gc3RvcmVkU3RhdGU7XG4gICAgICAgIHRoaXMuc3RhdGUgPSBzdG9yZWRTdGF0ZTtcbiAgICAgICAgdGhpcy5fZnJhbWVzID0gc3RvcmVkU3RhdGUuZnJhbWVzO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuc3RhdGUgPSBpbml0aWFsU3RhdGU7XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICBpZiAodGhpcy5faXNOZXN0ZWRXaXRoU2FtZU9yaWVudGF0aW9uKCkpIHtcbiAgICAgIHRoaXMuY29udGV4dC52aXJ0dWFsaXplZExpc3QucmVnaXN0ZXJBc05lc3RlZENoaWxkKHtcbiAgICAgICAgY2VsbEtleTogdGhpcy5fZ2V0Q2VsbEtleSgpLFxuICAgICAgICBrZXk6IHRoaXMucHJvcHMubGlzdEtleSB8fCB0aGlzLl9nZXRDZWxsS2V5KCksXG4gICAgICAgIHJlZjogdGhpcyxcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgIGlmICh0aGlzLl9pc05lc3RlZFdpdGhTYW1lT3JpZW50YXRpb24oKSkge1xuICAgICAgdGhpcy5jb250ZXh0LnZpcnR1YWxpemVkTGlzdC51bnJlZ2lzdGVyQXNOZXN0ZWRDaGlsZCh7XG4gICAgICAgIGtleTogdGhpcy5wcm9wcy5saXN0S2V5IHx8IHRoaXMuX2dldENlbGxLZXkoKSxcbiAgICAgICAgc3RhdGU6IHtcbiAgICAgICAgICBmaXJzdDogdGhpcy5zdGF0ZS5maXJzdCxcbiAgICAgICAgICBsYXN0OiB0aGlzLnN0YXRlLmxhc3QsXG4gICAgICAgICAgZnJhbWVzOiB0aGlzLl9mcmFtZXMsXG4gICAgICAgIH0sXG4gICAgICB9KTtcbiAgICB9XG4gICAgdGhpcy5fdXBkYXRlVmlld2FibGVJdGVtcyhudWxsKTtcbiAgICB0aGlzLl91cGRhdGVDZWxsc1RvUmVuZGVyQmF0Y2hlci5kaXNwb3NlKHthYm9ydDogdHJ1ZX0pO1xuICAgIHRoaXMuX3ZpZXdhYmlsaXR5VHVwbGVzLmZvckVhY2godHVwbGUgPT4ge1xuICAgICAgdHVwbGUudmlld2FiaWxpdHlIZWxwZXIuZGlzcG9zZSgpO1xuICAgIH0pO1xuICAgIHRoaXMuX2ZpbGxSYXRlSGVscGVyLmRlYWN0aXZhdGVBbmRGbHVzaCgpO1xuICB9XG5cbiAgc3RhdGljIGdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyhuZXdQcm9wczogUHJvcHMsIHByZXZTdGF0ZTogU3RhdGUpIHtcbiAgICBjb25zdCB7ZGF0YSwgZXh0cmFEYXRhLCBnZXRJdGVtQ291bnQsIG1heFRvUmVuZGVyUGVyQmF0Y2h9ID0gbmV3UHJvcHM7XG4gICAgLy8gZmlyc3QgYW5kIGxhc3QgY291bGQgYmUgc3RhbGUgKGUuZy4gaWYgYSBuZXcsIHNob3J0ZXIgaXRlbXMgcHJvcHMgaXMgcGFzc2VkIGluKSwgc28gd2UgbWFrZVxuICAgIC8vIHN1cmUgd2UncmUgcmVuZGVyaW5nIGEgcmVhc29uYWJsZSByYW5nZSBoZXJlLlxuICAgIHJldHVybiB7XG4gICAgICBmaXJzdDogTWF0aC5tYXgoXG4gICAgICAgIDAsXG4gICAgICAgIE1hdGgubWluKHByZXZTdGF0ZS5maXJzdCwgZ2V0SXRlbUNvdW50KGRhdGEpIC0gMSAtIG1heFRvUmVuZGVyUGVyQmF0Y2gpLFxuICAgICAgKSxcbiAgICAgIGxhc3Q6IE1hdGgubWF4KDAsIE1hdGgubWluKHByZXZTdGF0ZS5sYXN0LCBnZXRJdGVtQ291bnQoZGF0YSkgLSAxKSksXG4gICAgfTtcbiAgfVxuXG4gIF9wdXNoQ2VsbHMoXG4gICAgY2VsbHM6IEFycmF5PE9iamVjdD4sXG4gICAgc3RpY2t5SGVhZGVySW5kaWNlczogQXJyYXk8bnVtYmVyPixcbiAgICBzdGlja3lJbmRpY2VzRnJvbVByb3BzOiBTZXQ8bnVtYmVyPixcbiAgICBmaXJzdDogbnVtYmVyLFxuICAgIGxhc3Q6IG51bWJlcixcbiAgICBpbnZlcnNpb25TdHlsZTogP0Rhbmdlcm91c2x5SW1wcmVjaXNlU3R5bGVQcm9wLFxuICApIHtcbiAgICBjb25zdCB7XG4gICAgICBDZWxsUmVuZGVyZXJDb21wb25lbnQsXG4gICAgICBJdGVtU2VwYXJhdG9yQ29tcG9uZW50LFxuICAgICAgZGF0YSxcbiAgICAgIGdldEl0ZW0sXG4gICAgICBnZXRJdGVtQ291bnQsXG4gICAgICBob3Jpem9udGFsLFxuICAgICAga2V5RXh0cmFjdG9yLFxuICAgIH0gPSB0aGlzLnByb3BzO1xuICAgIGNvbnN0IHN0aWNreU9mZnNldCA9IHRoaXMucHJvcHMuTGlzdEhlYWRlckNvbXBvbmVudCA/IDEgOiAwO1xuICAgIGNvbnN0IGVuZCA9IGdldEl0ZW1Db3VudChkYXRhKSAtIDE7XG4gICAgbGV0IHByZXZDZWxsS2V5O1xuICAgIGxhc3QgPSBNYXRoLm1pbihlbmQsIGxhc3QpO1xuICAgIGZvciAobGV0IGlpID0gZmlyc3Q7IGlpIDw9IGxhc3Q7IGlpKyspIHtcbiAgICAgIGNvbnN0IGl0ZW0gPSBnZXRJdGVtKGRhdGEsIGlpKTtcbiAgICAgIGNvbnN0IGtleSA9IGtleUV4dHJhY3RvcihpdGVtLCBpaSk7XG4gICAgICB0aGlzLl9pbmRpY2VzVG9LZXlzLnNldChpaSwga2V5KTtcbiAgICAgIGlmIChzdGlja3lJbmRpY2VzRnJvbVByb3BzLmhhcyhpaSArIHN0aWNreU9mZnNldCkpIHtcbiAgICAgICAgc3RpY2t5SGVhZGVySW5kaWNlcy5wdXNoKGNlbGxzLmxlbmd0aCk7XG4gICAgICB9XG4gICAgICBjZWxscy5wdXNoKFxuICAgICAgICA8Q2VsbFJlbmRlcmVyXG4gICAgICAgICAgQ2VsbFJlbmRlcmVyQ29tcG9uZW50PXtDZWxsUmVuZGVyZXJDb21wb25lbnR9XG4gICAgICAgICAgSXRlbVNlcGFyYXRvckNvbXBvbmVudD17aWkgPCBlbmQgPyBJdGVtU2VwYXJhdG9yQ29tcG9uZW50IDogdW5kZWZpbmVkfVxuICAgICAgICAgIGNlbGxLZXk9e2tleX1cbiAgICAgICAgICBmaWxsUmF0ZUhlbHBlcj17dGhpcy5fZmlsbFJhdGVIZWxwZXJ9XG4gICAgICAgICAgaG9yaXpvbnRhbD17aG9yaXpvbnRhbH1cbiAgICAgICAgICBpbmRleD17aWl9XG4gICAgICAgICAgaW52ZXJzaW9uU3R5bGU9e2ludmVyc2lvblN0eWxlfVxuICAgICAgICAgIGl0ZW09e2l0ZW19XG4gICAgICAgICAga2V5PXtrZXl9XG4gICAgICAgICAgcHJldkNlbGxLZXk9e3ByZXZDZWxsS2V5fVxuICAgICAgICAgIG9uVXBkYXRlU2VwYXJhdG9ycz17dGhpcy5fb25VcGRhdGVTZXBhcmF0b3JzfVxuICAgICAgICAgIG9uTGF5b3V0PXtlID0+IHRoaXMuX29uQ2VsbExheW91dChlLCBrZXksIGlpKX1cbiAgICAgICAgICBvblVubW91bnQ9e3RoaXMuX29uQ2VsbFVubW91bnR9XG4gICAgICAgICAgcGFyZW50UHJvcHM9e3RoaXMucHJvcHN9XG4gICAgICAgICAgcmVmPXtyZWYgPT4ge1xuICAgICAgICAgICAgdGhpcy5fY2VsbFJlZnNba2V5XSA9IHJlZjtcbiAgICAgICAgICB9fVxuICAgICAgICAvPixcbiAgICAgICk7XG4gICAgICBwcmV2Q2VsbEtleSA9IGtleTtcbiAgICB9XG4gIH1cblxuICBfb25VcGRhdGVTZXBhcmF0b3JzID0gKGtleXM6IEFycmF5PD9zdHJpbmc+LCBuZXdQcm9wczogT2JqZWN0KSA9PiB7XG4gICAga2V5cy5mb3JFYWNoKGtleSA9PiB7XG4gICAgICBjb25zdCByZWYgPSBrZXkgIT0gbnVsbCAmJiB0aGlzLl9jZWxsUmVmc1trZXldO1xuICAgICAgcmVmICYmIHJlZi51cGRhdGVTZXBhcmF0b3JQcm9wcyhuZXdQcm9wcyk7XG4gICAgfSk7XG4gIH07XG5cbiAgX2lzVmlydHVhbGl6YXRpb25EaXNhYmxlZCgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5wcm9wcy5kaXNhYmxlVmlydHVhbGl6YXRpb247XG4gIH1cblxuICBfaXNOZXN0ZWRXaXRoU2FtZU9yaWVudGF0aW9uKCk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IG5lc3RlZENvbnRleHQgPSB0aGlzLmNvbnRleHQudmlydHVhbGl6ZWRMaXN0O1xuICAgIHJldHVybiAhIShcbiAgICAgIG5lc3RlZENvbnRleHQgJiYgISFuZXN0ZWRDb250ZXh0Lmhvcml6b250YWwgPT09ICEhdGhpcy5wcm9wcy5ob3Jpem9udGFsXG4gICAgKTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBpZiAoX19ERVZfXykge1xuICAgICAgY29uc3QgZmxhdFN0eWxlcyA9IGZsYXR0ZW5TdHlsZSh0aGlzLnByb3BzLmNvbnRlbnRDb250YWluZXJTdHlsZSk7XG4gICAgICB3YXJuaW5nKFxuICAgICAgICBmbGF0U3R5bGVzID09IG51bGwgfHwgZmxhdFN0eWxlcy5mbGV4V3JhcCAhPT0gJ3dyYXAnLFxuICAgICAgICAnYGZsZXhXcmFwOiBgd3JhcGBgIGlzIG5vdCBzdXBwb3J0ZWQgd2l0aCB0aGUgYFZpcnR1YWxpemVkTGlzdGAgY29tcG9uZW50cy4nICtcbiAgICAgICAgICAnQ29uc2lkZXIgdXNpbmcgYG51bUNvbHVtbnNgIHdpdGggYEZsYXRMaXN0YCBpbnN0ZWFkLicsXG4gICAgICApO1xuICAgIH1cbiAgICBjb25zdCB7XG4gICAgICBMaXN0RW1wdHlDb21wb25lbnQsXG4gICAgICBMaXN0Rm9vdGVyQ29tcG9uZW50LFxuICAgICAgTGlzdEhlYWRlckNvbXBvbmVudCxcbiAgICB9ID0gdGhpcy5wcm9wcztcbiAgICBjb25zdCB7ZGF0YSwgaG9yaXpvbnRhbH0gPSB0aGlzLnByb3BzO1xuICAgIGNvbnN0IGlzVmlydHVhbGl6YXRpb25EaXNhYmxlZCA9IHRoaXMuX2lzVmlydHVhbGl6YXRpb25EaXNhYmxlZCgpO1xuICAgIGNvbnN0IGludmVyc2lvblN0eWxlID0gdGhpcy5wcm9wcy5pbnZlcnRlZFxuICAgICAgPyB0aGlzLnByb3BzLmhvcml6b250YWxcbiAgICAgICAgPyBzdHlsZXMuaG9yaXpvbnRhbGx5SW52ZXJ0ZWRcbiAgICAgICAgOiBzdHlsZXMudmVydGljYWxseUludmVydGVkXG4gICAgICA6IG51bGw7XG4gICAgY29uc3QgY2VsbHMgPSBbXTtcbiAgICBjb25zdCBzdGlja3lJbmRpY2VzRnJvbVByb3BzID0gbmV3IFNldCh0aGlzLnByb3BzLnN0aWNreUhlYWRlckluZGljZXMpO1xuICAgIGNvbnN0IHN0aWNreUhlYWRlckluZGljZXMgPSBbXTtcbiAgICBpZiAoTGlzdEhlYWRlckNvbXBvbmVudCkge1xuICAgICAgaWYgKHN0aWNreUluZGljZXNGcm9tUHJvcHMuaGFzKDApKSB7XG4gICAgICAgIHN0aWNreUhlYWRlckluZGljZXMucHVzaCgwKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGVsZW1lbnQgPSBSZWFjdC5pc1ZhbGlkRWxlbWVudChMaXN0SGVhZGVyQ29tcG9uZW50KSA/IChcbiAgICAgICAgTGlzdEhlYWRlckNvbXBvbmVudFxuICAgICAgKSA6IChcbiAgICAgICAgLy8gJEZsb3dGaXhNZVxuICAgICAgICA8TGlzdEhlYWRlckNvbXBvbmVudCAvPlxuICAgICAgKTtcbiAgICAgIGNlbGxzLnB1c2goXG4gICAgICAgIDxWaXJ0dWFsaXplZENlbGxXcmFwcGVyXG4gICAgICAgICAgY2VsbEtleT17dGhpcy5fZ2V0Q2VsbEtleSgpICsgJy1oZWFkZXInfVxuICAgICAgICAgIGtleT1cIiRoZWFkZXJcIj5cbiAgICAgICAgICA8VmlldyBvbkxheW91dD17dGhpcy5fb25MYXlvdXRIZWFkZXJ9IHN0eWxlPXtpbnZlcnNpb25TdHlsZX0+XG4gICAgICAgICAgICB7LypcbiAgICAgICAgICAgICAgRmxvdyBkb2Vzbid0IGtub3cgdGhpcyBpcyBhIFJlYWN0LkVsZW1lbnQgYW5kIG5vdCBhIFJlYWN0LkNvbXBvbmVudFxuICAgICAgICAgICAgICAkRmxvd0ZpeE1lIGh0dHBzOi8vZmJ1cmwuY29tL2I5eG10bTA5XG4gICAgICAgICAgICAqL31cbiAgICAgICAgICAgIHtlbGVtZW50fVxuICAgICAgICAgIDwvVmlldz5cbiAgICAgICAgPC9WaXJ0dWFsaXplZENlbGxXcmFwcGVyPixcbiAgICAgICk7XG4gICAgfVxuICAgIGNvbnN0IGl0ZW1Db3VudCA9IHRoaXMucHJvcHMuZ2V0SXRlbUNvdW50KGRhdGEpO1xuICAgIGlmIChpdGVtQ291bnQgPiAwKSB7XG4gICAgICBfdXNlZEluZGV4Rm9yS2V5ID0gZmFsc2U7XG4gICAgICBjb25zdCBzcGFjZXJLZXkgPSAhaG9yaXpvbnRhbCA/ICdoZWlnaHQnIDogJ3dpZHRoJztcbiAgICAgIGNvbnN0IGxhc3RJbml0aWFsSW5kZXggPSB0aGlzLnByb3BzLmluaXRpYWxTY3JvbGxJbmRleFxuICAgICAgICA/IC0xXG4gICAgICAgIDogdGhpcy5wcm9wcy5pbml0aWFsTnVtVG9SZW5kZXIgLSAxO1xuICAgICAgY29uc3Qge2ZpcnN0LCBsYXN0fSA9IHRoaXMuc3RhdGU7XG4gICAgICB0aGlzLl9wdXNoQ2VsbHMoXG4gICAgICAgIGNlbGxzLFxuICAgICAgICBzdGlja3lIZWFkZXJJbmRpY2VzLFxuICAgICAgICBzdGlja3lJbmRpY2VzRnJvbVByb3BzLFxuICAgICAgICAwLFxuICAgICAgICBsYXN0SW5pdGlhbEluZGV4LFxuICAgICAgICBpbnZlcnNpb25TdHlsZSxcbiAgICAgICk7XG4gICAgICBjb25zdCBmaXJzdEFmdGVySW5pdGlhbCA9IE1hdGgubWF4KGxhc3RJbml0aWFsSW5kZXggKyAxLCBmaXJzdCk7XG4gICAgICBpZiAoIWlzVmlydHVhbGl6YXRpb25EaXNhYmxlZCAmJiBmaXJzdCA+IGxhc3RJbml0aWFsSW5kZXggKyAxKSB7XG4gICAgICAgIGxldCBpbnNlcnRlZFN0aWNreVNwYWNlciA9IGZhbHNlO1xuICAgICAgICBpZiAoc3RpY2t5SW5kaWNlc0Zyb21Qcm9wcy5zaXplID4gMCkge1xuICAgICAgICAgIGNvbnN0IHN0aWNreU9mZnNldCA9IExpc3RIZWFkZXJDb21wb25lbnQgPyAxIDogMDtcbiAgICAgICAgICAvLyBTZWUgaWYgdGhlcmUgYXJlIGFueSBzdGlja3kgaGVhZGVycyBpbiB0aGUgdmlydHVhbGl6ZWQgc3BhY2UgdGhhdCB3ZSBuZWVkIHRvIHJlbmRlci5cbiAgICAgICAgICBmb3IgKGxldCBpaSA9IGZpcnN0QWZ0ZXJJbml0aWFsIC0gMTsgaWkgPiBsYXN0SW5pdGlhbEluZGV4OyBpaS0tKSB7XG4gICAgICAgICAgICBpZiAoc3RpY2t5SW5kaWNlc0Zyb21Qcm9wcy5oYXMoaWkgKyBzdGlja3lPZmZzZXQpKSB7XG4gICAgICAgICAgICAgIGNvbnN0IGluaXRCbG9jayA9IHRoaXMuX2dldEZyYW1lTWV0cmljc0FwcHJveChsYXN0SW5pdGlhbEluZGV4KTtcbiAgICAgICAgICAgICAgY29uc3Qgc3RpY2t5QmxvY2sgPSB0aGlzLl9nZXRGcmFtZU1ldHJpY3NBcHByb3goaWkpO1xuICAgICAgICAgICAgICBjb25zdCBsZWFkU3BhY2UgPVxuICAgICAgICAgICAgICAgIHN0aWNreUJsb2NrLm9mZnNldCAtIChpbml0QmxvY2sub2Zmc2V0ICsgaW5pdEJsb2NrLmxlbmd0aCk7XG4gICAgICAgICAgICAgIGNlbGxzLnB1c2goXG4gICAgICAgICAgICAgICAgPFZpZXcga2V5PVwiJHN0aWNreV9sZWFkXCIgc3R5bGU9e3tbc3BhY2VyS2V5XTogbGVhZFNwYWNlfX0gLz4sXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIHRoaXMuX3B1c2hDZWxscyhcbiAgICAgICAgICAgICAgICBjZWxscyxcbiAgICAgICAgICAgICAgICBzdGlja3lIZWFkZXJJbmRpY2VzLFxuICAgICAgICAgICAgICAgIHN0aWNreUluZGljZXNGcm9tUHJvcHMsXG4gICAgICAgICAgICAgICAgaWksXG4gICAgICAgICAgICAgICAgaWksXG4gICAgICAgICAgICAgICAgaW52ZXJzaW9uU3R5bGUsXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIGNvbnN0IHRyYWlsU3BhY2UgPVxuICAgICAgICAgICAgICAgIHRoaXMuX2dldEZyYW1lTWV0cmljc0FwcHJveChmaXJzdCkub2Zmc2V0IC1cbiAgICAgICAgICAgICAgICAoc3RpY2t5QmxvY2sub2Zmc2V0ICsgc3RpY2t5QmxvY2subGVuZ3RoKTtcbiAgICAgICAgICAgICAgY2VsbHMucHVzaChcbiAgICAgICAgICAgICAgICA8VmlldyBrZXk9XCIkc3RpY2t5X3RyYWlsXCIgc3R5bGU9e3tbc3BhY2VyS2V5XTogdHJhaWxTcGFjZX19IC8+LFxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICBpbnNlcnRlZFN0aWNreVNwYWNlciA9IHRydWU7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoIWluc2VydGVkU3RpY2t5U3BhY2VyKSB7XG4gICAgICAgICAgY29uc3QgaW5pdEJsb2NrID0gdGhpcy5fZ2V0RnJhbWVNZXRyaWNzQXBwcm94KGxhc3RJbml0aWFsSW5kZXgpO1xuICAgICAgICAgIGNvbnN0IGZpcnN0U3BhY2UgPVxuICAgICAgICAgICAgdGhpcy5fZ2V0RnJhbWVNZXRyaWNzQXBwcm94KGZpcnN0KS5vZmZzZXQgLVxuICAgICAgICAgICAgKGluaXRCbG9jay5vZmZzZXQgKyBpbml0QmxvY2subGVuZ3RoKTtcbiAgICAgICAgICBjZWxscy5wdXNoKFxuICAgICAgICAgICAgPFZpZXcga2V5PVwiJGxlYWRfc3BhY2VyXCIgc3R5bGU9e3tbc3BhY2VyS2V5XTogZmlyc3RTcGFjZX19IC8+LFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHRoaXMuX3B1c2hDZWxscyhcbiAgICAgICAgY2VsbHMsXG4gICAgICAgIHN0aWNreUhlYWRlckluZGljZXMsXG4gICAgICAgIHN0aWNreUluZGljZXNGcm9tUHJvcHMsXG4gICAgICAgIGZpcnN0QWZ0ZXJJbml0aWFsLFxuICAgICAgICBsYXN0LFxuICAgICAgICBpbnZlcnNpb25TdHlsZSxcbiAgICAgICk7XG4gICAgICBpZiAoIXRoaXMuX2hhc1dhcm5lZC5rZXlzICYmIF91c2VkSW5kZXhGb3JLZXkpIHtcbiAgICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAgICdWaXJ0dWFsaXplZExpc3Q6IG1pc3Npbmcga2V5cyBmb3IgaXRlbXMsIG1ha2Ugc3VyZSB0byBzcGVjaWZ5IGEga2V5IHByb3BlcnR5IG9uIGVhY2ggJyArXG4gICAgICAgICAgICAnaXRlbSBvciBwcm92aWRlIGEgY3VzdG9tIGtleUV4dHJhY3Rvci4nLFxuICAgICAgICApO1xuICAgICAgICB0aGlzLl9oYXNXYXJuZWQua2V5cyA9IHRydWU7XG4gICAgICB9XG4gICAgICBpZiAoIWlzVmlydHVhbGl6YXRpb25EaXNhYmxlZCAmJiBsYXN0IDwgaXRlbUNvdW50IC0gMSkge1xuICAgICAgICBjb25zdCBsYXN0RnJhbWUgPSB0aGlzLl9nZXRGcmFtZU1ldHJpY3NBcHByb3gobGFzdCk7XG4gICAgICAgIC8vIFdpdGhvdXQgZ2V0SXRlbUxheW91dCwgd2UgbGltaXQgb3VyIHRhaWwgc3BhY2VyIHRvIHRoZSBfaGlnaGVzdE1lYXN1cmVkRnJhbWVJbmRleCB0b1xuICAgICAgICAvLyBwcmV2ZW50IHRoZSB1c2VyIGZvciBoeXBlcnNjcm9sbGluZyBpbnRvIHVuLW1lYXN1cmVkIGFyZWEgYmVjYXVzZSBvdGhlcndpc2UgY29udGVudCB3aWxsXG4gICAgICAgIC8vIGxpa2VseSBqdW1wIGFyb3VuZCBhcyBpdCByZW5kZXJzIGluIGFib3ZlIHRoZSB2aWV3cG9ydC5cbiAgICAgICAgY29uc3QgZW5kID0gdGhpcy5wcm9wcy5nZXRJdGVtTGF5b3V0XG4gICAgICAgICAgPyBpdGVtQ291bnQgLSAxXG4gICAgICAgICAgOiBNYXRoLm1pbihpdGVtQ291bnQgLSAxLCB0aGlzLl9oaWdoZXN0TWVhc3VyZWRGcmFtZUluZGV4KTtcbiAgICAgICAgY29uc3QgZW5kRnJhbWUgPSB0aGlzLl9nZXRGcmFtZU1ldHJpY3NBcHByb3goZW5kKTtcbiAgICAgICAgY29uc3QgdGFpbFNwYWNlckxlbmd0aCA9XG4gICAgICAgICAgZW5kRnJhbWUub2Zmc2V0ICtcbiAgICAgICAgICBlbmRGcmFtZS5sZW5ndGggLVxuICAgICAgICAgIChsYXN0RnJhbWUub2Zmc2V0ICsgbGFzdEZyYW1lLmxlbmd0aCk7XG4gICAgICAgIGNlbGxzLnB1c2goXG4gICAgICAgICAgPFZpZXcga2V5PVwiJHRhaWxfc3BhY2VyXCIgc3R5bGU9e3tbc3BhY2VyS2V5XTogdGFpbFNwYWNlckxlbmd0aH19IC8+LFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoTGlzdEVtcHR5Q29tcG9uZW50KSB7XG4gICAgICBjb25zdCBlbGVtZW50ID0gUmVhY3QuaXNWYWxpZEVsZW1lbnQoTGlzdEVtcHR5Q29tcG9uZW50KSA/IChcbiAgICAgICAgTGlzdEVtcHR5Q29tcG9uZW50XG4gICAgICApIDogKFxuICAgICAgICAvLyAkRmxvd0ZpeE1lXG4gICAgICAgIDxMaXN0RW1wdHlDb21wb25lbnQgLz5cbiAgICAgICk7XG4gICAgICBjZWxscy5wdXNoKFxuICAgICAgICA8Vmlld1xuICAgICAgICAgIGtleT1cIiRlbXB0eVwiXG4gICAgICAgICAgb25MYXlvdXQ9e3RoaXMuX29uTGF5b3V0RW1wdHl9XG4gICAgICAgICAgc3R5bGU9e2ludmVyc2lvblN0eWxlfT5cbiAgICAgICAgICB7LypcbiAgICAgICAgICAgIEZsb3cgZG9lc24ndCBrbm93IHRoaXMgaXMgYSBSZWFjdC5FbGVtZW50IGFuZCBub3QgYSBSZWFjdC5Db21wb25lbnRcbiAgICAgICAgICAgICRGbG93Rml4TWUgaHR0cHM6Ly9mYnVybC5jb20vYjl4bXRtMDlcbiAgICAgICAgICAqL31cbiAgICAgICAgICB7ZWxlbWVudH1cbiAgICAgICAgPC9WaWV3PixcbiAgICAgICk7XG4gICAgfVxuICAgIGlmIChMaXN0Rm9vdGVyQ29tcG9uZW50KSB7XG4gICAgICBjb25zdCBlbGVtZW50ID0gUmVhY3QuaXNWYWxpZEVsZW1lbnQoTGlzdEZvb3RlckNvbXBvbmVudCkgPyAoXG4gICAgICAgIExpc3RGb290ZXJDb21wb25lbnRcbiAgICAgICkgOiAoXG4gICAgICAgIC8vICRGbG93Rml4TWVcbiAgICAgICAgPExpc3RGb290ZXJDb21wb25lbnQgLz5cbiAgICAgICk7XG4gICAgICBjZWxscy5wdXNoKFxuICAgICAgICA8VmlydHVhbGl6ZWRDZWxsV3JhcHBlclxuICAgICAgICAgIGNlbGxLZXk9e3RoaXMuX2dldENlbGxLZXkoKSArICctZm9vdGVyJ31cbiAgICAgICAgICBrZXk9XCIkZm9vdGVyXCI+XG4gICAgICAgICAgPFZpZXcgb25MYXlvdXQ9e3RoaXMuX29uTGF5b3V0Rm9vdGVyfSBzdHlsZT17aW52ZXJzaW9uU3R5bGV9PlxuICAgICAgICAgICAgey8qXG4gICAgICAgICAgICAgIEZsb3cgZG9lc24ndCBrbm93IHRoaXMgaXMgYSBSZWFjdC5FbGVtZW50IGFuZCBub3QgYSBSZWFjdC5Db21wb25lbnRcbiAgICAgICAgICAgICAgJEZsb3dGaXhNZSBodHRwczovL2ZidXJsLmNvbS9iOXhtdG0wOVxuICAgICAgICAgICAgKi99XG4gICAgICAgICAgICB7ZWxlbWVudH1cbiAgICAgICAgICA8L1ZpZXc+XG4gICAgICAgIDwvVmlydHVhbGl6ZWRDZWxsV3JhcHBlcj4sXG4gICAgICApO1xuICAgIH1cbiAgICBjb25zdCBzY3JvbGxQcm9wcyA9IHtcbiAgICAgIC4uLnRoaXMucHJvcHMsXG4gICAgICBvbkNvbnRlbnRTaXplQ2hhbmdlOiB0aGlzLl9vbkNvbnRlbnRTaXplQ2hhbmdlLFxuICAgICAgb25MYXlvdXQ6IHRoaXMuX29uTGF5b3V0LFxuICAgICAgb25TY3JvbGw6IHRoaXMuX29uU2Nyb2xsLFxuICAgICAgb25TY3JvbGxCZWdpbkRyYWc6IHRoaXMuX29uU2Nyb2xsQmVnaW5EcmFnLFxuICAgICAgb25TY3JvbGxFbmREcmFnOiB0aGlzLl9vblNjcm9sbEVuZERyYWcsXG4gICAgICBvbk1vbWVudHVtU2Nyb2xsRW5kOiB0aGlzLl9vbk1vbWVudHVtU2Nyb2xsRW5kLFxuICAgICAgc2Nyb2xsRXZlbnRUaHJvdHRsZTogdGhpcy5wcm9wcy5zY3JvbGxFdmVudFRocm90dGxlLCAvLyBUT0RPOiBBbmRyb2lkIHN1cHBvcnRcbiAgICAgIGludmVydFN0aWNreUhlYWRlcnM6IHRoaXMucHJvcHMuaW52ZXJ0U3RpY2t5SGVhZGVycyAhPT0gdW5kZWZpbmVkXG4gICAgICAgID8gdGhpcy5wcm9wcy5pbnZlcnRTdGlja3lIZWFkZXJzXG4gICAgICAgIDogdGhpcy5wcm9wcy5pbnZlcnRlZCxcdFxuICAgICAgc3RpY2t5SGVhZGVySW5kaWNlcyxcbiAgICB9O1xuICAgIGlmIChpbnZlcnNpb25TdHlsZSkge1xuICAgICAgc2Nyb2xsUHJvcHMuc3R5bGUgPSBbaW52ZXJzaW9uU3R5bGUsIHRoaXMucHJvcHMuc3R5bGVdO1xuICAgIH1cblxuICAgIHRoaXMuX2hhc01vcmUgPVxuICAgICAgdGhpcy5zdGF0ZS5sYXN0IDwgdGhpcy5wcm9wcy5nZXRJdGVtQ291bnQodGhpcy5wcm9wcy5kYXRhKSAtIDE7XG5cbiAgICBjb25zdCByZXQgPSBSZWFjdC5jbG9uZUVsZW1lbnQoXG4gICAgICAodGhpcy5wcm9wcy5yZW5kZXJTY3JvbGxDb21wb25lbnQgfHwgdGhpcy5fZGVmYXVsdFJlbmRlclNjcm9sbENvbXBvbmVudCkoXG4gICAgICAgIHNjcm9sbFByb3BzLFxuICAgICAgKSxcbiAgICAgIHtcbiAgICAgICAgcmVmOiB0aGlzLl9jYXB0dXJlU2Nyb2xsUmVmLFxuICAgICAgfSxcbiAgICAgIGNlbGxzLFxuICAgICk7XG4gICAgaWYgKHRoaXMucHJvcHMuZGVidWcpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxWaWV3IHN0eWxlPXt7ZmxleDogMX19PlxuICAgICAgICAgIHtyZXR9XG4gICAgICAgICAge3RoaXMuX3JlbmRlckRlYnVnT3ZlcmxheSgpfVxuICAgICAgICA8L1ZpZXc+XG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gcmV0O1xuICAgIH1cbiAgfVxuXG4gIGNvbXBvbmVudERpZFVwZGF0ZShwcmV2UHJvcHM6IFByb3BzKSB7XG4gICAgY29uc3Qge2RhdGEsIGV4dHJhRGF0YX0gPSB0aGlzLnByb3BzO1xuICAgIGlmIChkYXRhICE9PSBwcmV2UHJvcHMuZGF0YSB8fCBleHRyYURhdGEgIT09IHByZXZQcm9wcy5leHRyYURhdGEpIHtcbiAgICAgIHRoaXMuX2hhc0RhdGFDaGFuZ2VkU2luY2VFbmRSZWFjaGVkID0gdHJ1ZTtcblxuICAgICAgLy8gY2xlYXIgdGhlIHZpZXdhYmxlSW5kaWNlcyBjYWNoZSB0byBhbHNvIHRyaWdnZXJcbiAgICAgIC8vIHRoZSBvblZpZXdhYmxlSXRlbXNDaGFuZ2VkIGNhbGxiYWNrIHdpdGggdGhlIG5ldyBkYXRhXG4gICAgICB0aGlzLl92aWV3YWJpbGl0eVR1cGxlcy5mb3JFYWNoKHR1cGxlID0+IHtcbiAgICAgICAgdHVwbGUudmlld2FiaWxpdHlIZWxwZXIucmVzZXRWaWV3YWJsZUluZGljZXMoKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICB0aGlzLl9zY2hlZHVsZUNlbGxzVG9SZW5kZXJVcGRhdGUoKTtcbiAgfVxuXG4gIF9hdmVyYWdlQ2VsbExlbmd0aCA9IDA7XG4gIC8vIE1hcHMgYSBjZWxsIGtleSB0byB0aGUgc2V0IG9mIGtleXMgZm9yIGFsbCBvdXRlcm1vc3QgY2hpbGQgbGlzdHMgd2l0aGluIHRoYXQgY2VsbFxuICBfY2VsbEtleXNUb0NoaWxkTGlzdEtleXM6IE1hcDxzdHJpbmcsIFNldDxzdHJpbmc+PiA9IG5ldyBNYXAoKTtcbiAgX2NlbGxSZWZzID0ge307XG4gIF9maWxsUmF0ZUhlbHBlcjogRmlsbFJhdGVIZWxwZXI7XG4gIF9mcmFtZXMgPSB7fTtcbiAgX2Zvb3Rlckxlbmd0aCA9IDA7XG4gIF9oYXNEYXRhQ2hhbmdlZFNpbmNlRW5kUmVhY2hlZCA9IHRydWU7XG4gIF9oYXNJbnRlcmFjdGVkID0gZmFsc2U7XG4gIF9oYXNNb3JlID0gZmFsc2U7XG4gIF9oYXNXYXJuZWQgPSB7fTtcbiAgX2hpZ2hlc3RNZWFzdXJlZEZyYW1lSW5kZXggPSAwO1xuICBfaGVhZGVyTGVuZ3RoID0gMDtcbiAgX2luZGljZXNUb0tleXM6IE1hcDxudW1iZXIsIHN0cmluZz4gPSBuZXcgTWFwKCk7XG4gIF9oYXNEb25lSW5pdGlhbFNjcm9sbCA9IGZhbHNlO1xuICBfbmVzdGVkQ2hpbGRMaXN0czogTWFwPFxuICAgIHN0cmluZyxcbiAgICB7cmVmOiA/VmlydHVhbGl6ZWRMaXN0LCBzdGF0ZTogP0NoaWxkTGlzdFN0YXRlfSxcbiAgPiA9IG5ldyBNYXAoKTtcbiAgX29mZnNldEZyb21QYXJlbnRWaXJ0dWFsaXplZExpc3Q6IG51bWJlciA9IDA7XG4gIF9wcmV2UGFyZW50T2Zmc2V0OiBudW1iZXIgPSAwO1xuICBfc2Nyb2xsTWV0cmljcyA9IHtcbiAgICBjb250ZW50TGVuZ3RoOiAwLFxuICAgIGRPZmZzZXQ6IDAsXG4gICAgZHQ6IDEwLFxuICAgIG9mZnNldDogMCxcbiAgICB0aW1lc3RhbXA6IDAsXG4gICAgdmVsb2NpdHk6IDAsXG4gICAgdmlzaWJsZUxlbmd0aDogMCxcbiAgfTtcbiAgX3Njcm9sbFJlZjogP1JlYWN0LkVsZW1lbnRSZWY8YW55PiA9IG51bGw7XG4gIF9zZW50RW5kRm9yQ29udGVudExlbmd0aCA9IDA7XG4gIF90b3RhbENlbGxMZW5ndGggPSAwO1xuICBfdG90YWxDZWxsc01lYXN1cmVkID0gMDtcbiAgX3VwZGF0ZUNlbGxzVG9SZW5kZXJCYXRjaGVyOiBCYXRjaGluYXRvcjtcbiAgX3ZpZXdhYmlsaXR5VHVwbGVzOiBBcnJheTxWaWV3YWJpbGl0eUhlbHBlckNhbGxiYWNrVHVwbGU+ID0gW107XG5cbiAgX2NhcHR1cmVTY3JvbGxSZWYgPSByZWYgPT4ge1xuICAgIHRoaXMuX3Njcm9sbFJlZiA9IHJlZjtcbiAgfTtcblxuICBfY29tcHV0ZUJsYW5rbmVzcygpIHtcbiAgICB0aGlzLl9maWxsUmF0ZUhlbHBlci5jb21wdXRlQmxhbmtuZXNzKFxuICAgICAgdGhpcy5wcm9wcyxcbiAgICAgIHRoaXMuc3RhdGUsXG4gICAgICB0aGlzLl9zY3JvbGxNZXRyaWNzLFxuICAgICk7XG4gIH1cblxuICBfZGVmYXVsdFJlbmRlclNjcm9sbENvbXBvbmVudCA9IHByb3BzID0+IHtcbiAgICBpZiAodGhpcy5faXNOZXN0ZWRXaXRoU2FtZU9yaWVudGF0aW9uKCkpIHtcbiAgICAgIHJldHVybiA8VmlldyB7Li4ucHJvcHN9IC8+O1xuICAgIH0gZWxzZSBpZiAocHJvcHMub25SZWZyZXNoKSB7XG4gICAgICBpbnZhcmlhbnQoXG4gICAgICAgIHR5cGVvZiBwcm9wcy5yZWZyZXNoaW5nID09PSAnYm9vbGVhbicsXG4gICAgICAgICdgcmVmcmVzaGluZ2AgcHJvcCBtdXN0IGJlIHNldCBhcyBhIGJvb2xlYW4gaW4gb3JkZXIgdG8gdXNlIGBvblJlZnJlc2hgLCBidXQgZ290IGAnICtcbiAgICAgICAgICBKU09OLnN0cmluZ2lmeShwcm9wcy5yZWZyZXNoaW5nKSArXG4gICAgICAgICAgJ2AnLFxuICAgICAgKTtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxTY3JvbGxWaWV3XG4gICAgICAgICAgey4uLnByb3BzfVxuICAgICAgICAgIHJlZnJlc2hDb250cm9sPXtcbiAgICAgICAgICAgIC8qICRGbG93Rml4TWUoPj0wLjUzLjAgc2l0ZT1yZWFjdF9uYXRpdmVfZmIscmVhY3RfbmF0aXZlX29zcykgVGhpc1xuICAgICAgICAgICAgICogY29tbWVudCBzdXBwcmVzc2VzIGFuIGVycm9yIHdoZW4gdXBncmFkaW5nIEZsb3cncyBzdXBwb3J0IGZvclxuICAgICAgICAgICAgICogUmVhY3QuIFRvIHNlZSB0aGUgZXJyb3IgZGVsZXRlIHRoaXMgY29tbWVudCBhbmQgcnVuIEZsb3cuICovXG4gICAgICAgICAgICA8UmVmcmVzaENvbnRyb2xcbiAgICAgICAgICAgICAgcmVmcmVzaGluZz17cHJvcHMucmVmcmVzaGluZ31cbiAgICAgICAgICAgICAgb25SZWZyZXNoPXtwcm9wcy5vblJlZnJlc2h9XG4gICAgICAgICAgICAgIHByb2dyZXNzVmlld09mZnNldD17cHJvcHMucHJvZ3Jlc3NWaWV3T2Zmc2V0fVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICB9XG4gICAgICAgIC8+XG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gPFNjcm9sbFZpZXcgey4uLnByb3BzfSAvPjtcbiAgICB9XG4gIH07XG5cbiAgX29uQ2VsbExheW91dChlLCBjZWxsS2V5LCBpbmRleCkge1xuICAgIGNvbnN0IGxheW91dCA9IGUubmF0aXZlRXZlbnQubGF5b3V0O1xuICAgIGNvbnN0IG5leHQgPSB7XG4gICAgICBvZmZzZXQ6IHRoaXMuX3NlbGVjdE9mZnNldChsYXlvdXQpLFxuICAgICAgbGVuZ3RoOiB0aGlzLl9zZWxlY3RMZW5ndGgobGF5b3V0KSxcbiAgICAgIGluZGV4LFxuICAgICAgaW5MYXlvdXQ6IHRydWUsXG4gICAgfTtcbiAgICBjb25zdCBjdXJyID0gdGhpcy5fZnJhbWVzW2NlbGxLZXldO1xuICAgIGlmIChcbiAgICAgICFjdXJyIHx8XG4gICAgICBuZXh0Lm9mZnNldCAhPT0gY3Vyci5vZmZzZXQgfHxcbiAgICAgIG5leHQubGVuZ3RoICE9PSBjdXJyLmxlbmd0aCB8fFxuICAgICAgaW5kZXggIT09IGN1cnIuaW5kZXhcbiAgICApIHtcbiAgICAgIHRoaXMuX3RvdGFsQ2VsbExlbmd0aCArPSBuZXh0Lmxlbmd0aCAtIChjdXJyID8gY3Vyci5sZW5ndGggOiAwKTtcbiAgICAgIHRoaXMuX3RvdGFsQ2VsbHNNZWFzdXJlZCArPSBjdXJyID8gMCA6IDE7XG4gICAgICB0aGlzLl9hdmVyYWdlQ2VsbExlbmd0aCA9XG4gICAgICAgIHRoaXMuX3RvdGFsQ2VsbExlbmd0aCAvIHRoaXMuX3RvdGFsQ2VsbHNNZWFzdXJlZDtcbiAgICAgIHRoaXMuX2ZyYW1lc1tjZWxsS2V5XSA9IG5leHQ7XG4gICAgICB0aGlzLl9oaWdoZXN0TWVhc3VyZWRGcmFtZUluZGV4ID0gTWF0aC5tYXgoXG4gICAgICAgIHRoaXMuX2hpZ2hlc3RNZWFzdXJlZEZyYW1lSW5kZXgsXG4gICAgICAgIGluZGV4LFxuICAgICAgKTtcbiAgICAgIHRoaXMuX3NjaGVkdWxlQ2VsbHNUb1JlbmRlclVwZGF0ZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9mcmFtZXNbY2VsbEtleV0uaW5MYXlvdXQgPSB0cnVlO1xuICAgIH1cbiAgICB0aGlzLl9jb21wdXRlQmxhbmtuZXNzKCk7XG4gIH1cblxuICBfb25DZWxsVW5tb3VudCA9IChjZWxsS2V5OiBzdHJpbmcpID0+IHtcbiAgICBjb25zdCBjdXJyID0gdGhpcy5fZnJhbWVzW2NlbGxLZXldO1xuICAgIGlmIChjdXJyKSB7XG4gICAgICB0aGlzLl9mcmFtZXNbY2VsbEtleV0gPSB7Li4uY3VyciwgaW5MYXlvdXQ6IGZhbHNlfTtcbiAgICB9XG4gIH07XG5cbiAgX21lYXN1cmVMYXlvdXRSZWxhdGl2ZVRvQ29udGFpbmluZ0xpc3QoKTogdm9pZCB7XG4gICAgVUlNYW5hZ2VyLm1lYXN1cmVMYXlvdXQoXG4gICAgICBSZWFjdE5hdGl2ZS5maW5kTm9kZUhhbmRsZSh0aGlzKSxcbiAgICAgIFJlYWN0TmF0aXZlLmZpbmROb2RlSGFuZGxlKFxuICAgICAgICB0aGlzLmNvbnRleHQudmlydHVhbGl6ZWRMaXN0LmdldE91dGVybW9zdFBhcmVudExpc3RSZWYoKSxcbiAgICAgICksXG4gICAgICBlcnJvciA9PiB7XG4gICAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgICBcIlZpcnR1YWxpemVkTGlzdDogRW5jb3VudGVyZWQgYW4gZXJyb3Igd2hpbGUgbWVhc3VyaW5nIGEgbGlzdCdzXCIgK1xuICAgICAgICAgICAgJyBvZmZzZXQgZnJvbSBpdHMgY29udGFpbmluZyBWaXJ0dWFsaXplZExpc3QuJyxcbiAgICAgICAgKTtcbiAgICAgIH0sXG4gICAgICAoeCwgeSwgd2lkdGgsIGhlaWdodCkgPT4ge1xuICAgICAgICB0aGlzLl9vZmZzZXRGcm9tUGFyZW50VmlydHVhbGl6ZWRMaXN0ID0gdGhpcy5fc2VsZWN0T2Zmc2V0KHt4LCB5fSk7XG4gICAgICAgIHRoaXMuX3Njcm9sbE1ldHJpY3MuY29udGVudExlbmd0aCA9IHRoaXMuX3NlbGVjdExlbmd0aCh7d2lkdGgsIGhlaWdodH0pO1xuXG4gICAgICAgIGNvbnN0IHNjcm9sbE1ldHJpY3MgPSB0aGlzLl9jb252ZXJ0UGFyZW50U2Nyb2xsTWV0cmljcyhcbiAgICAgICAgICB0aGlzLmNvbnRleHQudmlydHVhbGl6ZWRMaXN0LmdldFNjcm9sbE1ldHJpY3MoKSxcbiAgICAgICAgKTtcbiAgICAgICAgdGhpcy5fc2Nyb2xsTWV0cmljcy52aXNpYmxlTGVuZ3RoID0gc2Nyb2xsTWV0cmljcy52aXNpYmxlTGVuZ3RoO1xuICAgICAgICB0aGlzLl9zY3JvbGxNZXRyaWNzLm9mZnNldCA9IHNjcm9sbE1ldHJpY3Mub2Zmc2V0O1xuICAgICAgfSxcbiAgICApO1xuICB9XG5cbiAgX29uTGF5b3V0ID0gKGU6IE9iamVjdCkgPT4ge1xuICAgIGlmICh0aGlzLl9pc05lc3RlZFdpdGhTYW1lT3JpZW50YXRpb24oKSkge1xuICAgICAgLy8gTmVlZCB0byBhZGp1c3Qgb3VyIHNjcm9sbCBtZXRyaWNzIHRvIGJlIHJlbGF0aXZlIHRvIG91ciBjb250YWluaW5nXG4gICAgICAvLyBWaXJ0dWFsaXplZExpc3QgYmVmb3JlIHdlIGNhbiBtYWtlIGNsYWltcyBhYm91dCBsaXN0IGl0ZW0gdmlld2FiaWxpdHlcbiAgICAgIHRoaXMuX21lYXN1cmVMYXlvdXRSZWxhdGl2ZVRvQ29udGFpbmluZ0xpc3QoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fc2Nyb2xsTWV0cmljcy52aXNpYmxlTGVuZ3RoID0gdGhpcy5fc2VsZWN0TGVuZ3RoKFxuICAgICAgICBlLm5hdGl2ZUV2ZW50LmxheW91dCxcbiAgICAgICk7XG4gICAgfVxuICAgIHRoaXMucHJvcHMub25MYXlvdXQgJiYgdGhpcy5wcm9wcy5vbkxheW91dChlKTtcbiAgICB0aGlzLl9zY2hlZHVsZUNlbGxzVG9SZW5kZXJVcGRhdGUoKTtcbiAgICB0aGlzLl9tYXliZUNhbGxPbkVuZFJlYWNoZWQoKTtcbiAgfTtcblxuICBfb25MYXlvdXRFbXB0eSA9IGUgPT4ge1xuICAgIHRoaXMucHJvcHMub25MYXlvdXQgJiYgdGhpcy5wcm9wcy5vbkxheW91dChlKTtcbiAgfTtcblxuICBfb25MYXlvdXRGb290ZXIgPSBlID0+IHtcbiAgICB0aGlzLl9mb290ZXJMZW5ndGggPSB0aGlzLl9zZWxlY3RMZW5ndGgoZS5uYXRpdmVFdmVudC5sYXlvdXQpO1xuICB9O1xuXG4gIF9vbkxheW91dEhlYWRlciA9IGUgPT4ge1xuICAgIHRoaXMuX2hlYWRlckxlbmd0aCA9IHRoaXMuX3NlbGVjdExlbmd0aChlLm5hdGl2ZUV2ZW50LmxheW91dCk7XG4gIH07XG5cbiAgX3JlbmRlckRlYnVnT3ZlcmxheSgpIHtcbiAgICBjb25zdCBub3JtYWxpemUgPVxuICAgICAgdGhpcy5fc2Nyb2xsTWV0cmljcy52aXNpYmxlTGVuZ3RoIC8gdGhpcy5fc2Nyb2xsTWV0cmljcy5jb250ZW50TGVuZ3RoO1xuICAgIGNvbnN0IGZyYW1lc0luTGF5b3V0ID0gW107XG4gICAgY29uc3QgaXRlbUNvdW50ID0gdGhpcy5wcm9wcy5nZXRJdGVtQ291bnQodGhpcy5wcm9wcy5kYXRhKTtcbiAgICBmb3IgKGxldCBpaSA9IDA7IGlpIDwgaXRlbUNvdW50OyBpaSsrKSB7XG4gICAgICBjb25zdCBmcmFtZSA9IHRoaXMuX2dldEZyYW1lTWV0cmljc0FwcHJveChpaSk7XG4gICAgICBpZiAoZnJhbWUuaW5MYXlvdXQpIHtcbiAgICAgICAgZnJhbWVzSW5MYXlvdXQucHVzaChmcmFtZSk7XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IHdpbmRvd1RvcCA9IHRoaXMuX2dldEZyYW1lTWV0cmljc0FwcHJveCh0aGlzLnN0YXRlLmZpcnN0KS5vZmZzZXQ7XG4gICAgY29uc3QgZnJhbWVMYXN0ID0gdGhpcy5fZ2V0RnJhbWVNZXRyaWNzQXBwcm94KHRoaXMuc3RhdGUubGFzdCk7XG4gICAgY29uc3Qgd2luZG93TGVuID0gZnJhbWVMYXN0Lm9mZnNldCArIGZyYW1lTGFzdC5sZW5ndGggLSB3aW5kb3dUb3A7XG4gICAgY29uc3QgdmlzVG9wID0gdGhpcy5fc2Nyb2xsTWV0cmljcy5vZmZzZXQ7XG4gICAgY29uc3QgdmlzTGVuID0gdGhpcy5fc2Nyb2xsTWV0cmljcy52aXNpYmxlTGVuZ3RoO1xuICAgIGNvbnN0IGJhc2VTdHlsZSA9IHtwb3NpdGlvbjogJ2Fic29sdXRlJywgdG9wOiAwLCByaWdodDogMH07XG4gICAgcmV0dXJuIChcbiAgICAgIDxWaWV3XG4gICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgLi4uYmFzZVN0eWxlLFxuICAgICAgICAgIGJvdHRvbTogMCxcbiAgICAgICAgICB3aWR0aDogMjAsXG4gICAgICAgICAgYm9yZGVyQ29sb3I6ICdibHVlJyxcbiAgICAgICAgICBib3JkZXJXaWR0aDogMSxcbiAgICAgICAgfX0+XG4gICAgICAgIHtmcmFtZXNJbkxheW91dC5tYXAoKGYsIGlpKSA9PiAoXG4gICAgICAgICAgPFZpZXdcbiAgICAgICAgICAgIGtleT17J2YnICsgaWl9XG4gICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAuLi5iYXNlU3R5bGUsXG4gICAgICAgICAgICAgIGxlZnQ6IDAsXG4gICAgICAgICAgICAgIHRvcDogZi5vZmZzZXQgKiBub3JtYWxpemUsXG4gICAgICAgICAgICAgIGhlaWdodDogZi5sZW5ndGggKiBub3JtYWxpemUsXG4gICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJ29yYW5nZScsXG4gICAgICAgICAgICB9fVxuICAgICAgICAgIC8+XG4gICAgICAgICkpfVxuICAgICAgICA8Vmlld1xuICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAuLi5iYXNlU3R5bGUsXG4gICAgICAgICAgICBsZWZ0OiAwLFxuICAgICAgICAgICAgdG9wOiB3aW5kb3dUb3AgKiBub3JtYWxpemUsXG4gICAgICAgICAgICBoZWlnaHQ6IHdpbmRvd0xlbiAqIG5vcm1hbGl6ZSxcbiAgICAgICAgICAgIGJvcmRlckNvbG9yOiAnZ3JlZW4nLFxuICAgICAgICAgICAgYm9yZGVyV2lkdGg6IDIsXG4gICAgICAgICAgfX1cbiAgICAgICAgLz5cbiAgICAgICAgPFZpZXdcbiAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgLi4uYmFzZVN0eWxlLFxuICAgICAgICAgICAgbGVmdDogMCxcbiAgICAgICAgICAgIHRvcDogdmlzVG9wICogbm9ybWFsaXplLFxuICAgICAgICAgICAgaGVpZ2h0OiB2aXNMZW4gKiBub3JtYWxpemUsXG4gICAgICAgICAgICBib3JkZXJDb2xvcjogJ3JlZCcsXG4gICAgICAgICAgICBib3JkZXJXaWR0aDogMixcbiAgICAgICAgICB9fVxuICAgICAgICAvPlxuICAgICAgPC9WaWV3PlxuICAgICk7XG4gIH1cblxuICBfc2VsZWN0TGVuZ3RoKG1ldHJpY3M6ICRSZWFkT25seTx7aGVpZ2h0OiBudW1iZXIsIHdpZHRoOiBudW1iZXJ9Pik6IG51bWJlciB7XG4gICAgcmV0dXJuICF0aGlzLnByb3BzLmhvcml6b250YWwgPyBtZXRyaWNzLmhlaWdodCA6IG1ldHJpY3Mud2lkdGg7XG4gIH1cblxuICBfc2VsZWN0T2Zmc2V0KG1ldHJpY3M6ICRSZWFkT25seTx7eDogbnVtYmVyLCB5OiBudW1iZXJ9Pik6IG51bWJlciB7XG4gICAgcmV0dXJuICF0aGlzLnByb3BzLmhvcml6b250YWwgPyBtZXRyaWNzLnkgOiBtZXRyaWNzLng7XG4gIH1cblxuICBfbWF5YmVDYWxsT25FbmRSZWFjaGVkKCkge1xuICAgIGNvbnN0IHtcbiAgICAgIGRhdGEsXG4gICAgICBnZXRJdGVtQ291bnQsXG4gICAgICBvbkVuZFJlYWNoZWQsXG4gICAgICBvbkVuZFJlYWNoZWRUaHJlc2hvbGQsXG4gICAgfSA9IHRoaXMucHJvcHM7XG4gICAgY29uc3Qge2NvbnRlbnRMZW5ndGgsIHZpc2libGVMZW5ndGgsIG9mZnNldH0gPSB0aGlzLl9zY3JvbGxNZXRyaWNzO1xuICAgIGNvbnN0IGRpc3RhbmNlRnJvbUVuZCA9IGNvbnRlbnRMZW5ndGggLSB2aXNpYmxlTGVuZ3RoIC0gb2Zmc2V0O1xuICAgIGlmIChcbiAgICAgIG9uRW5kUmVhY2hlZCAmJlxuICAgICAgdGhpcy5zdGF0ZS5sYXN0ID09PSBnZXRJdGVtQ291bnQoZGF0YSkgLSAxICYmXG4gICAgICAvKiAkRmxvd0ZpeE1lKD49MC42My4wIHNpdGU9cmVhY3RfbmF0aXZlX2ZiKSBUaGlzIGNvbW1lbnQgc3VwcHJlc3NlcyBhblxuICAgICAgICogZXJyb3IgZm91bmQgd2hlbiBGbG93IHYwLjYzIHdhcyBkZXBsb3llZC4gVG8gc2VlIHRoZSBlcnJvciBkZWxldGUgdGhpc1xuICAgICAgICogY29tbWVudCBhbmQgcnVuIEZsb3cuICovXG4gICAgICBkaXN0YW5jZUZyb21FbmQgPCBvbkVuZFJlYWNoZWRUaHJlc2hvbGQgKiB2aXNpYmxlTGVuZ3RoICYmXG4gICAgICAodGhpcy5faGFzRGF0YUNoYW5nZWRTaW5jZUVuZFJlYWNoZWQgfHxcbiAgICAgICAgdGhpcy5fc2Nyb2xsTWV0cmljcy5jb250ZW50TGVuZ3RoICE9PSB0aGlzLl9zZW50RW5kRm9yQ29udGVudExlbmd0aClcbiAgICApIHtcbiAgICAgIC8vIE9ubHkgY2FsbCBvbkVuZFJlYWNoZWQgb25jZSBmb3IgYSBnaXZlbiBkYXRhc2V0ICsgY29udGVudCBsZW5ndGguXG4gICAgICB0aGlzLl9oYXNEYXRhQ2hhbmdlZFNpbmNlRW5kUmVhY2hlZCA9IGZhbHNlO1xuICAgICAgdGhpcy5fc2VudEVuZEZvckNvbnRlbnRMZW5ndGggPSB0aGlzLl9zY3JvbGxNZXRyaWNzLmNvbnRlbnRMZW5ndGg7XG4gICAgICBvbkVuZFJlYWNoZWQoe2Rpc3RhbmNlRnJvbUVuZH0pO1xuICAgIH1cbiAgfVxuXG4gIF9vbkNvbnRlbnRTaXplQ2hhbmdlID0gKHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyKSA9PiB7XG4gICAgaWYgKFxuICAgICAgd2lkdGggPiAwICYmXG4gICAgICBoZWlnaHQgPiAwICYmXG4gICAgICB0aGlzLnByb3BzLmluaXRpYWxTY3JvbGxJbmRleCAhPSBudWxsICYmXG4gICAgICB0aGlzLnByb3BzLmluaXRpYWxTY3JvbGxJbmRleCA+IDAgJiZcbiAgICAgICF0aGlzLl9oYXNEb25lSW5pdGlhbFNjcm9sbFxuICAgICkge1xuICAgICAgdGhpcy5zY3JvbGxUb0luZGV4KHtcbiAgICAgICAgYW5pbWF0ZWQ6IGZhbHNlLFxuICAgICAgICBpbmRleDogdGhpcy5wcm9wcy5pbml0aWFsU2Nyb2xsSW5kZXgsXG4gICAgICB9KTtcbiAgICAgIHRoaXMuX2hhc0RvbmVJbml0aWFsU2Nyb2xsID0gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKHRoaXMucHJvcHMub25Db250ZW50U2l6ZUNoYW5nZSkge1xuICAgICAgdGhpcy5wcm9wcy5vbkNvbnRlbnRTaXplQ2hhbmdlKHdpZHRoLCBoZWlnaHQpO1xuICAgIH1cbiAgICB0aGlzLl9zY3JvbGxNZXRyaWNzLmNvbnRlbnRMZW5ndGggPSB0aGlzLl9zZWxlY3RMZW5ndGgoe2hlaWdodCwgd2lkdGh9KTtcbiAgICB0aGlzLl9zY2hlZHVsZUNlbGxzVG9SZW5kZXJVcGRhdGUoKTtcbiAgICB0aGlzLl9tYXliZUNhbGxPbkVuZFJlYWNoZWQoKTtcbiAgfTtcblxuICAvKiBUcmFuc2xhdGVzIG1ldHJpY3MgZnJvbSBhIHNjcm9sbCBldmVudCBpbiBhIHBhcmVudCBWaXJ0dWFsaXplZExpc3QgaW50b1xuICAgKiBjb29yZGluYXRlcyByZWxhdGl2ZSB0byB0aGUgY2hpbGQgbGlzdC5cbiAgICovXG4gIF9jb252ZXJ0UGFyZW50U2Nyb2xsTWV0cmljcyA9IChtZXRyaWNzOiB7XG4gICAgdmlzaWJsZUxlbmd0aDogbnVtYmVyLFxuICAgIG9mZnNldDogbnVtYmVyLFxuICB9KSA9PiB7XG4gICAgLy8gT2Zmc2V0IG9mIHRoZSB0b3Agb2YgdGhlIG5lc3RlZCBsaXN0IHJlbGF0aXZlIHRvIHRoZSB0b3Agb2YgaXRzIHBhcmVudCdzIHZpZXdwb3J0XG4gICAgY29uc3Qgb2Zmc2V0ID0gbWV0cmljcy5vZmZzZXQgLSB0aGlzLl9vZmZzZXRGcm9tUGFyZW50VmlydHVhbGl6ZWRMaXN0O1xuICAgIC8vIENoaWxkJ3MgdmlzaWJsZSBsZW5ndGggaXMgdGhlIHNhbWUgYXMgaXRzIHBhcmVudCdzXG4gICAgY29uc3QgdmlzaWJsZUxlbmd0aCA9IG1ldHJpY3MudmlzaWJsZUxlbmd0aDtcbiAgICBjb25zdCBkT2Zmc2V0ID0gb2Zmc2V0IC0gdGhpcy5fc2Nyb2xsTWV0cmljcy5vZmZzZXQ7XG4gICAgY29uc3QgY29udGVudExlbmd0aCA9IHRoaXMuX3Njcm9sbE1ldHJpY3MuY29udGVudExlbmd0aDtcblxuICAgIHJldHVybiB7XG4gICAgICB2aXNpYmxlTGVuZ3RoLFxuICAgICAgY29udGVudExlbmd0aCxcbiAgICAgIG9mZnNldCxcbiAgICAgIGRPZmZzZXQsXG4gICAgfTtcbiAgfTtcblxuICBfb25TY3JvbGwgPSAoZTogT2JqZWN0KSA9PiB7XG4gICAgdGhpcy5fbmVzdGVkQ2hpbGRMaXN0cy5mb3JFYWNoKGNoaWxkTGlzdCA9PiB7XG4gICAgICBjaGlsZExpc3QucmVmICYmIGNoaWxkTGlzdC5yZWYuX29uU2Nyb2xsKGUpO1xuICAgIH0pO1xuICAgIGlmICh0aGlzLnByb3BzLm9uU2Nyb2xsKSB7XG4gICAgICB0aGlzLnByb3BzLm9uU2Nyb2xsKGUpO1xuICAgIH1cbiAgICBjb25zdCB0aW1lc3RhbXAgPSBlLnRpbWVTdGFtcDtcbiAgICBsZXQgdmlzaWJsZUxlbmd0aCA9IHRoaXMuX3NlbGVjdExlbmd0aChlLm5hdGl2ZUV2ZW50LmxheW91dE1lYXN1cmVtZW50KTtcbiAgICBsZXQgY29udGVudExlbmd0aCA9IHRoaXMuX3NlbGVjdExlbmd0aChlLm5hdGl2ZUV2ZW50LmNvbnRlbnRTaXplKTtcbiAgICBsZXQgb2Zmc2V0ID0gdGhpcy5fc2VsZWN0T2Zmc2V0KGUubmF0aXZlRXZlbnQuY29udGVudE9mZnNldCk7XG4gICAgbGV0IGRPZmZzZXQgPSBvZmZzZXQgLSB0aGlzLl9zY3JvbGxNZXRyaWNzLm9mZnNldDtcblxuICAgIGlmICh0aGlzLl9pc05lc3RlZFdpdGhTYW1lT3JpZW50YXRpb24oKSkge1xuICAgICAgaWYgKHRoaXMuX3Njcm9sbE1ldHJpY3MuY29udGVudExlbmd0aCA9PT0gMCkge1xuICAgICAgICAvLyBJZ25vcmUgc2Nyb2xsIGV2ZW50cyB1bnRpbCBvbkxheW91dCBoYXMgYmVlbiBjYWxsZWQgYW5kIHdlXG4gICAgICAgIC8vIGtub3cgb3VyIG9mZnNldCBmcm9tIG91ciBvZmZzZXQgZnJvbSBvdXIgcGFyZW50XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgICh7XG4gICAgICAgIHZpc2libGVMZW5ndGgsXG4gICAgICAgIGNvbnRlbnRMZW5ndGgsXG4gICAgICAgIG9mZnNldCxcbiAgICAgICAgZE9mZnNldCxcbiAgICAgIH0gPSB0aGlzLl9jb252ZXJ0UGFyZW50U2Nyb2xsTWV0cmljcyh7XG4gICAgICAgIHZpc2libGVMZW5ndGgsXG4gICAgICAgIG9mZnNldCxcbiAgICAgIH0pKTtcbiAgICB9XG5cbiAgICBjb25zdCBkdCA9IHRoaXMuX3Njcm9sbE1ldHJpY3MudGltZXN0YW1wXG4gICAgICA/IE1hdGgubWF4KDEsIHRpbWVzdGFtcCAtIHRoaXMuX3Njcm9sbE1ldHJpY3MudGltZXN0YW1wKVxuICAgICAgOiAxO1xuICAgIGNvbnN0IHZlbG9jaXR5ID0gZE9mZnNldCAvIGR0O1xuXG4gICAgaWYgKFxuICAgICAgZHQgPiA1MDAgJiZcbiAgICAgIHRoaXMuX3Njcm9sbE1ldHJpY3MuZHQgPiA1MDAgJiZcbiAgICAgIGNvbnRlbnRMZW5ndGggPiA1ICogdmlzaWJsZUxlbmd0aCAmJlxuICAgICAgIXRoaXMuX2hhc1dhcm5lZC5wZXJmXG4gICAgKSB7XG4gICAgICBpbmZvTG9nKFxuICAgICAgICAnVmlydHVhbGl6ZWRMaXN0OiBZb3UgaGF2ZSBhIGxhcmdlIGxpc3QgdGhhdCBpcyBzbG93IHRvIHVwZGF0ZSAtIG1ha2Ugc3VyZSB5b3VyICcgK1xuICAgICAgICAgICdyZW5kZXJJdGVtIGZ1bmN0aW9uIHJlbmRlcnMgY29tcG9uZW50cyB0aGF0IGZvbGxvdyBSZWFjdCBwZXJmb3JtYW5jZSBiZXN0IHByYWN0aWNlcyAnICtcbiAgICAgICAgICAnbGlrZSBQdXJlQ29tcG9uZW50LCBzaG91bGRDb21wb25lbnRVcGRhdGUsIGV0Yy4nLFxuICAgICAgICB7ZHQsIHByZXZEdDogdGhpcy5fc2Nyb2xsTWV0cmljcy5kdCwgY29udGVudExlbmd0aH0sXG4gICAgICApO1xuICAgICAgdGhpcy5faGFzV2FybmVkLnBlcmYgPSB0cnVlO1xuICAgIH1cbiAgICB0aGlzLl9zY3JvbGxNZXRyaWNzID0ge1xuICAgICAgY29udGVudExlbmd0aCxcbiAgICAgIGR0LFxuICAgICAgZE9mZnNldCxcbiAgICAgIG9mZnNldCxcbiAgICAgIHRpbWVzdGFtcCxcbiAgICAgIHZlbG9jaXR5LFxuICAgICAgdmlzaWJsZUxlbmd0aCxcbiAgICB9O1xuICAgIHRoaXMuX3VwZGF0ZVZpZXdhYmxlSXRlbXModGhpcy5wcm9wcy5kYXRhKTtcbiAgICBpZiAoIXRoaXMucHJvcHMpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5fbWF5YmVDYWxsT25FbmRSZWFjaGVkKCk7XG4gICAgaWYgKHZlbG9jaXR5ICE9PSAwKSB7XG4gICAgICB0aGlzLl9maWxsUmF0ZUhlbHBlci5hY3RpdmF0ZSgpO1xuICAgIH1cbiAgICB0aGlzLl9jb21wdXRlQmxhbmtuZXNzKCk7XG4gICAgdGhpcy5fc2NoZWR1bGVDZWxsc1RvUmVuZGVyVXBkYXRlKCk7XG4gIH07XG5cbiAgX3NjaGVkdWxlQ2VsbHNUb1JlbmRlclVwZGF0ZSgpIHtcbiAgICBjb25zdCB7Zmlyc3QsIGxhc3R9ID0gdGhpcy5zdGF0ZTtcbiAgICBjb25zdCB7b2Zmc2V0LCB2aXNpYmxlTGVuZ3RoLCB2ZWxvY2l0eX0gPSB0aGlzLl9zY3JvbGxNZXRyaWNzO1xuICAgIGNvbnN0IGl0ZW1Db3VudCA9IHRoaXMucHJvcHMuZ2V0SXRlbUNvdW50KHRoaXMucHJvcHMuZGF0YSk7XG4gICAgbGV0IGhpUHJpID0gZmFsc2U7XG4gICAgaWYgKGZpcnN0ID4gMCB8fCBsYXN0IDwgaXRlbUNvdW50IC0gMSkge1xuICAgICAgY29uc3QgZGlzdFRvcCA9IG9mZnNldCAtIHRoaXMuX2dldEZyYW1lTWV0cmljc0FwcHJveChmaXJzdCkub2Zmc2V0O1xuICAgICAgY29uc3QgZGlzdEJvdHRvbSA9XG4gICAgICAgIHRoaXMuX2dldEZyYW1lTWV0cmljc0FwcHJveChsYXN0KS5vZmZzZXQgLSAob2Zmc2V0ICsgdmlzaWJsZUxlbmd0aCk7XG4gICAgICBjb25zdCBzY3JvbGxpbmdUaHJlc2hvbGQgPVxuICAgICAgICAvKiAkRmxvd0ZpeE1lKD49MC42My4wIHNpdGU9cmVhY3RfbmF0aXZlX2ZiKSBUaGlzIGNvbW1lbnQgc3VwcHJlc3NlcyBhblxuICAgICAgICAgKiBlcnJvciBmb3VuZCB3aGVuIEZsb3cgdjAuNjMgd2FzIGRlcGxveWVkLiBUbyBzZWUgdGhlIGVycm9yIGRlbGV0ZVxuICAgICAgICAgKiB0aGlzIGNvbW1lbnQgYW5kIHJ1biBGbG93LiAqL1xuICAgICAgICB0aGlzLnByb3BzLm9uRW5kUmVhY2hlZFRocmVzaG9sZCAqIHZpc2libGVMZW5ndGggLyAyO1xuICAgICAgaGlQcmkgPVxuICAgICAgICBNYXRoLm1pbihkaXN0VG9wLCBkaXN0Qm90dG9tKSA8IDAgfHxcbiAgICAgICAgKHZlbG9jaXR5IDwgLTIgJiYgZGlzdFRvcCA8IHNjcm9sbGluZ1RocmVzaG9sZCkgfHxcbiAgICAgICAgKHZlbG9jaXR5ID4gMiAmJiBkaXN0Qm90dG9tIDwgc2Nyb2xsaW5nVGhyZXNob2xkKTtcbiAgICB9XG4gICAgLy8gT25seSB0cmlnZ2VyIGhpZ2gtcHJpb3JpdHkgdXBkYXRlcyBpZiB3ZSd2ZSBhY3R1YWxseSByZW5kZXJlZCBjZWxscyxcbiAgICAvLyBhbmQgd2l0aCB0aGF0IHNpemUgZXN0aW1hdGUsIGFjY3VyYXRlbHkgY29tcHV0ZSBob3cgbWFueSBjZWxscyB3ZSBzaG91bGQgcmVuZGVyLlxuICAgIC8vIE90aGVyd2lzZSwgaXQgd291bGQganVzdCByZW5kZXIgYXMgbWFueSBjZWxscyBhcyBpdCBjYW4gKG9mIHplcm8gZGltZW5zaW9uKSxcbiAgICAvLyBlYWNoIHRpbWUgdGhyb3VnaCBhdHRlbXB0aW5nIHRvIHJlbmRlciBtb3JlIChsaW1pdGVkIGJ5IG1heFRvUmVuZGVyUGVyQmF0Y2gpLFxuICAgIC8vIHN0YXJ2aW5nIHRoZSByZW5kZXJlciBmcm9tIGFjdHVhbGx5IGxheWluZyBvdXQgdGhlIG9iamVjdHMgYW5kIGNvbXB1dGluZyBfYXZlcmFnZUNlbGxMZW5ndGguXG4gICAgaWYgKGhpUHJpICYmIHRoaXMuX2F2ZXJhZ2VDZWxsTGVuZ3RoKSB7XG4gICAgICAvLyBEb24ndCB3b3JyeSBhYm91dCBpbnRlcmFjdGlvbnMgd2hlbiBzY3JvbGxpbmcgcXVpY2tseTsgZm9jdXMgb24gZmlsbGluZyBjb250ZW50IGFzIGZhc3RcbiAgICAgIC8vIGFzIHBvc3NpYmxlLlxuICAgICAgdGhpcy5fdXBkYXRlQ2VsbHNUb1JlbmRlckJhdGNoZXIuZGlzcG9zZSh7YWJvcnQ6IHRydWV9KTtcbiAgICAgIHRoaXMuX3VwZGF0ZUNlbGxzVG9SZW5kZXIoKTtcbiAgICAgIHJldHVybjtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fdXBkYXRlQ2VsbHNUb1JlbmRlckJhdGNoZXIuc2NoZWR1bGUoKTtcbiAgICB9XG4gIH1cblxuICBfb25TY3JvbGxCZWdpbkRyYWcgPSAoZSk6IHZvaWQgPT4ge1xuICAgIHRoaXMuX25lc3RlZENoaWxkTGlzdHMuZm9yRWFjaChjaGlsZExpc3QgPT4ge1xuICAgICAgY2hpbGRMaXN0LnJlZiAmJiBjaGlsZExpc3QucmVmLl9vblNjcm9sbEJlZ2luRHJhZyhlKTtcbiAgICB9KTtcbiAgICB0aGlzLl92aWV3YWJpbGl0eVR1cGxlcy5mb3JFYWNoKHR1cGxlID0+IHtcbiAgICAgIHR1cGxlLnZpZXdhYmlsaXR5SGVscGVyLnJlY29yZEludGVyYWN0aW9uKCk7XG4gICAgfSk7XG4gICAgdGhpcy5faGFzSW50ZXJhY3RlZCA9IHRydWU7XG4gICAgdGhpcy5wcm9wcy5vblNjcm9sbEJlZ2luRHJhZyAmJiB0aGlzLnByb3BzLm9uU2Nyb2xsQmVnaW5EcmFnKGUpO1xuICB9O1xuXG4gIF9vblNjcm9sbEVuZERyYWcgPSAoZSk6IHZvaWQgPT4ge1xuICAgIGNvbnN0IHt2ZWxvY2l0eX0gPSBlLm5hdGl2ZUV2ZW50O1xuICAgIGlmICh2ZWxvY2l0eSkge1xuICAgICAgdGhpcy5fc2Nyb2xsTWV0cmljcy52ZWxvY2l0eSA9IHRoaXMuX3NlbGVjdE9mZnNldCh2ZWxvY2l0eSk7XG4gICAgfVxuICAgIHRoaXMuX2NvbXB1dGVCbGFua25lc3MoKTtcbiAgICB0aGlzLnByb3BzLm9uU2Nyb2xsRW5kRHJhZyAmJiB0aGlzLnByb3BzLm9uU2Nyb2xsRW5kRHJhZyhlKTtcbiAgfTtcblxuICBfb25Nb21lbnR1bVNjcm9sbEVuZCA9IChlKTogdm9pZCA9PiB7XG4gICAgdGhpcy5fc2Nyb2xsTWV0cmljcy52ZWxvY2l0eSA9IDA7XG4gICAgdGhpcy5fY29tcHV0ZUJsYW5rbmVzcygpO1xuICAgIHRoaXMucHJvcHMub25Nb21lbnR1bVNjcm9sbEVuZCAmJiB0aGlzLnByb3BzLm9uTW9tZW50dW1TY3JvbGxFbmQoZSk7XG4gIH07XG5cbiAgX3VwZGF0ZUNlbGxzVG9SZW5kZXIgPSAoKSA9PiB7XG4gICAgY29uc3Qge2RhdGEsIGdldEl0ZW1Db3VudCwgb25FbmRSZWFjaGVkVGhyZXNob2xkfSA9IHRoaXMucHJvcHM7XG4gICAgY29uc3QgaXNWaXJ0dWFsaXphdGlvbkRpc2FibGVkID0gdGhpcy5faXNWaXJ0dWFsaXphdGlvbkRpc2FibGVkKCk7XG4gICAgdGhpcy5fdXBkYXRlVmlld2FibGVJdGVtcyhkYXRhKTtcbiAgICBpZiAoIWRhdGEpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5zZXRTdGF0ZShzdGF0ZSA9PiB7XG4gICAgICBsZXQgbmV3U3RhdGU7XG4gICAgICBpZiAoIWlzVmlydHVhbGl6YXRpb25EaXNhYmxlZCkge1xuICAgICAgICAvLyBJZiB3ZSBydW4gdGhpcyB3aXRoIGJvZ3VzIGRhdGEsIHdlJ2xsIGZvcmNlLXJlbmRlciB3aW5kb3cge2ZpcnN0OiAwLCBsYXN0OiAwfSxcbiAgICAgICAgLy8gYW5kIHdpcGUgb3V0IHRoZSBpbml0aWFsTnVtVG9SZW5kZXIgcmVuZGVyZWQgZWxlbWVudHMuXG4gICAgICAgIC8vIFNvIGxldCdzIHdhaXQgdW50aWwgdGhlIHNjcm9sbCB2aWV3IG1ldHJpY3MgaGF2ZSBiZWVuIHNldCB1cC4gQW5kIHVudGlsIHRoZW4sXG4gICAgICAgIC8vIHdlIHdpbGwgdHJ1c3QgdGhlIGluaXRpYWxOdW1Ub1JlbmRlciBzdWdnZXN0aW9uXG4gICAgICAgIGlmICh0aGlzLl9zY3JvbGxNZXRyaWNzLnZpc2libGVMZW5ndGgpIHtcbiAgICAgICAgICAvLyBJZiB3ZSBoYXZlIGEgbm9uLXplcm8gaW5pdGlhbFNjcm9sbEluZGV4IGFuZCBydW4gdGhpcyBiZWZvcmUgd2UndmUgc2Nyb2xsZWQsXG4gICAgICAgICAgLy8gd2UnbGwgd2lwZSBvdXQgdGhlIGluaXRpYWxOdW1Ub1JlbmRlciByZW5kZXJlZCBlbGVtZW50cyBzdGFydGluZyBhdCBpbml0aWFsU2Nyb2xsSW5kZXguXG4gICAgICAgICAgLy8gU28gbGV0J3Mgd2FpdCB1bnRpbCB3ZSd2ZSBzY3JvbGxlZCB0aGUgdmlldyB0byB0aGUgcmlnaHQgcGxhY2UuIEFuZCB1bnRpbCB0aGVuLFxuICAgICAgICAgIC8vIHdlIHdpbGwgdHJ1c3QgdGhlIGluaXRpYWxTY3JvbGxJbmRleCBzdWdnZXN0aW9uLlxuICAgICAgICAgIGlmICghdGhpcy5wcm9wcy5pbml0aWFsU2Nyb2xsSW5kZXggfHwgdGhpcy5fc2Nyb2xsTWV0cmljcy5vZmZzZXQpIHtcbiAgICAgICAgICAgIG5ld1N0YXRlID0gY29tcHV0ZVdpbmRvd2VkUmVuZGVyTGltaXRzKFxuICAgICAgICAgICAgICB0aGlzLnByb3BzLFxuICAgICAgICAgICAgICBzdGF0ZSxcbiAgICAgICAgICAgICAgdGhpcy5fZ2V0RnJhbWVNZXRyaWNzQXBwcm94LFxuICAgICAgICAgICAgICB0aGlzLl9zY3JvbGxNZXRyaWNzLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IHtjb250ZW50TGVuZ3RoLCBvZmZzZXQsIHZpc2libGVMZW5ndGh9ID0gdGhpcy5fc2Nyb2xsTWV0cmljcztcbiAgICAgICAgY29uc3QgZGlzdGFuY2VGcm9tRW5kID0gY29udGVudExlbmd0aCAtIHZpc2libGVMZW5ndGggLSBvZmZzZXQ7XG4gICAgICAgIGNvbnN0IHJlbmRlckFoZWFkID1cbiAgICAgICAgICAvKiAkRmxvd0ZpeE1lKD49MC42My4wIHNpdGU9cmVhY3RfbmF0aXZlX2ZiKSBUaGlzIGNvbW1lbnQgc3VwcHJlc3Nlc1xuICAgICAgICAgICAqIGFuIGVycm9yIGZvdW5kIHdoZW4gRmxvdyB2MC42MyB3YXMgZGVwbG95ZWQuIFRvIHNlZSB0aGUgZXJyb3JcbiAgICAgICAgICAgKiBkZWxldGUgdGhpcyBjb21tZW50IGFuZCBydW4gRmxvdy4gKi9cbiAgICAgICAgICBkaXN0YW5jZUZyb21FbmQgPCBvbkVuZFJlYWNoZWRUaHJlc2hvbGQgKiB2aXNpYmxlTGVuZ3RoXG4gICAgICAgICAgICA/IHRoaXMucHJvcHMubWF4VG9SZW5kZXJQZXJCYXRjaFxuICAgICAgICAgICAgOiAwO1xuICAgICAgICBuZXdTdGF0ZSA9IHtcbiAgICAgICAgICBmaXJzdDogMCxcbiAgICAgICAgICBsYXN0OiBNYXRoLm1pbihzdGF0ZS5sYXN0ICsgcmVuZGVyQWhlYWQsIGdldEl0ZW1Db3VudChkYXRhKSAtIDEpLFxuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgaWYgKG5ld1N0YXRlICYmIHRoaXMuX25lc3RlZENoaWxkTGlzdHMuc2l6ZSA+IDApIHtcbiAgICAgICAgY29uc3QgbmV3Rmlyc3QgPSBuZXdTdGF0ZS5maXJzdDtcbiAgICAgICAgY29uc3QgbmV3TGFzdCA9IG5ld1N0YXRlLmxhc3Q7XG4gICAgICAgIC8vIElmIHNvbWUgY2VsbCBpbiB0aGUgbmV3IHN0YXRlIGhhcyBhIGNoaWxkIGxpc3QgaW4gaXQsIHdlIHNob3VsZCBvbmx5IHJlbmRlclxuICAgICAgICAvLyB1cCB0aHJvdWdoIHRoYXQgaXRlbSwgc28gdGhhdCB3ZSBnaXZlIHRoYXQgbGlzdCBhIGNoYW5jZSB0byByZW5kZXIuXG4gICAgICAgIC8vIE90aGVyd2lzZSB0aGVyZSdzIGNodXJuIGZyb20gbXVsdGlwbGUgY2hpbGQgbGlzdHMgbW91bnRpbmcgYW5kIHVuLW1vdW50aW5nXG4gICAgICAgIC8vIHRoZWlyIGl0ZW1zLlxuICAgICAgICBmb3IgKGxldCBpaSA9IG5ld0ZpcnN0OyBpaSA8PSBuZXdMYXN0OyBpaSsrKSB7XG4gICAgICAgICAgY29uc3QgY2VsbEtleUZvckluZGV4ID0gdGhpcy5faW5kaWNlc1RvS2V5cy5nZXQoaWkpO1xuICAgICAgICAgIGNvbnN0IGNoaWxkTGlzdEtleXMgPVxuICAgICAgICAgICAgY2VsbEtleUZvckluZGV4ICYmXG4gICAgICAgICAgICB0aGlzLl9jZWxsS2V5c1RvQ2hpbGRMaXN0S2V5cy5nZXQoY2VsbEtleUZvckluZGV4KTtcbiAgICAgICAgICBpZiAoIWNoaWxkTGlzdEtleXMpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBsZXQgc29tZUNoaWxkSGFzTW9yZSA9IGZhbHNlO1xuICAgICAgICAgIC8vIEZvciBlYWNoIGNlbGwsIG5lZWQgdG8gY2hlY2sgd2hldGhlciBhbnkgY2hpbGQgbGlzdCBpbiBpdCBoYXMgbW9yZSBlbGVtZW50cyB0byByZW5kZXJcbiAgICAgICAgICBmb3IgKGxldCBjaGlsZEtleSBvZiBjaGlsZExpc3RLZXlzKSB7XG4gICAgICAgICAgICBjb25zdCBjaGlsZExpc3QgPSB0aGlzLl9uZXN0ZWRDaGlsZExpc3RzLmdldChjaGlsZEtleSk7XG4gICAgICAgICAgICBpZiAoY2hpbGRMaXN0ICYmIGNoaWxkTGlzdC5yZWYgJiYgY2hpbGRMaXN0LnJlZi5oYXNNb3JlKCkpIHtcbiAgICAgICAgICAgICAgc29tZUNoaWxkSGFzTW9yZSA9IHRydWU7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoc29tZUNoaWxkSGFzTW9yZSkge1xuICAgICAgICAgICAgbmV3U3RhdGUubGFzdCA9IGlpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gbmV3U3RhdGU7XG4gICAgfSk7XG4gIH07XG5cbiAgX2NyZWF0ZVZpZXdUb2tlbiA9IChpbmRleDogbnVtYmVyLCBpc1ZpZXdhYmxlOiBib29sZWFuKSA9PiB7XG4gICAgY29uc3Qge2RhdGEsIGdldEl0ZW0sIGtleUV4dHJhY3Rvcn0gPSB0aGlzLnByb3BzO1xuICAgIGNvbnN0IGl0ZW0gPSBnZXRJdGVtKGRhdGEsIGluZGV4KTtcbiAgICByZXR1cm4ge2luZGV4LCBpdGVtLCBrZXk6IGtleUV4dHJhY3RvcihpdGVtLCBpbmRleCksIGlzVmlld2FibGV9O1xuICB9O1xuXG4gIF9nZXRGcmFtZU1ldHJpY3NBcHByb3ggPSAoXG4gICAgaW5kZXg6IG51bWJlcixcbiAgKToge2xlbmd0aDogbnVtYmVyLCBvZmZzZXQ6IG51bWJlcn0gPT4ge1xuICAgIGNvbnN0IGZyYW1lID0gdGhpcy5fZ2V0RnJhbWVNZXRyaWNzKGluZGV4KTtcbiAgICBpZiAoZnJhbWUgJiYgZnJhbWUuaW5kZXggPT09IGluZGV4KSB7XG4gICAgICAvLyBjaGVjayBmb3IgaW52YWxpZCBmcmFtZXMgZHVlIHRvIHJvdyByZS1vcmRlcmluZ1xuICAgICAgcmV0dXJuIGZyYW1lO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCB7Z2V0SXRlbUxheW91dH0gPSB0aGlzLnByb3BzO1xuICAgICAgaW52YXJpYW50KFxuICAgICAgICAhZ2V0SXRlbUxheW91dCxcbiAgICAgICAgJ1Nob3VsZCBub3QgaGF2ZSB0byBlc3RpbWF0ZSBmcmFtZXMgd2hlbiBhIG1lYXN1cmVtZW50IG1ldHJpY3MgZnVuY3Rpb24gaXMgcHJvdmlkZWQnLFxuICAgICAgKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGxlbmd0aDogdGhpcy5fYXZlcmFnZUNlbGxMZW5ndGgsXG4gICAgICAgIG9mZnNldDogdGhpcy5fYXZlcmFnZUNlbGxMZW5ndGggKiBpbmRleCxcbiAgICAgIH07XG4gICAgfVxuICB9O1xuXG4gIF9nZXRGcmFtZU1ldHJpY3MgPSAoXG4gICAgaW5kZXg6IG51bWJlcixcbiAgKTogP3tcbiAgICBsZW5ndGg6IG51bWJlcixcbiAgICBvZmZzZXQ6IG51bWJlcixcbiAgICBpbmRleDogbnVtYmVyLFxuICAgIGluTGF5b3V0PzogYm9vbGVhbixcbiAgfSA9PiB7XG4gICAgY29uc3Qge1xuICAgICAgZGF0YSxcbiAgICAgIGdldEl0ZW0sXG4gICAgICBnZXRJdGVtQ291bnQsXG4gICAgICBnZXRJdGVtTGF5b3V0LFxuICAgICAga2V5RXh0cmFjdG9yLFxuICAgIH0gPSB0aGlzLnByb3BzO1xuICAgIGludmFyaWFudChcbiAgICAgIGdldEl0ZW1Db3VudChkYXRhKSA+IGluZGV4LFxuICAgICAgJ1RyaWVkIHRvIGdldCBmcmFtZSBmb3Igb3V0IG9mIHJhbmdlIGluZGV4ICcgKyBpbmRleCxcbiAgICApO1xuICAgIGNvbnN0IGl0ZW0gPSBnZXRJdGVtKGRhdGEsIGluZGV4KTtcbiAgICBsZXQgZnJhbWUgPSBpdGVtICYmIHRoaXMuX2ZyYW1lc1trZXlFeHRyYWN0b3IoaXRlbSwgaW5kZXgpXTtcbiAgICBpZiAoIWZyYW1lIHx8IGZyYW1lLmluZGV4ICE9PSBpbmRleCkge1xuICAgICAgaWYgKGdldEl0ZW1MYXlvdXQpIHtcbiAgICAgICAgZnJhbWUgPSBnZXRJdGVtTGF5b3V0KGRhdGEsIGluZGV4KTtcbiAgICAgICAgaWYgKF9fREVWX18pIHtcbiAgICAgICAgICBjb25zdCBmcmFtZVR5cGUgPSBQcm9wVHlwZXMuc2hhcGUoe1xuICAgICAgICAgICAgbGVuZ3RoOiBQcm9wVHlwZXMubnVtYmVyLmlzUmVxdWlyZWQsXG4gICAgICAgICAgICBvZmZzZXQ6IFByb3BUeXBlcy5udW1iZXIuaXNSZXF1aXJlZCxcbiAgICAgICAgICAgIGluZGV4OiBQcm9wVHlwZXMubnVtYmVyLmlzUmVxdWlyZWQsXG4gICAgICAgICAgfSkuaXNSZXF1aXJlZDtcbiAgICAgICAgICBQcm9wVHlwZXMuY2hlY2tQcm9wVHlwZXMoXG4gICAgICAgICAgICB7ZnJhbWU6IGZyYW1lVHlwZX0sXG4gICAgICAgICAgICB7ZnJhbWV9LFxuICAgICAgICAgICAgJ2ZyYW1lJyxcbiAgICAgICAgICAgICdWaXJ0dWFsaXplZExpc3QuZ2V0SXRlbUxheW91dCcsXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICAvKiAkRmxvd0ZpeE1lKD49MC42My4wIHNpdGU9cmVhY3RfbmF0aXZlX2ZiKSBUaGlzIGNvbW1lbnQgc3VwcHJlc3NlcyBhblxuICAgICAqIGVycm9yIGZvdW5kIHdoZW4gRmxvdyB2MC42MyB3YXMgZGVwbG95ZWQuIFRvIHNlZSB0aGUgZXJyb3IgZGVsZXRlIHRoaXNcbiAgICAgKiBjb21tZW50IGFuZCBydW4gRmxvdy4gKi9cbiAgICByZXR1cm4gZnJhbWU7XG4gIH07XG5cbiAgX3VwZGF0ZVZpZXdhYmxlSXRlbXMoZGF0YTogYW55KSB7XG4gICAgY29uc3Qge2dldEl0ZW1Db3VudH0gPSB0aGlzLnByb3BzO1xuXG4gICAgdGhpcy5fdmlld2FiaWxpdHlUdXBsZXMuZm9yRWFjaCh0dXBsZSA9PiB7XG4gICAgICB0dXBsZS52aWV3YWJpbGl0eUhlbHBlci5vblVwZGF0ZShcbiAgICAgICAgZ2V0SXRlbUNvdW50KGRhdGEpLFxuICAgICAgICB0aGlzLl9zY3JvbGxNZXRyaWNzLm9mZnNldCxcbiAgICAgICAgdGhpcy5fc2Nyb2xsTWV0cmljcy52aXNpYmxlTGVuZ3RoLFxuICAgICAgICB0aGlzLl9nZXRGcmFtZU1ldHJpY3MsXG4gICAgICAgIHRoaXMuX2NyZWF0ZVZpZXdUb2tlbixcbiAgICAgICAgdHVwbGUub25WaWV3YWJsZUl0ZW1zQ2hhbmdlZCxcbiAgICAgICAgdGhpcy5zdGF0ZSxcbiAgICAgICk7XG4gICAgfSk7XG4gIH1cbn1cblxuY2xhc3MgQ2VsbFJlbmRlcmVyIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50PFxuICB7XG4gICAgQ2VsbFJlbmRlcmVyQ29tcG9uZW50PzogP1JlYWN0LkNvbXBvbmVudFR5cGU8YW55PixcbiAgICBJdGVtU2VwYXJhdG9yQ29tcG9uZW50OiA/UmVhY3QuQ29tcG9uZW50VHlwZTwqPixcbiAgICBjZWxsS2V5OiBzdHJpbmcsXG4gICAgZmlsbFJhdGVIZWxwZXI6IEZpbGxSYXRlSGVscGVyLFxuICAgIGhvcml6b250YWw6ID9ib29sZWFuLFxuICAgIGluZGV4OiBudW1iZXIsXG4gICAgaW52ZXJzaW9uU3R5bGU6ID9EYW5nZXJvdXNseUltcHJlY2lzZVN0eWxlUHJvcCxcbiAgICBpdGVtOiBJdGVtLFxuICAgIG9uTGF5b3V0OiAoZXZlbnQ6IE9iamVjdCkgPT4gdm9pZCwgLy8gVGhpcyBpcyBleHRyYWN0ZWQgYnkgU2Nyb2xsVmlld1N0aWNreUhlYWRlclxuICAgIG9uVW5tb3VudDogKGNlbGxLZXk6IHN0cmluZykgPT4gdm9pZCxcbiAgICBvblVwZGF0ZVNlcGFyYXRvcnM6IChjZWxsS2V5czogQXJyYXk8P3N0cmluZz4sIHByb3BzOiBPYmplY3QpID0+IHZvaWQsXG4gICAgcGFyZW50UHJvcHM6IHtcbiAgICAgIGdldEl0ZW1MYXlvdXQ/OiA/RnVuY3Rpb24sXG4gICAgICByZW5kZXJJdGVtOiByZW5kZXJJdGVtVHlwZSxcbiAgICB9LFxuICAgIHByZXZDZWxsS2V5OiA/c3RyaW5nLFxuICB9LFxuICAkRmxvd0ZpeE1lU3RhdGUsXG4+IHtcbiAgc3RhdGUgPSB7XG4gICAgc2VwYXJhdG9yUHJvcHM6IHtcbiAgICAgIGhpZ2hsaWdodGVkOiBmYWxzZSxcbiAgICAgIGxlYWRpbmdJdGVtOiB0aGlzLnByb3BzLml0ZW0sXG4gICAgfSxcbiAgfTtcblxuICBzdGF0aWMgY2hpbGRDb250ZXh0VHlwZXMgPSB7XG4gICAgdmlydHVhbGl6ZWRDZWxsOiBQcm9wVHlwZXMuc2hhcGUoe1xuICAgICAgY2VsbEtleTogUHJvcFR5cGVzLnN0cmluZyxcbiAgICB9KSxcbiAgfTtcblxuICBnZXRDaGlsZENvbnRleHQoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHZpcnR1YWxpemVkQ2VsbDoge1xuICAgICAgICBjZWxsS2V5OiB0aGlzLnByb3BzLmNlbGxLZXksXG4gICAgICB9LFxuICAgIH07XG4gIH1cblxuICAvLyBUT0RPOiBjb25zaWRlciBmYWN0b3Jpbmcgc2VwYXJhdG9yIHN0dWZmIG91dCBvZiBWaXJ0dWFsaXplZExpc3QgaW50byBGbGF0TGlzdCBzaW5jZSBpdCdzIG5vdFxuICAvLyByZXVzZWQgYnkgU2VjdGlvbkxpc3QgYW5kIHdlIGNhbiBrZWVwIFZpcnR1YWxpemVkTGlzdCBzaW1wbGVyLlxuICBfc2VwYXJhdG9ycyA9IHtcbiAgICBoaWdobGlnaHQ6ICgpID0+IHtcbiAgICAgIGNvbnN0IHtjZWxsS2V5LCBwcmV2Q2VsbEtleX0gPSB0aGlzLnByb3BzO1xuICAgICAgdGhpcy5wcm9wcy5vblVwZGF0ZVNlcGFyYXRvcnMoW2NlbGxLZXksIHByZXZDZWxsS2V5XSwge1xuICAgICAgICBoaWdobGlnaHRlZDogdHJ1ZSxcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgdW5oaWdobGlnaHQ6ICgpID0+IHtcbiAgICAgIGNvbnN0IHtjZWxsS2V5LCBwcmV2Q2VsbEtleX0gPSB0aGlzLnByb3BzO1xuICAgICAgdGhpcy5wcm9wcy5vblVwZGF0ZVNlcGFyYXRvcnMoW2NlbGxLZXksIHByZXZDZWxsS2V5XSwge1xuICAgICAgICBoaWdobGlnaHRlZDogZmFsc2UsXG4gICAgICB9KTtcbiAgICB9LFxuICAgIHVwZGF0ZVByb3BzOiAoc2VsZWN0OiAnbGVhZGluZycgfCAndHJhaWxpbmcnLCBuZXdQcm9wczogT2JqZWN0KSA9PiB7XG4gICAgICBjb25zdCB7Y2VsbEtleSwgcHJldkNlbGxLZXl9ID0gdGhpcy5wcm9wcztcbiAgICAgIHRoaXMucHJvcHMub25VcGRhdGVTZXBhcmF0b3JzKFxuICAgICAgICBbc2VsZWN0ID09PSAnbGVhZGluZycgPyBwcmV2Q2VsbEtleSA6IGNlbGxLZXldLFxuICAgICAgICBuZXdQcm9wcyxcbiAgICAgICk7XG4gICAgfSxcbiAgfTtcblxuICB1cGRhdGVTZXBhcmF0b3JQcm9wcyhuZXdQcm9wczogT2JqZWN0KSB7XG4gICAgdGhpcy5zZXRTdGF0ZShzdGF0ZSA9PiAoe1xuICAgICAgc2VwYXJhdG9yUHJvcHM6IHsuLi5zdGF0ZS5zZXBhcmF0b3JQcm9wcywgLi4ubmV3UHJvcHN9LFxuICAgIH0pKTtcbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgIHRoaXMucHJvcHMub25Vbm1vdW50KHRoaXMucHJvcHMuY2VsbEtleSk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3Qge1xuICAgICAgQ2VsbFJlbmRlcmVyQ29tcG9uZW50LFxuICAgICAgSXRlbVNlcGFyYXRvckNvbXBvbmVudCxcbiAgICAgIGZpbGxSYXRlSGVscGVyLFxuICAgICAgaG9yaXpvbnRhbCxcbiAgICAgIGl0ZW0sXG4gICAgICBpbmRleCxcbiAgICAgIGludmVyc2lvblN0eWxlLFxuICAgICAgcGFyZW50UHJvcHMsXG4gICAgfSA9IHRoaXMucHJvcHM7XG4gICAgY29uc3Qge3JlbmRlckl0ZW0sIGdldEl0ZW1MYXlvdXR9ID0gcGFyZW50UHJvcHM7XG4gICAgaW52YXJpYW50KHJlbmRlckl0ZW0sICdubyByZW5kZXJJdGVtIScpO1xuICAgIGNvbnN0IGVsZW1lbnQgPSByZW5kZXJJdGVtKHtcbiAgICAgIGl0ZW0sXG4gICAgICBpbmRleCxcbiAgICAgIHNlcGFyYXRvcnM6IHRoaXMuX3NlcGFyYXRvcnMsXG4gICAgfSk7XG4gICAgY29uc3Qgb25MYXlvdXQgPVxuICAgICAgZ2V0SXRlbUxheW91dCAmJiAhcGFyZW50UHJvcHMuZGVidWcgJiYgIWZpbGxSYXRlSGVscGVyLmVuYWJsZWQoKVxuICAgICAgICA/IHVuZGVmaW5lZFxuICAgICAgICA6IHRoaXMucHJvcHMub25MYXlvdXQ7XG4gICAgLy8gTk9URTogdGhhdCB3aGVuIHRoaXMgaXMgYSBzdGlja3kgaGVhZGVyLCBgb25MYXlvdXRgIHdpbGwgZ2V0IGF1dG9tYXRpY2FsbHkgZXh0cmFjdGVkIGFuZFxuICAgIC8vIGNhbGxlZCBleHBsaWNpdGx5IGJ5IGBTY3JvbGxWaWV3U3RpY2t5SGVhZGVyYC5cbiAgICBjb25zdCBpdGVtU2VwYXJhdG9yID0gSXRlbVNlcGFyYXRvckNvbXBvbmVudCAmJiAoXG4gICAgICA8SXRlbVNlcGFyYXRvckNvbXBvbmVudCB7Li4udGhpcy5zdGF0ZS5zZXBhcmF0b3JQcm9wc30gLz5cbiAgICApO1xuICAgIGNvbnN0IGNlbGxTdHlsZSA9IGludmVyc2lvblN0eWxlXG4gICAgICA/IGhvcml6b250YWxcbiAgICAgICAgPyBbe2ZsZXhEaXJlY3Rpb246ICdyb3ctcmV2ZXJzZSd9LCBpbnZlcnNpb25TdHlsZV1cbiAgICAgICAgOiBbe2ZsZXhEaXJlY3Rpb246ICdjb2x1bW4tcmV2ZXJzZSd9LCBpbnZlcnNpb25TdHlsZV1cbiAgICAgIDogaG9yaXpvbnRhbCA/IFt7ZmxleERpcmVjdGlvbjogJ3Jvdyd9LCBpbnZlcnNpb25TdHlsZV0gOiBpbnZlcnNpb25TdHlsZTtcbiAgICBpZiAoIUNlbGxSZW5kZXJlckNvbXBvbmVudCkge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPFZpZXcgc3R5bGU9e2NlbGxTdHlsZX0gb25MYXlvdXQ9e29uTGF5b3V0fT5cbiAgICAgICAgICB7ZWxlbWVudH1cbiAgICAgICAgICB7aXRlbVNlcGFyYXRvcn1cbiAgICAgICAgPC9WaWV3PlxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIChcbiAgICAgIDxDZWxsUmVuZGVyZXJDb21wb25lbnRcbiAgICAgICAgey4uLnRoaXMucHJvcHN9XG4gICAgICAgIHN0eWxlPXtjZWxsU3R5bGV9XG4gICAgICAgIG9uTGF5b3V0PXtvbkxheW91dH0+XG4gICAgICAgIHtlbGVtZW50fVxuICAgICAgICB7aXRlbVNlcGFyYXRvcn1cbiAgICAgIDwvQ2VsbFJlbmRlcmVyQ29tcG9uZW50PlxuICAgICk7XG4gIH1cbn1cblxuY2xhc3MgVmlydHVhbGl6ZWRDZWxsV3JhcHBlciBleHRlbmRzIFJlYWN0LkNvbXBvbmVudDx7XG4gIGNlbGxLZXk6IHN0cmluZyxcbiAgY2hpbGRyZW46IFJlYWN0Lk5vZGUsXG59PiB7XG4gIHN0YXRpYyBjaGlsZENvbnRleHRUeXBlcyA9IHtcbiAgICB2aXJ0dWFsaXplZENlbGw6IFByb3BUeXBlcy5zaGFwZSh7XG4gICAgICBjZWxsS2V5OiBQcm9wVHlwZXMuc3RyaW5nLFxuICAgIH0pLFxuICB9O1xuXG4gIGdldENoaWxkQ29udGV4dCgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgdmlydHVhbGl6ZWRDZWxsOiB7XG4gICAgICAgIGNlbGxLZXk6IHRoaXMucHJvcHMuY2VsbEtleSxcbiAgICAgIH0sXG4gICAgfTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gdGhpcy5wcm9wcy5jaGlsZHJlbjtcbiAgfVxufVxuXG5jb25zdCBzdHlsZXMgPSBTdHlsZVNoZWV0LmNyZWF0ZSh7XG4gIHZlcnRpY2FsbHlJbnZlcnRlZDoge1xuICAgIHRyYW5zZm9ybTogW3tzY2FsZVk6IC0xfV0sXG4gIH0sXG4gIGhvcml6b250YWxseUludmVydGVkOiB7XG4gICAgdHJhbnNmb3JtOiBbe3NjYWxlWDogLTF9XSxcbiAgfSxcbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFZpcnR1YWxpemVkTGlzdDtcbiJdfQ==