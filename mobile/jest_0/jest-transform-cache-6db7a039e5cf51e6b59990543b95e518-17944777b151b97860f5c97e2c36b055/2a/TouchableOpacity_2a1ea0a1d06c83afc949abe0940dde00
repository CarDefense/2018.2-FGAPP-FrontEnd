818553c7faba791a4eeb16b4e22df94c
'use strict';var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};var Animated=require('Animated');var Easing=require('Easing');var NativeMethodsMixin=require('NativeMethodsMixin');var React=require('React');var PropTypes=require('prop-types');var TimerMixin=require('react-timer-mixin');var Touchable=require('Touchable');var TouchableWithoutFeedback=require('TouchableWithoutFeedback');var createReactClass=require('create-react-class');var ensurePositiveDelayProps=require('ensurePositiveDelayProps');var flattenStyle=require('flattenStyle');var PRESS_RETENTION_OFFSET={top:20,left:20,right:20,bottom:30};var TouchableOpacity=createReactClass({displayName:'TouchableOpacity',mixins:[TimerMixin,Touchable.Mixin,NativeMethodsMixin],propTypes:_extends({},TouchableWithoutFeedback.propTypes,{activeOpacity:PropTypes.number,hasTVPreferredFocus:PropTypes.bool,tvParallaxProperties:PropTypes.object}),getDefaultProps:function getDefaultProps(){return{activeOpacity:0.2};},getInitialState:function getInitialState(){return _extends({},this.touchableGetInitialState(),{anim:new Animated.Value(this._getChildStyleOpacityWithDefault())});},componentDidMount:function componentDidMount(){ensurePositiveDelayProps(this.props);},UNSAFE_componentWillReceiveProps:function UNSAFE_componentWillReceiveProps(nextProps){ensurePositiveDelayProps(nextProps);},componentDidUpdate:function componentDidUpdate(prevProps,prevState){if(this.props.disabled!==prevProps.disabled){this._opacityInactive(250);}},setOpacityTo:function setOpacityTo(value,duration){Animated.timing(this.state.anim,{toValue:value,duration:duration,easing:Easing.inOut(Easing.quad),useNativeDriver:true}).start();},touchableHandleActivePressIn:function touchableHandleActivePressIn(e){if(e.dispatchConfig.registrationName==='onResponderGrant'){this._opacityActive(0);}else{this._opacityActive(150);}this.props.onPressIn&&this.props.onPressIn(e);},touchableHandleActivePressOut:function touchableHandleActivePressOut(e){this._opacityInactive(250);this.props.onPressOut&&this.props.onPressOut(e);},touchableHandlePress:function touchableHandlePress(e){this.props.onPress&&this.props.onPress(e);},touchableHandleLongPress:function touchableHandleLongPress(e){this.props.onLongPress&&this.props.onLongPress(e);},touchableGetPressRectOffset:function touchableGetPressRectOffset(){return this.props.pressRetentionOffset||PRESS_RETENTION_OFFSET;},touchableGetHitSlop:function touchableGetHitSlop(){return this.props.hitSlop;},touchableGetHighlightDelayMS:function touchableGetHighlightDelayMS(){return this.props.delayPressIn||0;},touchableGetLongPressDelayMS:function touchableGetLongPressDelayMS(){return this.props.delayLongPress===0?0:this.props.delayLongPress||500;},touchableGetPressOutDelayMS:function touchableGetPressOutDelayMS(){return this.props.delayPressOut;},_opacityActive:function _opacityActive(duration){this.setOpacityTo(this.props.activeOpacity,duration);},_opacityInactive:function _opacityInactive(duration){this.setOpacityTo(this._getChildStyleOpacityWithDefault(),duration);},_getChildStyleOpacityWithDefault:function _getChildStyleOpacityWithDefault(){var childStyle=flattenStyle(this.props.style)||{};return childStyle.opacity==undefined?1:childStyle.opacity;},render:function render(){return React.createElement(Animated.View,{accessible:this.props.accessible!==false,accessibilityLabel:this.props.accessibilityLabel,accessibilityComponentType:this.props.accessibilityComponentType,accessibilityTraits:this.props.accessibilityTraits,style:[this.props.style,{opacity:this.state.anim}],nativeID:this.props.nativeID,testID:this.props.testID,onLayout:this.props.onLayout,isTVSelectable:true,hasTVPreferredFocus:this.props.hasTVPreferredFocus,tvParallaxProperties:this.props.tvParallaxProperties,hitSlop:this.props.hitSlop,onStartShouldSetResponder:this.touchableHandleStartShouldSetResponder,onResponderTerminationRequest:this.touchableHandleResponderTerminationRequest,onResponderGrant:this.touchableHandleResponderGrant,onResponderMove:this.touchableHandleResponderMove,onResponderRelease:this.touchableHandleResponderRelease,onResponderTerminate:this.touchableHandleResponderTerminate},this.props.children,Touchable.renderDebugView({color:'cyan',hitSlop:this.props.hitSlop}));}});module.exports=TouchableOpacity;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlRvdWNoYWJsZU9wYWNpdHkuanMiXSwibmFtZXMiOlsiQW5pbWF0ZWQiLCJyZXF1aXJlIiwiRWFzaW5nIiwiTmF0aXZlTWV0aG9kc01peGluIiwiUmVhY3QiLCJQcm9wVHlwZXMiLCJUaW1lck1peGluIiwiVG91Y2hhYmxlIiwiVG91Y2hhYmxlV2l0aG91dEZlZWRiYWNrIiwiY3JlYXRlUmVhY3RDbGFzcyIsImVuc3VyZVBvc2l0aXZlRGVsYXlQcm9wcyIsImZsYXR0ZW5TdHlsZSIsIlBSRVNTX1JFVEVOVElPTl9PRkZTRVQiLCJ0b3AiLCJsZWZ0IiwicmlnaHQiLCJib3R0b20iLCJUb3VjaGFibGVPcGFjaXR5IiwiZGlzcGxheU5hbWUiLCJtaXhpbnMiLCJNaXhpbiIsInByb3BUeXBlcyIsImFjdGl2ZU9wYWNpdHkiLCJudW1iZXIiLCJoYXNUVlByZWZlcnJlZEZvY3VzIiwiYm9vbCIsInR2UGFyYWxsYXhQcm9wZXJ0aWVzIiwib2JqZWN0IiwiZ2V0RGVmYXVsdFByb3BzIiwiZ2V0SW5pdGlhbFN0YXRlIiwidG91Y2hhYmxlR2V0SW5pdGlhbFN0YXRlIiwiYW5pbSIsIlZhbHVlIiwiX2dldENoaWxkU3R5bGVPcGFjaXR5V2l0aERlZmF1bHQiLCJjb21wb25lbnREaWRNb3VudCIsInByb3BzIiwiVU5TQUZFX2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMiLCJuZXh0UHJvcHMiLCJjb21wb25lbnREaWRVcGRhdGUiLCJwcmV2UHJvcHMiLCJwcmV2U3RhdGUiLCJkaXNhYmxlZCIsIl9vcGFjaXR5SW5hY3RpdmUiLCJzZXRPcGFjaXR5VG8iLCJ2YWx1ZSIsImR1cmF0aW9uIiwidGltaW5nIiwic3RhdGUiLCJ0b1ZhbHVlIiwiZWFzaW5nIiwiaW5PdXQiLCJxdWFkIiwidXNlTmF0aXZlRHJpdmVyIiwic3RhcnQiLCJ0b3VjaGFibGVIYW5kbGVBY3RpdmVQcmVzc0luIiwiZSIsImRpc3BhdGNoQ29uZmlnIiwicmVnaXN0cmF0aW9uTmFtZSIsIl9vcGFjaXR5QWN0aXZlIiwib25QcmVzc0luIiwidG91Y2hhYmxlSGFuZGxlQWN0aXZlUHJlc3NPdXQiLCJvblByZXNzT3V0IiwidG91Y2hhYmxlSGFuZGxlUHJlc3MiLCJvblByZXNzIiwidG91Y2hhYmxlSGFuZGxlTG9uZ1ByZXNzIiwib25Mb25nUHJlc3MiLCJ0b3VjaGFibGVHZXRQcmVzc1JlY3RPZmZzZXQiLCJwcmVzc1JldGVudGlvbk9mZnNldCIsInRvdWNoYWJsZUdldEhpdFNsb3AiLCJoaXRTbG9wIiwidG91Y2hhYmxlR2V0SGlnaGxpZ2h0RGVsYXlNUyIsImRlbGF5UHJlc3NJbiIsInRvdWNoYWJsZUdldExvbmdQcmVzc0RlbGF5TVMiLCJkZWxheUxvbmdQcmVzcyIsInRvdWNoYWJsZUdldFByZXNzT3V0RGVsYXlNUyIsImRlbGF5UHJlc3NPdXQiLCJjaGlsZFN0eWxlIiwic3R5bGUiLCJvcGFjaXR5IiwidW5kZWZpbmVkIiwicmVuZGVyIiwiYWNjZXNzaWJsZSIsImFjY2Vzc2liaWxpdHlMYWJlbCIsImFjY2Vzc2liaWxpdHlDb21wb25lbnRUeXBlIiwiYWNjZXNzaWJpbGl0eVRyYWl0cyIsIm5hdGl2ZUlEIiwidGVzdElEIiwib25MYXlvdXQiLCJ0b3VjaGFibGVIYW5kbGVTdGFydFNob3VsZFNldFJlc3BvbmRlciIsInRvdWNoYWJsZUhhbmRsZVJlc3BvbmRlclRlcm1pbmF0aW9uUmVxdWVzdCIsInRvdWNoYWJsZUhhbmRsZVJlc3BvbmRlckdyYW50IiwidG91Y2hhYmxlSGFuZGxlUmVzcG9uZGVyTW92ZSIsInRvdWNoYWJsZUhhbmRsZVJlc3BvbmRlclJlbGVhc2UiLCJ0b3VjaGFibGVIYW5kbGVSZXNwb25kZXJUZXJtaW5hdGUiLCJjaGlsZHJlbiIsInJlbmRlckRlYnVnVmlldyIsImNvbG9yIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6IkFBU0EsYSxnT0FJQSxHQUFNQSxVQUFXQyxPQUFYLFlBQU4sQ0FDQSxHQUFNQyxRQUFTRCxPQUFULFVBQU4sQ0FDQSxHQUFNRSxvQkFBcUJGLE9B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cGFjaXR5LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTUtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUgVG91Y2hhYmxlT3BhY2l0eVxuICogQG5vZmxvd1xuICovXG4ndXNlIHN0cmljdCc7XG5cbi8vIE5vdGUgKGF2aWspOiBhZGQgQGZsb3cgd2hlbiBGbG93IHN1cHBvcnRzIHNwcmVhZCBwcm9wZXJ0aWVzIGluIHByb3BUeXBlc1xuXG5jb25zdCBBbmltYXRlZCA9IHJlcXVpcmUoJ0FuaW1hdGVkJyk7XG5jb25zdCBFYXNpbmcgPSByZXF1aXJlKCdFYXNpbmcnKTtcbmNvbnN0IE5hdGl2ZU1ldGhvZHNNaXhpbiA9IHJlcXVpcmUoJ05hdGl2ZU1ldGhvZHNNaXhpbicpO1xuY29uc3QgUmVhY3QgPSByZXF1aXJlKCdSZWFjdCcpO1xuY29uc3QgUHJvcFR5cGVzID0gcmVxdWlyZSgncHJvcC10eXBlcycpO1xuY29uc3QgVGltZXJNaXhpbiA9IHJlcXVpcmUoJ3JlYWN0LXRpbWVyLW1peGluJyk7XG5jb25zdCBUb3VjaGFibGUgPSByZXF1aXJlKCdUb3VjaGFibGUnKTtcbmNvbnN0IFRvdWNoYWJsZVdpdGhvdXRGZWVkYmFjayA9IHJlcXVpcmUoJ1RvdWNoYWJsZVdpdGhvdXRGZWVkYmFjaycpO1xuXG5jb25zdCBjcmVhdGVSZWFjdENsYXNzID0gcmVxdWlyZSgnY3JlYXRlLXJlYWN0LWNsYXNzJyk7XG5jb25zdCBlbnN1cmVQb3NpdGl2ZURlbGF5UHJvcHMgPSByZXF1aXJlKCdlbnN1cmVQb3NpdGl2ZURlbGF5UHJvcHMnKTtcbmNvbnN0IGZsYXR0ZW5TdHlsZSA9IHJlcXVpcmUoJ2ZsYXR0ZW5TdHlsZScpO1xuXG50eXBlIEV2ZW50ID0gT2JqZWN0O1xuXG5jb25zdCBQUkVTU19SRVRFTlRJT05fT0ZGU0VUID0ge3RvcDogMjAsIGxlZnQ6IDIwLCByaWdodDogMjAsIGJvdHRvbTogMzB9O1xuXG4vKipcbiAqIEEgd3JhcHBlciBmb3IgbWFraW5nIHZpZXdzIHJlc3BvbmQgcHJvcGVybHkgdG8gdG91Y2hlcy5cbiAqIE9uIHByZXNzIGRvd24sIHRoZSBvcGFjaXR5IG9mIHRoZSB3cmFwcGVkIHZpZXcgaXMgZGVjcmVhc2VkLCBkaW1taW5nIGl0LlxuICpcbiAqIE9wYWNpdHkgaXMgY29udHJvbGxlZCBieSB3cmFwcGluZyB0aGUgY2hpbGRyZW4gaW4gYW4gQW5pbWF0ZWQuVmlldywgd2hpY2ggaXNcbiAqIGFkZGVkIHRvIHRoZSB2aWV3IGhpZWFyY2h5LiAgQmUgYXdhcmUgdGhhdCB0aGlzIGNhbiBhZmZlY3QgbGF5b3V0LlxuICpcbiAqIEV4YW1wbGU6XG4gKlxuICogYGBgXG4gKiByZW5kZXJCdXR0b246IGZ1bmN0aW9uKCkge1xuICogICByZXR1cm4gKFxuICogICAgIDxUb3VjaGFibGVPcGFjaXR5IG9uUHJlc3M9e3RoaXMuX29uUHJlc3NCdXR0b259PlxuICogICAgICAgPEltYWdlXG4gKiAgICAgICAgIHN0eWxlPXtzdHlsZXMuYnV0dG9ufVxuICogICAgICAgICBzb3VyY2U9e3JlcXVpcmUoJy4vbXlCdXR0b24ucG5nJyl9XG4gKiAgICAgICAvPlxuICogICAgIDwvVG91Y2hhYmxlT3BhY2l0eT5cbiAqICAgKTtcbiAqIH0sXG4gKiBgYGBcbiAqICMjIyBFeGFtcGxlXG4gKlxuICogYGBgUmVhY3ROYXRpdmVXZWJQbGF5ZXJcbiAqIGltcG9ydCBSZWFjdCwgeyBDb21wb25lbnQgfSBmcm9tICdyZWFjdCdcbiAqIGltcG9ydCB7XG4gKiAgIEFwcFJlZ2lzdHJ5LFxuICogICBTdHlsZVNoZWV0LFxuICogICBUb3VjaGFibGVPcGFjaXR5LFxuICogICBUZXh0LFxuICogICBWaWV3LFxuICogfSBmcm9tICdyZWFjdC1uYXRpdmUnXG4gKlxuICogY2xhc3MgQXBwIGV4dGVuZHMgQ29tcG9uZW50IHtcbiAqICAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAqICAgICBzdXBlcihwcm9wcylcbiAqICAgICB0aGlzLnN0YXRlID0geyBjb3VudDogMCB9XG4gKiAgIH1cbiAqXG4gKiAgIG9uUHJlc3MgPSAoKSA9PiB7XG4gKiAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gKiAgICAgICBjb3VudDogdGhpcy5zdGF0ZS5jb3VudCsxXG4gKiAgICAgfSlcbiAqICAgfVxuICpcbiAqICByZW5kZXIoKSB7XG4gKiAgICByZXR1cm4gKFxuICogICAgICA8VmlldyBzdHlsZT17c3R5bGVzLmNvbnRhaW5lcn0+XG4gKiAgICAgICAgPFRvdWNoYWJsZU9wYWNpdHlcbiAqICAgICAgICAgIHN0eWxlPXtzdHlsZXMuYnV0dG9ufVxuICogICAgICAgICAgb25QcmVzcz17dGhpcy5vblByZXNzfVxuICogICAgICAgID5cbiAqICAgICAgICAgIDxUZXh0PiBUb3VjaCBIZXJlIDwvVGV4dD5cbiAqICAgICAgICA8L1RvdWNoYWJsZU9wYWNpdHk+XG4gKiAgICAgICAgPFZpZXcgc3R5bGU9e1tzdHlsZXMuY291bnRDb250YWluZXJdfT5cbiAqICAgICAgICAgIDxUZXh0IHN0eWxlPXtbc3R5bGVzLmNvdW50VGV4dF19PlxuICogICAgICAgICAgICAgeyB0aGlzLnN0YXRlLmNvdW50ICE9PSAwID8gdGhpcy5zdGF0ZS5jb3VudDogbnVsbH1cbiAqICAgICAgICAgICA8L1RleHQ+XG4gKiAgICAgICAgIDwvVmlldz5cbiAqICAgICAgIDwvVmlldz5cbiAqICAgICApXG4gKiAgIH1cbiAqIH1cbiAqXG4gKiBjb25zdCBzdHlsZXMgPSBTdHlsZVNoZWV0LmNyZWF0ZSh7XG4gKiAgIGNvbnRhaW5lcjoge1xuICogICAgIGZsZXg6IDEsXG4gKiAgICAganVzdGlmeUNvbnRlbnQ6ICdjZW50ZXInLFxuICogICAgIHBhZGRpbmdIb3Jpem9udGFsOiAxMFxuICogICB9LFxuICogICBidXR0b246IHtcbiAqICAgICBhbGlnbkl0ZW1zOiAnY2VudGVyJyxcbiAqICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjREREREREJyxcbiAqICAgICBwYWRkaW5nOiAxMFxuICogICB9LFxuICogICBjb3VudENvbnRhaW5lcjoge1xuICogICAgIGFsaWduSXRlbXM6ICdjZW50ZXInLFxuICogICAgIHBhZGRpbmc6IDEwXG4gKiAgIH0sXG4gKiAgIGNvdW50VGV4dDoge1xuICogICAgIGNvbG9yOiAnI0ZGMDBGRidcbiAqICAgfVxuICogfSlcbiAqXG4gKiBBcHBSZWdpc3RyeS5yZWdpc3RlckNvbXBvbmVudCgnQXBwJywgKCkgPT4gQXBwKVxuICogYGBgXG4gKlxuICovXG5jb25zdCBUb3VjaGFibGVPcGFjaXR5ID0gY3JlYXRlUmVhY3RDbGFzcyh7XG4gIGRpc3BsYXlOYW1lOiAnVG91Y2hhYmxlT3BhY2l0eScsXG4gIG1peGluczogW1RpbWVyTWl4aW4sIFRvdWNoYWJsZS5NaXhpbiwgTmF0aXZlTWV0aG9kc01peGluXSxcblxuICBwcm9wVHlwZXM6IHtcbiAgICAuLi5Ub3VjaGFibGVXaXRob3V0RmVlZGJhY2sucHJvcFR5cGVzLFxuICAgIC8qKlxuICAgICAqIERldGVybWluZXMgd2hhdCB0aGUgb3BhY2l0eSBvZiB0aGUgd3JhcHBlZCB2aWV3IHNob3VsZCBiZSB3aGVuIHRvdWNoIGlzXG4gICAgICogYWN0aXZlLiBEZWZhdWx0cyB0byAwLjIuXG4gICAgICovXG4gICAgYWN0aXZlT3BhY2l0eTogUHJvcFR5cGVzLm51bWJlcixcbiAgICAvKipcbiAgICAgKiBUViBwcmVmZXJyZWQgZm9jdXMgKHNlZSBkb2N1bWVudGF0aW9uIGZvciB0aGUgVmlldyBjb21wb25lbnQpLlxuICAgICAqL1xuICAgIGhhc1RWUHJlZmVycmVkRm9jdXM6IFByb3BUeXBlcy5ib29sLFxuICAgIC8qKlxuICAgICAqIEFwcGxlIFRWIHBhcmFsbGF4IGVmZmVjdHNcbiAgICAgKi9cbiAgICB0dlBhcmFsbGF4UHJvcGVydGllczogUHJvcFR5cGVzLm9iamVjdCxcbiAgfSxcblxuICBnZXREZWZhdWx0UHJvcHM6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB7XG4gICAgICBhY3RpdmVPcGFjaXR5OiAwLjIsXG4gICAgfTtcbiAgfSxcblxuICBnZXRJbml0aWFsU3RhdGU6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB7XG4gICAgICAuLi50aGlzLnRvdWNoYWJsZUdldEluaXRpYWxTdGF0ZSgpLFxuICAgICAgYW5pbTogbmV3IEFuaW1hdGVkLlZhbHVlKHRoaXMuX2dldENoaWxkU3R5bGVPcGFjaXR5V2l0aERlZmF1bHQoKSksXG4gICAgfTtcbiAgfSxcblxuICBjb21wb25lbnREaWRNb3VudDogZnVuY3Rpb24oKSB7XG4gICAgZW5zdXJlUG9zaXRpdmVEZWxheVByb3BzKHRoaXMucHJvcHMpO1xuICB9LFxuXG4gIFVOU0FGRV9jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzOiBmdW5jdGlvbihuZXh0UHJvcHMpIHtcbiAgICBlbnN1cmVQb3NpdGl2ZURlbGF5UHJvcHMobmV4dFByb3BzKTtcbiAgfSxcblxuICBjb21wb25lbnREaWRVcGRhdGU6IGZ1bmN0aW9uKHByZXZQcm9wcywgcHJldlN0YXRlKSB7XG4gICAgaWYgKHRoaXMucHJvcHMuZGlzYWJsZWQgIT09IHByZXZQcm9wcy5kaXNhYmxlZCkge1xuICAgICAgdGhpcy5fb3BhY2l0eUluYWN0aXZlKDI1MCk7XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBBbmltYXRlIHRoZSB0b3VjaGFibGUgdG8gYSBuZXcgb3BhY2l0eS5cbiAgICovXG4gIHNldE9wYWNpdHlUbzogZnVuY3Rpb24odmFsdWU6IG51bWJlciwgZHVyYXRpb246IG51bWJlcikge1xuICAgIEFuaW1hdGVkLnRpbWluZyhcbiAgICAgIHRoaXMuc3RhdGUuYW5pbSxcbiAgICAgIHtcbiAgICAgICAgdG9WYWx1ZTogdmFsdWUsXG4gICAgICAgIGR1cmF0aW9uOiBkdXJhdGlvbixcbiAgICAgICAgZWFzaW5nOiBFYXNpbmcuaW5PdXQoRWFzaW5nLnF1YWQpLFxuICAgICAgICB1c2VOYXRpdmVEcml2ZXI6IHRydWUsXG4gICAgICB9XG4gICAgKS5zdGFydCgpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBgVG91Y2hhYmxlLk1peGluYCBzZWxmIGNhbGxiYWNrcy4gVGhlIG1peGluIHdpbGwgaW52b2tlIHRoZXNlIGlmIHRoZXkgYXJlXG4gICAqIGRlZmluZWQgb24geW91ciBjb21wb25lbnQuXG4gICAqL1xuICB0b3VjaGFibGVIYW5kbGVBY3RpdmVQcmVzc0luOiBmdW5jdGlvbihlOiBFdmVudCkge1xuICAgIGlmIChlLmRpc3BhdGNoQ29uZmlnLnJlZ2lzdHJhdGlvbk5hbWUgPT09ICdvblJlc3BvbmRlckdyYW50Jykge1xuICAgICAgdGhpcy5fb3BhY2l0eUFjdGl2ZSgwKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fb3BhY2l0eUFjdGl2ZSgxNTApO1xuICAgIH1cbiAgICB0aGlzLnByb3BzLm9uUHJlc3NJbiAmJiB0aGlzLnByb3BzLm9uUHJlc3NJbihlKTtcbiAgfSxcblxuICB0b3VjaGFibGVIYW5kbGVBY3RpdmVQcmVzc091dDogZnVuY3Rpb24oZTogRXZlbnQpIHtcbiAgICB0aGlzLl9vcGFjaXR5SW5hY3RpdmUoMjUwKTtcbiAgICB0aGlzLnByb3BzLm9uUHJlc3NPdXQgJiYgdGhpcy5wcm9wcy5vblByZXNzT3V0KGUpO1xuICB9LFxuXG4gIHRvdWNoYWJsZUhhbmRsZVByZXNzOiBmdW5jdGlvbihlOiBFdmVudCkge1xuICAgIHRoaXMucHJvcHMub25QcmVzcyAmJiB0aGlzLnByb3BzLm9uUHJlc3MoZSk7XG4gIH0sXG5cbiAgdG91Y2hhYmxlSGFuZGxlTG9uZ1ByZXNzOiBmdW5jdGlvbihlOiBFdmVudCkge1xuICAgIHRoaXMucHJvcHMub25Mb25nUHJlc3MgJiYgdGhpcy5wcm9wcy5vbkxvbmdQcmVzcyhlKTtcbiAgfSxcblxuICB0b3VjaGFibGVHZXRQcmVzc1JlY3RPZmZzZXQ6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLnByb3BzLnByZXNzUmV0ZW50aW9uT2Zmc2V0IHx8IFBSRVNTX1JFVEVOVElPTl9PRkZTRVQ7XG4gIH0sXG5cbiAgdG91Y2hhYmxlR2V0SGl0U2xvcDogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMucHJvcHMuaGl0U2xvcDtcbiAgfSxcblxuICB0b3VjaGFibGVHZXRIaWdobGlnaHREZWxheU1TOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5wcm9wcy5kZWxheVByZXNzSW4gfHwgMDtcbiAgfSxcblxuICB0b3VjaGFibGVHZXRMb25nUHJlc3NEZWxheU1TOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5wcm9wcy5kZWxheUxvbmdQcmVzcyA9PT0gMCA/IDAgOlxuICAgICAgdGhpcy5wcm9wcy5kZWxheUxvbmdQcmVzcyB8fCA1MDA7XG4gIH0sXG5cbiAgdG91Y2hhYmxlR2V0UHJlc3NPdXREZWxheU1TOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5wcm9wcy5kZWxheVByZXNzT3V0O1xuICB9LFxuXG4gIF9vcGFjaXR5QWN0aXZlOiBmdW5jdGlvbihkdXJhdGlvbjogbnVtYmVyKSB7XG4gICAgdGhpcy5zZXRPcGFjaXR5VG8odGhpcy5wcm9wcy5hY3RpdmVPcGFjaXR5LCBkdXJhdGlvbik7XG4gIH0sXG5cbiAgX29wYWNpdHlJbmFjdGl2ZTogZnVuY3Rpb24oZHVyYXRpb246IG51bWJlcikge1xuICAgIHRoaXMuc2V0T3BhY2l0eVRvKFxuICAgICAgdGhpcy5fZ2V0Q2hpbGRTdHlsZU9wYWNpdHlXaXRoRGVmYXVsdCgpLFxuICAgICAgZHVyYXRpb25cbiAgICApO1xuICB9LFxuXG4gIF9nZXRDaGlsZFN0eWxlT3BhY2l0eVdpdGhEZWZhdWx0OiBmdW5jdGlvbigpIHtcbiAgIGNvbnN0IGNoaWxkU3R5bGUgPSBmbGF0dGVuU3R5bGUodGhpcy5wcm9wcy5zdHlsZSkgfHwge307XG4gICByZXR1cm4gY2hpbGRTdHlsZS5vcGFjaXR5ID09IHVuZGVmaW5lZCA/IDEgOiBjaGlsZFN0eWxlLm9wYWNpdHk7XG4gfSxcblxuICByZW5kZXI6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8QW5pbWF0ZWQuVmlld1xuICAgICAgICBhY2Nlc3NpYmxlPXt0aGlzLnByb3BzLmFjY2Vzc2libGUgIT09IGZhbHNlfVxuICAgICAgICBhY2Nlc3NpYmlsaXR5TGFiZWw9e3RoaXMucHJvcHMuYWNjZXNzaWJpbGl0eUxhYmVsfVxuICAgICAgICBhY2Nlc3NpYmlsaXR5Q29tcG9uZW50VHlwZT17dGhpcy5wcm9wcy5hY2Nlc3NpYmlsaXR5Q29tcG9uZW50VHlwZX1cbiAgICAgICAgYWNjZXNzaWJpbGl0eVRyYWl0cz17dGhpcy5wcm9wcy5hY2Nlc3NpYmlsaXR5VHJhaXRzfVxuICAgICAgICBzdHlsZT17W3RoaXMucHJvcHMuc3R5bGUsIHtvcGFjaXR5OiB0aGlzLnN0YXRlLmFuaW19XX1cbiAgICAgICAgbmF0aXZlSUQ9e3RoaXMucHJvcHMubmF0aXZlSUR9XG4gICAgICAgIHRlc3RJRD17dGhpcy5wcm9wcy50ZXN0SUR9XG4gICAgICAgIG9uTGF5b3V0PXt0aGlzLnByb3BzLm9uTGF5b3V0fVxuICAgICAgICBpc1RWU2VsZWN0YWJsZT17dHJ1ZX1cbiAgICAgICAgaGFzVFZQcmVmZXJyZWRGb2N1cz17dGhpcy5wcm9wcy5oYXNUVlByZWZlcnJlZEZvY3VzfVxuICAgICAgICB0dlBhcmFsbGF4UHJvcGVydGllcz17dGhpcy5wcm9wcy50dlBhcmFsbGF4UHJvcGVydGllc31cbiAgICAgICAgaGl0U2xvcD17dGhpcy5wcm9wcy5oaXRTbG9wfVxuICAgICAgICBvblN0YXJ0U2hvdWxkU2V0UmVzcG9uZGVyPXt0aGlzLnRvdWNoYWJsZUhhbmRsZVN0YXJ0U2hvdWxkU2V0UmVzcG9uZGVyfVxuICAgICAgICBvblJlc3BvbmRlclRlcm1pbmF0aW9uUmVxdWVzdD17dGhpcy50b3VjaGFibGVIYW5kbGVSZXNwb25kZXJUZXJtaW5hdGlvblJlcXVlc3R9XG4gICAgICAgIG9uUmVzcG9uZGVyR3JhbnQ9e3RoaXMudG91Y2hhYmxlSGFuZGxlUmVzcG9uZGVyR3JhbnR9XG4gICAgICAgIG9uUmVzcG9uZGVyTW92ZT17dGhpcy50b3VjaGFibGVIYW5kbGVSZXNwb25kZXJNb3ZlfVxuICAgICAgICBvblJlc3BvbmRlclJlbGVhc2U9e3RoaXMudG91Y2hhYmxlSGFuZGxlUmVzcG9uZGVyUmVsZWFzZX1cbiAgICAgICAgb25SZXNwb25kZXJUZXJtaW5hdGU9e3RoaXMudG91Y2hhYmxlSGFuZGxlUmVzcG9uZGVyVGVybWluYXRlfT5cbiAgICAgICAge3RoaXMucHJvcHMuY2hpbGRyZW59XG4gICAgICAgIHtUb3VjaGFibGUucmVuZGVyRGVidWdWaWV3KHtjb2xvcjogJ2N5YW4nLCBoaXRTbG9wOiB0aGlzLnByb3BzLmhpdFNsb3B9KX1cbiAgICAgIDwvQW5pbWF0ZWQuVmlldz5cbiAgICApO1xuICB9LFxufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gVG91Y2hhYmxlT3BhY2l0eTtcbiJdfQ==