3f07d91216b40f83e0a4e58740f8e17b
'use strict';var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};var _require=require('./AnimatedEvent'),AnimatedEvent=_require.AnimatedEvent,attachNativeEvent=_require.attachNativeEvent;var AnimatedAddition=require('./nodes/AnimatedAddition');var AnimatedDiffClamp=require('./nodes/AnimatedDiffClamp');var AnimatedDivision=require('./nodes/AnimatedDivision');var AnimatedInterpolation=require('./nodes/AnimatedInterpolation');var AnimatedModulo=require('./nodes/AnimatedModulo');var AnimatedMultiplication=require('./nodes/AnimatedMultiplication');var AnimatedNode=require('./nodes/AnimatedNode');var AnimatedProps=require('./nodes/AnimatedProps');var AnimatedTracking=require('./nodes/AnimatedTracking');var AnimatedValue=require('./nodes/AnimatedValue');var AnimatedValueXY=require('./nodes/AnimatedValueXY');var DecayAnimation=require('./animations/DecayAnimation');var SpringAnimation=require('./animations/SpringAnimation');var TimingAnimation=require('./animations/TimingAnimation');var createAnimatedComponent=require('./createAnimatedComponent');var add=function add(a,b){return new AnimatedAddition(a,b);};var divide=function divide(a,b){return new AnimatedDivision(a,b);};var multiply=function multiply(a,b){return new AnimatedMultiplication(a,b);};var modulo=function modulo(a,modulus){return new AnimatedModulo(a,modulus);};var diffClamp=function diffClamp(a,min,max){return new AnimatedDiffClamp(a,min,max);};var _combineCallbacks=function _combineCallbacks(callback,config){if(callback&&config.onComplete){return function(){config.onComplete&&config.onComplete.apply(config,arguments);callback&&callback.apply(undefined,arguments);};}else{return callback||config.onComplete;}};var maybeVectorAnim=function maybeVectorAnim(value,config,anim){if(value instanceof AnimatedValueXY){var configX=_extends({},config);var configY=_extends({},config);for(var key in config){var _config$key=config[key],x=_config$key.x,y=_config$key.y;if(x!==undefined&&y!==undefined){configX[key]=x;configY[key]=y;}}var aX=anim(value.x,configX);var aY=anim(value.y,configY);return parallel([aX,aY],{stopTogether:false});}return null;};var spring=function spring(value,config){var start=function start(animatedValue,configuration,callback){callback=_combineCallbacks(callback,configuration);var singleValue=animatedValue;var singleConfig=configuration;singleValue.stopTracking();if(configuration.toValue instanceof AnimatedNode){singleValue.track(new AnimatedTracking(singleValue,configuration.toValue,SpringAnimation,singleConfig,callback));}else{singleValue.animate(new SpringAnimation(singleConfig),callback);}};return maybeVectorAnim(value,config,spring)||{start:function(_start){function start(_x){return _start.apply(this,arguments);}start.toString=function(){return _start.toString();};return start;}(function(callback){start(value,config,callback);}),stop:function stop(){value.stopAnimation();},reset:function reset(){value.resetAnimation();},_startNativeLoop:function _startNativeLoop(iterations){var singleConfig=_extends({},config,{iterations:iterations});start(value,singleConfig);},_isUsingNativeDriver:function _isUsingNativeDriver(){return config.useNativeDriver||false;}};};var timing=function timing(value,config){var start=function start(animatedValue,configuration,callback){callback=_combineCallbacks(callback,configuration);var singleValue=animatedValue;var singleConfig=configuration;singleValue.stopTracking();if(configuration.toValue instanceof AnimatedNode){singleValue.track(new AnimatedTracking(singleValue,configuration.toValue,TimingAnimation,singleConfig,callback));}else{singleValue.animate(new TimingAnimation(singleConfig),callback);}};return maybeVectorAnim(value,config,timing)||{start:function(_start2){function start(_x2){return _start2.apply(this,arguments);}start.toString=function(){return _start2.toString();};return start;}(function(callback){start(value,config,callback);}),stop:function stop(){value.stopAnimation();},reset:function reset(){value.resetAnimation();},_startNativeLoop:function _startNativeLoop(iterations){var singleConfig=_extends({},config,{iterations:iterations});start(value,singleConfig);},_isUsingNativeDriver:function _isUsingNativeDriver(){return config.useNativeDriver||false;}};};var decay=function decay(value,config){var start=function start(animatedValue,configuration,callback){callback=_combineCallbacks(callback,configuration);var singleValue=animatedValue;var singleConfig=configuration;singleValue.stopTracking();singleValue.animate(new DecayAnimation(singleConfig),callback);};return maybeVectorAnim(value,config,decay)||{start:function(_start3){function start(_x3){return _start3.apply(this,arguments);}start.toString=function(){return _start3.toString();};return start;}(function(callback){start(value,config,callback);}),stop:function stop(){value.stopAnimation();},reset:function reset(){value.resetAnimation();},_startNativeLoop:function _startNativeLoop(iterations){var singleConfig=_extends({},config,{iterations:iterations});start(value,singleConfig);},_isUsingNativeDriver:function _isUsingNativeDriver(){return config.useNativeDriver||false;}};};var sequence=function sequence(animations){var current=0;return{start:function start(callback){var onComplete=function onComplete(result){if(!result.finished){callback&&callback(result);return;}current++;if(current===animations.length){callback&&callback(result);return;}animations[current].start(onComplete);};if(animations.length===0){callback&&callback({finished:true});}else{animations[current].start(onComplete);}},stop:function stop(){if(current<animations.length){animations[current].stop();}},reset:function reset(){animations.forEach(function(animation,idx){if(idx<=current){animation.reset();}});current=0;},_startNativeLoop:function _startNativeLoop(){throw new Error('Loops run using the native driver cannot contain Animated.sequence animations');},_isUsingNativeDriver:function _isUsingNativeDriver(){return false;}};};var parallel=function parallel(animations,config){var doneCount=0;var hasEnded={};var stopTogether=!(config&&config.stopTogether===false);var result={start:function start(callback){if(doneCount===animations.length){callback&&callback({finished:true});return;}animations.forEach(function(animation,idx){var cb=function cb(endResult){hasEnded[idx]=true;doneCount++;if(doneCount===animations.length){doneCount=0;callback&&callback(endResult);return;}if(!endResult.finished&&stopTogether){result.stop();}};if(!animation){cb({finished:true});}else{animation.start(cb);}});},stop:function stop(){animations.forEach(function(animation,idx){!hasEnded[idx]&&animation.stop();hasEnded[idx]=true;});},reset:function reset(){animations.forEach(function(animation,idx){animation.reset();hasEnded[idx]=false;doneCount=0;});},_startNativeLoop:function _startNativeLoop(){throw new Error('Loops run using the native driver cannot contain Animated.parallel animations');},_isUsingNativeDriver:function _isUsingNativeDriver(){return false;}};return result;};var delay=function delay(time){return timing(new AnimatedValue(0),{toValue:0,delay:time,duration:0});};var stagger=function stagger(time,animations){return parallel(animations.map(function(animation,i){return sequence([delay(time*i),animation]);}));};var loop=function loop(animation){var _ref=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},_ref$iterations=_ref.iterations,iterations=_ref$iterations===undefined?-1:_ref$iterations;var isFinished=false;var iterationsSoFar=0;return{start:function start(callback){var restart=function restart(){var result=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{finished:true};if(isFinished||iterationsSoFar===iterations||result.finished===false){callback&&callback(result);}else{iterationsSoFar++;animation.reset();animation.start(restart);}};if(!animation||iterations===0){callback&&callback({finished:true});}else{if(animation._isUsingNativeDriver()){animation._startNativeLoop(iterations);}else{restart();}}},stop:function stop(){isFinished=true;animation.stop();},reset:function reset(){iterationsSoFar=0;isFinished=false;animation.reset();},_startNativeLoop:function _startNativeLoop(){throw new Error('Loops run using the native driver cannot contain Animated.loop animations');},_isUsingNativeDriver:function _isUsingNativeDriver(){return animation._isUsingNativeDriver();}};};function forkEvent(event,listener){if(!event){return listener;}else if(event instanceof AnimatedEvent){event.__addListener(listener);return event;}else{return function(){typeof event==='function'&&event.apply(undefined,arguments);listener.apply(undefined,arguments);};}}function unforkEvent(event,listener){if(event&&event instanceof AnimatedEvent){event.__removeListener(listener);}}var event=function event(argMapping,config){var animatedEvent=new AnimatedEvent(argMapping,config);if(animatedEvent.__isNative){return animatedEvent;}else{return animatedEvent.__getHandler();}};module.exports={Value:AnimatedValue,ValueXY:AnimatedValueXY,Interpolation:AnimatedInterpolation,Node:AnimatedNode,decay:decay,timing:timing,spring:spring,add:add,divide:divide,multiply:multiply,modulo:modulo,diffClamp:diffClamp,delay:delay,sequence:sequence,parallel:parallel,stagger:stagger,loop:loop,event:event,createAnimatedComponent:createAnimatedComponent,attachNativeEvent:attachNativeEvent,forkEvent:forkEvent,unforkEvent:unforkEvent,__PropsOnlyForTests:AnimatedProps};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkFuaW1hdGVkSW1wbGVtZW50YXRpb24uanMiXSwibmFtZXMiOlsicmVxdWlyZSIsIkFuaW1hdGVkRXZlbnQiLCJhdHRhY2hOYXRpdmVFdmVudCIsIkFuaW1hdGVkQWRkaXRpb24iLCJBbmltYXRlZERpZmZDbGFtcCIsIkFuaW1hdGVkRGl2aXNpb24iLCJBbmltYXRlZEludGVycG9sYXRpb24iLCJBbmltYXRlZE1vZHVsbyIsIkFuaW1hdGVkTXVsdGlwbGljYXRpb24iLCJBbmltYXRlZE5vZGUiLCJBbmltYXRlZFByb3BzIiwiQW5pbWF0ZWRUcmFja2luZyIsIkFuaW1hdGVkVmFsdWUiLCJBbmltYXRlZFZhbHVlWFkiLCJEZWNheUFuaW1hdGlvbiIsIlNwcmluZ0FuaW1hdGlvbiIsIlRpbWluZ0FuaW1hdGlvbiIsImNyZWF0ZUFuaW1hdGVkQ29tcG9uZW50IiwiYWRkIiwiYSIsImIiLCJkaXZpZGUiLCJtdWx0aXBseSIsIm1vZHVsbyIsIm1vZHVsdXMiLCJkaWZmQ2xhbXAiLCJtaW4iLCJtYXgiLCJfY29tYmluZUNhbGxiYWNrcyIsImNhbGxiYWNrIiwiY29uZmlnIiwib25Db21wbGV0ZSIsIm1heWJlVmVjdG9yQW5pbSIsInZhbHVlIiwiYW5pbSIsImNvbmZpZ1giLCJjb25maWdZIiwia2V5IiwieCIsInkiLCJ1bmRlZmluZWQiLCJhWCIsImFZIiwicGFyYWxsZWwiLCJzdG9wVG9nZXRoZXIiLCJzcHJpbmciLCJzdGFydCIsImFuaW1hdGVkVmFsdWUiLCJjb25maWd1cmF0aW9uIiwic2luZ2xlVmFsdWUiLCJzaW5nbGVDb25maWciLCJzdG9wVHJhY2tpbmciLCJ0b1ZhbHVlIiwidHJhY2siLCJhbmltYXRlIiwic3RvcCIsInN0b3BBbmltYXRpb24iLCJyZXNldCIsInJlc2V0QW5pbWF0aW9uIiwiX3N0YXJ0TmF0aXZlTG9vcCIsIml0ZXJhdGlvbnMiLCJfaXNVc2luZ05hdGl2ZURyaXZlciIsInVzZU5hdGl2ZURyaXZlciIsInRpbWluZyIsImRlY2F5Iiwic2VxdWVuY2UiLCJhbmltYXRpb25zIiwiY3VycmVudCIsInJlc3VsdCIsImZpbmlzaGVkIiwibGVuZ3RoIiwiZm9yRWFjaCIsImFuaW1hdGlvbiIsImlkeCIsIkVycm9yIiwiZG9uZUNvdW50IiwiaGFzRW5kZWQiLCJjYiIsImVuZFJlc3VsdCIsImRlbGF5IiwidGltZSIsImR1cmF0aW9uIiwic3RhZ2dlciIsIm1hcCIsImkiLCJsb29wIiwiaXNGaW5pc2hlZCIsIml0ZXJhdGlvbnNTb0ZhciIsInJlc3RhcnQiLCJmb3JrRXZlbnQiLCJldmVudCIsImxpc3RlbmVyIiwiX19hZGRMaXN0ZW5lciIsInVuZm9ya0V2ZW50IiwiX19yZW1vdmVMaXN0ZW5lciIsImFyZ01hcHBpbmciLCJhbmltYXRlZEV2ZW50IiwiX19pc05hdGl2ZSIsIl9fZ2V0SGFuZGxlciIsIm1vZHVsZSIsImV4cG9ydHMiLCJWYWx1ZSIsIlZhbHVlWFkiLCJJbnRlcnBvbGF0aW9uIiwiTm9kZSIsIl9fUHJvcHNPbmx5Rm9yVGVzdHMiXSwibWFwcGluZ3MiOiJBQVdBLGEsNk9BRTJDQSxRQUFRLGlCQUFSLEMsQ0FBcENDLGEsVUFBQUEsYSxDQUFlQyxpQixVQUFBQSxpQixDQUN0QixHQUFNQyxrQkFBbUJILFFBQVEsMEJBQVIsQ0FBekIsQ0FDQSxHQUFNSSxtQkFBb0JKLFFBQVEsMkJBQVIsQ0FBMUIsQ0FDQSxHQUFNSyxrQkFBbUJMLFFBQVEsMEJBQVIsQ0FBekIsQ0FDQSxHQUFNTSx1QkFBd0JOLFFBQVEsK0JBQVIsQ0FBOUIsQ0FDQSxHQUFNTyxnQkFBaUJQLFFBQVEsd0JBQVIsQ0FBdkIsQ0FDQSxHQUFNUSx3QkFBeUJSLFFBQVEsZ0NBQVIsQ0FBL0IsQ0FDQSxHQUFNUyxjQUFlVCxRQUFRLHNCQUFSLENBQXJCLENBQ0EsR0FBTVUsZUFBZ0JWLFFBQVEsdUJBQVIsQ0FBdEIsQ0FDQSxHQUFNVyxrQkFBbUJYLFFBQVEsMEJBQVIsQ0FBekIsQ0FDQSxHQUFNWSxlQUFnQlosUUFBUSx1QkFBUixDQUF0QixDQUNBLEdBQU1hLGlCQUFr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UUFBU0UsWUFBVCxDQUNFSCxLQURGLENBRUVDLFFBRkYsQ0FHUSxDQUNOLEdBQUlELE9BQVNBLGdCQUFpQnpGLGNBQTlCLENBQTZDLENBQzNDeUYsTUFBTUksZ0JBQU4sQ0FBdUJILFFBQXZCLEVBQ0QsQ0FDRixDQUVELEdBQU1ELE9BQVEsUUFBUkEsTUFBUSxDQUFTSyxVQUFULENBQXNDakUsTUFBdEMsQ0FBaUUsQ0FDN0UsR0FBTWtFLGVBQWdCLEdBQUkvRixjQUFKLENBQWtCOEYsVUFBbEIsQ0FBOEJqRSxNQUE5QixDQUF0QixDQUNBLEdBQUlrRSxjQUFjQyxVQUFsQixDQUE4QixDQUM1QixNQUFPRCxjQUFQLENBQ0QsQ0FGRCxJQUVPLENBQ0wsTUFBT0EsZUFBY0UsWUFBZCxFQUFQLENBQ0QsQ0FDRixDQVBELENBaUJBQyxPQUFPQyxPQUFQLENBQWlCLENBT2ZDLE1BQU96RixhQVBRLENBYWYwRixRQUFTekYsZUFiTSxDQW1CZjBGLGNBQWVqRyxxQkFuQkEsQ0EwQmZrRyxLQUFNL0YsWUExQlMsQ0FrQ2Z1RCxXQWxDZSxDQXlDZkQsYUF6Q2UsQ0FnRGZsQixhQWhEZSxDQXdEZjNCLE9BeERlLENBZ0VmRyxhQWhFZSxDQXdFZkMsaUJBeEVlLENBZ0ZmQyxhQWhGZSxDQXlGZkUsbUJBekZlLENBZ0dmc0QsV0FoR2UsQ0F3R2ZkLGlCQXhHZSxDQWdIZnRCLGlCQWhIZSxDQXVIZnVDLGVBdkhlLENBOEhmRyxTQTlIZSxDQXNJZkssV0F0SWUsQ0E2SWZ6RSwrQ0E3SWUsQ0FxSmZmLG1DQXJKZSxDQTZKZnVGLG1CQTdKZSxDQThKZkksdUJBOUplLENBZ0tmWSxvQkFBcUIvRixhQWhLTixDQUFqQiIsImZpbGUiOiJBbmltYXRlZEltcGxlbWVudGF0aW9uLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTUtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUgQW5pbWF0ZWRJbXBsZW1lbnRhdGlvblxuICogQGZsb3dcbiAqIEBmb3JtYXRcbiAqIEBwcmV2ZW50TXVuZ2VcbiAqL1xuJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCB7QW5pbWF0ZWRFdmVudCwgYXR0YWNoTmF0aXZlRXZlbnR9ID0gcmVxdWlyZSgnLi9BbmltYXRlZEV2ZW50Jyk7XG5jb25zdCBBbmltYXRlZEFkZGl0aW9uID0gcmVxdWlyZSgnLi9ub2Rlcy9BbmltYXRlZEFkZGl0aW9uJyk7XG5jb25zdCBBbmltYXRlZERpZmZDbGFtcCA9IHJlcXVpcmUoJy4vbm9kZXMvQW5pbWF0ZWREaWZmQ2xhbXAnKTtcbmNvbnN0IEFuaW1hdGVkRGl2aXNpb24gPSByZXF1aXJlKCcuL25vZGVzL0FuaW1hdGVkRGl2aXNpb24nKTtcbmNvbnN0IEFuaW1hdGVkSW50ZXJwb2xhdGlvbiA9IHJlcXVpcmUoJy4vbm9kZXMvQW5pbWF0ZWRJbnRlcnBvbGF0aW9uJyk7XG5jb25zdCBBbmltYXRlZE1vZHVsbyA9IHJlcXVpcmUoJy4vbm9kZXMvQW5pbWF0ZWRNb2R1bG8nKTtcbmNvbnN0IEFuaW1hdGVkTXVsdGlwbGljYXRpb24gPSByZXF1aXJlKCcuL25vZGVzL0FuaW1hdGVkTXVsdGlwbGljYXRpb24nKTtcbmNvbnN0IEFuaW1hdGVkTm9kZSA9IHJlcXVpcmUoJy4vbm9kZXMvQW5pbWF0ZWROb2RlJyk7XG5jb25zdCBBbmltYXRlZFByb3BzID0gcmVxdWlyZSgnLi9ub2Rlcy9BbmltYXRlZFByb3BzJyk7XG5jb25zdCBBbmltYXRlZFRyYWNraW5nID0gcmVxdWlyZSgnLi9ub2Rlcy9BbmltYXRlZFRyYWNraW5nJyk7XG5jb25zdCBBbmltYXRlZFZhbHVlID0gcmVxdWlyZSgnLi9ub2Rlcy9BbmltYXRlZFZhbHVlJyk7XG5jb25zdCBBbmltYXRlZFZhbHVlWFkgPSByZXF1aXJlKCcuL25vZGVzL0FuaW1hdGVkVmFsdWVYWScpO1xuY29uc3QgRGVjYXlBbmltYXRpb24gPSByZXF1aXJlKCcuL2FuaW1hdGlvbnMvRGVjYXlBbmltYXRpb24nKTtcbmNvbnN0IFNwcmluZ0FuaW1hdGlvbiA9IHJlcXVpcmUoJy4vYW5pbWF0aW9ucy9TcHJpbmdBbmltYXRpb24nKTtcbmNvbnN0IFRpbWluZ0FuaW1hdGlvbiA9IHJlcXVpcmUoJy4vYW5pbWF0aW9ucy9UaW1pbmdBbmltYXRpb24nKTtcblxuY29uc3QgY3JlYXRlQW5pbWF0ZWRDb21wb25lbnQgPSByZXF1aXJlKCcuL2NyZWF0ZUFuaW1hdGVkQ29tcG9uZW50Jyk7XG5cbmltcG9ydCB0eXBlIHtcbiAgQW5pbWF0aW9uQ29uZmlnLFxuICBFbmRDYWxsYmFjayxcbiAgRW5kUmVzdWx0LFxufSBmcm9tICcuL2FuaW1hdGlvbnMvQW5pbWF0aW9uJztcbmltcG9ydCB0eXBlIHtUaW1pbmdBbmltYXRpb25Db25maWd9IGZyb20gJy4vYW5pbWF0aW9ucy9UaW1pbmdBbmltYXRpb24nO1xuaW1wb3J0IHR5cGUge0RlY2F5QW5pbWF0aW9uQ29uZmlnfSBmcm9tICcuL2FuaW1hdGlvbnMvRGVjYXlBbmltYXRpb24nO1xuaW1wb3J0IHR5cGUge1NwcmluZ0FuaW1hdGlvbkNvbmZpZ30gZnJvbSAnLi9hbmltYXRpb25zL1NwcmluZ0FuaW1hdGlvbic7XG5pbXBvcnQgdHlwZSB7TWFwcGluZywgRXZlbnRDb25maWd9IGZyb20gJy4vQW5pbWF0ZWRFdmVudCc7XG5cbmV4cG9ydCB0eXBlIENvbXBvc2l0ZUFuaW1hdGlvbiA9IHtcbiAgc3RhcnQ6IChjYWxsYmFjaz86ID9FbmRDYWxsYmFjaykgPT4gdm9pZCxcbiAgc3RvcDogKCkgPT4gdm9pZCxcbiAgcmVzZXQ6ICgpID0+IHZvaWQsXG4gIF9zdGFydE5hdGl2ZUxvb3A6IChpdGVyYXRpb25zPzogbnVtYmVyKSA9PiB2b2lkLFxuICBfaXNVc2luZ05hdGl2ZURyaXZlcjogKCkgPT4gYm9vbGVhbixcbn07XG5cbmNvbnN0IGFkZCA9IGZ1bmN0aW9uKFxuICBhOiBBbmltYXRlZE5vZGUgfCBudW1iZXIsXG4gIGI6IEFuaW1hdGVkTm9kZSB8IG51bWJlcixcbik6IEFuaW1hdGVkQWRkaXRpb24ge1xuICByZXR1cm4gbmV3IEFuaW1hdGVkQWRkaXRpb24oYSwgYik7XG59O1xuXG5jb25zdCBkaXZpZGUgPSBmdW5jdGlvbihcbiAgYTogQW5pbWF0ZWROb2RlIHwgbnVtYmVyLFxuICBiOiBBbmltYXRlZE5vZGUgfCBudW1iZXIsXG4pOiBBbmltYXRlZERpdmlzaW9uIHtcbiAgcmV0dXJuIG5ldyBBbmltYXRlZERpdmlzaW9uKGEsIGIpO1xufTtcblxuY29uc3QgbXVsdGlwbHkgPSBmdW5jdGlvbihcbiAgYTogQW5pbWF0ZWROb2RlIHwgbnVtYmVyLFxuICBiOiBBbmltYXRlZE5vZGUgfCBudW1iZXIsXG4pOiBBbmltYXRlZE11bHRpcGxpY2F0aW9uIHtcbiAgcmV0dXJuIG5ldyBBbmltYXRlZE11bHRpcGxpY2F0aW9uKGEsIGIpO1xufTtcblxuY29uc3QgbW9kdWxvID0gZnVuY3Rpb24oYTogQW5pbWF0ZWROb2RlLCBtb2R1bHVzOiBudW1iZXIpOiBBbmltYXRlZE1vZHVsbyB7XG4gIHJldHVybiBuZXcgQW5pbWF0ZWRNb2R1bG8oYSwgbW9kdWx1cyk7XG59O1xuXG5jb25zdCBkaWZmQ2xhbXAgPSBmdW5jdGlvbihcbiAgYTogQW5pbWF0ZWROb2RlLFxuICBtaW46IG51bWJlcixcbiAgbWF4OiBudW1iZXIsXG4pOiBBbmltYXRlZERpZmZDbGFtcCB7XG4gIHJldHVybiBuZXcgQW5pbWF0ZWREaWZmQ2xhbXAoYSwgbWluLCBtYXgpO1xufTtcblxuY29uc3QgX2NvbWJpbmVDYWxsYmFja3MgPSBmdW5jdGlvbihcbiAgY2FsbGJhY2s6ID9FbmRDYWxsYmFjayxcbiAgY29uZmlnOiBBbmltYXRpb25Db25maWcsXG4pIHtcbiAgaWYgKGNhbGxiYWNrICYmIGNvbmZpZy5vbkNvbXBsZXRlKSB7XG4gICAgcmV0dXJuICguLi5hcmdzKSA9PiB7XG4gICAgICBjb25maWcub25Db21wbGV0ZSAmJiBjb25maWcub25Db21wbGV0ZSguLi5hcmdzKTtcbiAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKC4uLmFyZ3MpO1xuICAgIH07XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGNhbGxiYWNrIHx8IGNvbmZpZy5vbkNvbXBsZXRlO1xuICB9XG59O1xuXG5jb25zdCBtYXliZVZlY3RvckFuaW0gPSBmdW5jdGlvbihcbiAgdmFsdWU6IEFuaW1hdGVkVmFsdWUgfCBBbmltYXRlZFZhbHVlWFksXG4gIGNvbmZpZzogT2JqZWN0LFxuICBhbmltOiAodmFsdWU6IEFuaW1hdGVkVmFsdWUsIGNvbmZpZzogT2JqZWN0KSA9PiBDb21wb3NpdGVBbmltYXRpb24sXG4pOiA/Q29tcG9zaXRlQW5pbWF0aW9uIHtcbiAgaWYgKHZhbHVlIGluc3RhbmNlb2YgQW5pbWF0ZWRWYWx1ZVhZKSB7XG4gICAgY29uc3QgY29uZmlnWCA9IHsuLi5jb25maWd9O1xuICAgIGNvbnN0IGNvbmZpZ1kgPSB7Li4uY29uZmlnfTtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBjb25maWcpIHtcbiAgICAgIGNvbnN0IHt4LCB5fSA9IGNvbmZpZ1trZXldO1xuICAgICAgaWYgKHggIT09IHVuZGVmaW5lZCAmJiB5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29uZmlnWFtrZXldID0geDtcbiAgICAgICAgY29uZmlnWVtrZXldID0geTtcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgYVggPSBhbmltKCh2YWx1ZTogQW5pbWF0ZWRWYWx1ZVhZKS54LCBjb25maWdYKTtcbiAgICBjb25zdCBhWSA9IGFuaW0oKHZhbHVlOiBBbmltYXRlZFZhbHVlWFkpLnksIGNvbmZpZ1kpO1xuICAgIC8vIFdlIHVzZSBgc3RvcFRvZ2V0aGVyOiBmYWxzZWAgaGVyZSBiZWNhdXNlIG90aGVyd2lzZSB0cmFja2luZyB3aWxsIGJyZWFrXG4gICAgLy8gYmVjYXVzZSB0aGUgc2Vjb25kIGFuaW1hdGlvbiB3aWxsIGdldCBzdG9wcGVkIGJlZm9yZSBpdCBjYW4gdXBkYXRlLlxuICAgIHJldHVybiBwYXJhbGxlbChbYVgsIGFZXSwge3N0b3BUb2dldGhlcjogZmFsc2V9KTtcbiAgfVxuICByZXR1cm4gbnVsbDtcbn07XG5cbmNvbnN0IHNwcmluZyA9IGZ1bmN0aW9uKFxuICB2YWx1ZTogQW5pbWF0ZWRWYWx1ZSB8IEFuaW1hdGVkVmFsdWVYWSxcbiAgY29uZmlnOiBTcHJpbmdBbmltYXRpb25Db25maWcsXG4pOiBDb21wb3NpdGVBbmltYXRpb24ge1xuICBjb25zdCBzdGFydCA9IGZ1bmN0aW9uKFxuICAgIGFuaW1hdGVkVmFsdWU6IEFuaW1hdGVkVmFsdWUgfCBBbmltYXRlZFZhbHVlWFksXG4gICAgY29uZmlndXJhdGlvbjogU3ByaW5nQW5pbWF0aW9uQ29uZmlnLFxuICAgIGNhbGxiYWNrPzogP0VuZENhbGxiYWNrLFxuICApOiB2b2lkIHtcbiAgICBjYWxsYmFjayA9IF9jb21iaW5lQ2FsbGJhY2tzKGNhbGxiYWNrLCBjb25maWd1cmF0aW9uKTtcbiAgICBjb25zdCBzaW5nbGVWYWx1ZTogYW55ID0gYW5pbWF0ZWRWYWx1ZTtcbiAgICBjb25zdCBzaW5nbGVDb25maWc6IGFueSA9IGNvbmZpZ3VyYXRpb247XG4gICAgc2luZ2xlVmFsdWUuc3RvcFRyYWNraW5nKCk7XG4gICAgaWYgKGNvbmZpZ3VyYXRpb24udG9WYWx1ZSBpbnN0YW5jZW9mIEFuaW1hdGVkTm9kZSkge1xuICAgICAgc2luZ2xlVmFsdWUudHJhY2soXG4gICAgICAgIG5ldyBBbmltYXRlZFRyYWNraW5nKFxuICAgICAgICAgIHNpbmdsZVZhbHVlLFxuICAgICAgICAgIGNvbmZpZ3VyYXRpb24udG9WYWx1ZSxcbiAgICAgICAgICBTcHJpbmdBbmltYXRpb24sXG4gICAgICAgICAgc2luZ2xlQ29uZmlnLFxuICAgICAgICAgIGNhbGxiYWNrLFxuICAgICAgICApLFxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2luZ2xlVmFsdWUuYW5pbWF0ZShuZXcgU3ByaW5nQW5pbWF0aW9uKHNpbmdsZUNvbmZpZyksIGNhbGxiYWNrKTtcbiAgICB9XG4gIH07XG4gIHJldHVybiAoXG4gICAgbWF5YmVWZWN0b3JBbmltKHZhbHVlLCBjb25maWcsIHNwcmluZykgfHwge1xuICAgICAgc3RhcnQ6IGZ1bmN0aW9uKGNhbGxiYWNrPzogP0VuZENhbGxiYWNrKTogdm9pZCB7XG4gICAgICAgIHN0YXJ0KHZhbHVlLCBjb25maWcsIGNhbGxiYWNrKTtcbiAgICAgIH0sXG5cbiAgICAgIHN0b3A6IGZ1bmN0aW9uKCk6IHZvaWQge1xuICAgICAgICB2YWx1ZS5zdG9wQW5pbWF0aW9uKCk7XG4gICAgICB9LFxuXG4gICAgICByZXNldDogZnVuY3Rpb24oKTogdm9pZCB7XG4gICAgICAgIHZhbHVlLnJlc2V0QW5pbWF0aW9uKCk7XG4gICAgICB9LFxuXG4gICAgICBfc3RhcnROYXRpdmVMb29wOiBmdW5jdGlvbihpdGVyYXRpb25zPzogbnVtYmVyKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IHNpbmdsZUNvbmZpZyA9IHsuLi5jb25maWcsIGl0ZXJhdGlvbnN9O1xuICAgICAgICBzdGFydCh2YWx1ZSwgc2luZ2xlQ29uZmlnKTtcbiAgICAgIH0sXG5cbiAgICAgIF9pc1VzaW5nTmF0aXZlRHJpdmVyOiBmdW5jdGlvbigpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIGNvbmZpZy51c2VOYXRpdmVEcml2ZXIgfHwgZmFsc2U7XG4gICAgICB9LFxuICAgIH1cbiAgKTtcbn07XG5cbmNvbnN0IHRpbWluZyA9IGZ1bmN0aW9uKFxuICB2YWx1ZTogQW5pbWF0ZWRWYWx1ZSB8IEFuaW1hdGVkVmFsdWVYWSxcbiAgY29uZmlnOiBUaW1pbmdBbmltYXRpb25Db25maWcsXG4pOiBDb21wb3NpdGVBbmltYXRpb24ge1xuICBjb25zdCBzdGFydCA9IGZ1bmN0aW9uKFxuICAgIGFuaW1hdGVkVmFsdWU6IEFuaW1hdGVkVmFsdWUgfCBBbmltYXRlZFZhbHVlWFksXG4gICAgY29uZmlndXJhdGlvbjogVGltaW5nQW5pbWF0aW9uQ29uZmlnLFxuICAgIGNhbGxiYWNrPzogP0VuZENhbGxiYWNrLFxuICApOiB2b2lkIHtcbiAgICBjYWxsYmFjayA9IF9jb21iaW5lQ2FsbGJhY2tzKGNhbGxiYWNrLCBjb25maWd1cmF0aW9uKTtcbiAgICBjb25zdCBzaW5nbGVWYWx1ZTogYW55ID0gYW5pbWF0ZWRWYWx1ZTtcbiAgICBjb25zdCBzaW5nbGVDb25maWc6IGFueSA9IGNvbmZpZ3VyYXRpb247XG4gICAgc2luZ2xlVmFsdWUuc3RvcFRyYWNraW5nKCk7XG4gICAgaWYgKGNvbmZpZ3VyYXRpb24udG9WYWx1ZSBpbnN0YW5jZW9mIEFuaW1hdGVkTm9kZSkge1xuICAgICAgc2luZ2xlVmFsdWUudHJhY2soXG4gICAgICAgIG5ldyBBbmltYXRlZFRyYWNraW5nKFxuICAgICAgICAgIHNpbmdsZVZhbHVlLFxuICAgICAgICAgIGNvbmZpZ3VyYXRpb24udG9WYWx1ZSxcbiAgICAgICAgICBUaW1pbmdBbmltYXRpb24sXG4gICAgICAgICAgc2luZ2xlQ29uZmlnLFxuICAgICAgICAgIGNhbGxiYWNrLFxuICAgICAgICApLFxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2luZ2xlVmFsdWUuYW5pbWF0ZShuZXcgVGltaW5nQW5pbWF0aW9uKHNpbmdsZUNvbmZpZyksIGNhbGxiYWNrKTtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIChcbiAgICBtYXliZVZlY3RvckFuaW0odmFsdWUsIGNvbmZpZywgdGltaW5nKSB8fCB7XG4gICAgICBzdGFydDogZnVuY3Rpb24oY2FsbGJhY2s/OiA/RW5kQ2FsbGJhY2spOiB2b2lkIHtcbiAgICAgICAgc3RhcnQodmFsdWUsIGNvbmZpZywgY2FsbGJhY2spO1xuICAgICAgfSxcblxuICAgICAgc3RvcDogZnVuY3Rpb24oKTogdm9pZCB7XG4gICAgICAgIHZhbHVlLnN0b3BBbmltYXRpb24oKTtcbiAgICAgIH0sXG5cbiAgICAgIHJlc2V0OiBmdW5jdGlvbigpOiB2b2lkIHtcbiAgICAgICAgdmFsdWUucmVzZXRBbmltYXRpb24oKTtcbiAgICAgIH0sXG5cbiAgICAgIF9zdGFydE5hdGl2ZUxvb3A6IGZ1bmN0aW9uKGl0ZXJhdGlvbnM/OiBudW1iZXIpOiB2b2lkIHtcbiAgICAgICAgY29uc3Qgc2luZ2xlQ29uZmlnID0gey4uLmNvbmZpZywgaXRlcmF0aW9uc307XG4gICAgICAgIHN0YXJ0KHZhbHVlLCBzaW5nbGVDb25maWcpO1xuICAgICAgfSxcblxuICAgICAgX2lzVXNpbmdOYXRpdmVEcml2ZXI6IGZ1bmN0aW9uKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gY29uZmlnLnVzZU5hdGl2ZURyaXZlciB8fCBmYWxzZTtcbiAgICAgIH0sXG4gICAgfVxuICApO1xufTtcblxuY29uc3QgZGVjYXkgPSBmdW5jdGlvbihcbiAgdmFsdWU6IEFuaW1hdGVkVmFsdWUgfCBBbmltYXRlZFZhbHVlWFksXG4gIGNvbmZpZzogRGVjYXlBbmltYXRpb25Db25maWcsXG4pOiBDb21wb3NpdGVBbmltYXRpb24ge1xuICBjb25zdCBzdGFydCA9IGZ1bmN0aW9uKFxuICAgIGFuaW1hdGVkVmFsdWU6IEFuaW1hdGVkVmFsdWUgfCBBbmltYXRlZFZhbHVlWFksXG4gICAgY29uZmlndXJhdGlvbjogRGVjYXlBbmltYXRpb25Db25maWcsXG4gICAgY2FsbGJhY2s/OiA/RW5kQ2FsbGJhY2ssXG4gICk6IHZvaWQge1xuICAgIGNhbGxiYWNrID0gX2NvbWJpbmVDYWxsYmFja3MoY2FsbGJhY2ssIGNvbmZpZ3VyYXRpb24pO1xuICAgIGNvbnN0IHNpbmdsZVZhbHVlOiBhbnkgPSBhbmltYXRlZFZhbHVlO1xuICAgIGNvbnN0IHNpbmdsZUNvbmZpZzogYW55ID0gY29uZmlndXJhdGlvbjtcbiAgICBzaW5nbGVWYWx1ZS5zdG9wVHJhY2tpbmcoKTtcbiAgICBzaW5nbGVWYWx1ZS5hbmltYXRlKG5ldyBEZWNheUFuaW1hdGlvbihzaW5nbGVDb25maWcpLCBjYWxsYmFjayk7XG4gIH07XG5cbiAgcmV0dXJuIChcbiAgICBtYXliZVZlY3RvckFuaW0odmFsdWUsIGNvbmZpZywgZGVjYXkpIHx8IHtcbiAgICAgIHN0YXJ0OiBmdW5jdGlvbihjYWxsYmFjaz86ID9FbmRDYWxsYmFjayk6IHZvaWQge1xuICAgICAgICBzdGFydCh2YWx1ZSwgY29uZmlnLCBjYWxsYmFjayk7XG4gICAgICB9LFxuXG4gICAgICBzdG9wOiBmdW5jdGlvbigpOiB2b2lkIHtcbiAgICAgICAgdmFsdWUuc3RvcEFuaW1hdGlvbigpO1xuICAgICAgfSxcblxuICAgICAgcmVzZXQ6IGZ1bmN0aW9uKCk6IHZvaWQge1xuICAgICAgICB2YWx1ZS5yZXNldEFuaW1hdGlvbigpO1xuICAgICAgfSxcblxuICAgICAgX3N0YXJ0TmF0aXZlTG9vcDogZnVuY3Rpb24oaXRlcmF0aW9ucz86IG51bWJlcik6IHZvaWQge1xuICAgICAgICBjb25zdCBzaW5nbGVDb25maWcgPSB7Li4uY29uZmlnLCBpdGVyYXRpb25zfTtcbiAgICAgICAgc3RhcnQodmFsdWUsIHNpbmdsZUNvbmZpZyk7XG4gICAgICB9LFxuXG4gICAgICBfaXNVc2luZ05hdGl2ZURyaXZlcjogZnVuY3Rpb24oKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBjb25maWcudXNlTmF0aXZlRHJpdmVyIHx8IGZhbHNlO1xuICAgICAgfSxcbiAgICB9XG4gICk7XG59O1xuXG5jb25zdCBzZXF1ZW5jZSA9IGZ1bmN0aW9uKFxuICBhbmltYXRpb25zOiBBcnJheTxDb21wb3NpdGVBbmltYXRpb24+LFxuKTogQ29tcG9zaXRlQW5pbWF0aW9uIHtcbiAgbGV0IGN1cnJlbnQgPSAwO1xuICByZXR1cm4ge1xuICAgIHN0YXJ0OiBmdW5jdGlvbihjYWxsYmFjaz86ID9FbmRDYWxsYmFjaykge1xuICAgICAgY29uc3Qgb25Db21wbGV0ZSA9IGZ1bmN0aW9uKHJlc3VsdCkge1xuICAgICAgICBpZiAoIXJlc3VsdC5maW5pc2hlZCkge1xuICAgICAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKHJlc3VsdCk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY3VycmVudCsrO1xuXG4gICAgICAgIGlmIChjdXJyZW50ID09PSBhbmltYXRpb25zLmxlbmd0aCkge1xuICAgICAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKHJlc3VsdCk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgYW5pbWF0aW9uc1tjdXJyZW50XS5zdGFydChvbkNvbXBsZXRlKTtcbiAgICAgIH07XG5cbiAgICAgIGlmIChhbmltYXRpb25zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBjYWxsYmFjayAmJiBjYWxsYmFjayh7ZmluaXNoZWQ6IHRydWV9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFuaW1hdGlvbnNbY3VycmVudF0uc3RhcnQob25Db21wbGV0ZSk7XG4gICAgICB9XG4gICAgfSxcblxuICAgIHN0b3A6IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKGN1cnJlbnQgPCBhbmltYXRpb25zLmxlbmd0aCkge1xuICAgICAgICBhbmltYXRpb25zW2N1cnJlbnRdLnN0b3AoKTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgcmVzZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgYW5pbWF0aW9ucy5mb3JFYWNoKChhbmltYXRpb24sIGlkeCkgPT4ge1xuICAgICAgICBpZiAoaWR4IDw9IGN1cnJlbnQpIHtcbiAgICAgICAgICBhbmltYXRpb24ucmVzZXQoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBjdXJyZW50ID0gMDtcbiAgICB9LFxuXG4gICAgX3N0YXJ0TmF0aXZlTG9vcDogZnVuY3Rpb24oKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdMb29wcyBydW4gdXNpbmcgdGhlIG5hdGl2ZSBkcml2ZXIgY2Fubm90IGNvbnRhaW4gQW5pbWF0ZWQuc2VxdWVuY2UgYW5pbWF0aW9ucycsXG4gICAgICApO1xuICAgIH0sXG5cbiAgICBfaXNVc2luZ05hdGl2ZURyaXZlcjogZnVuY3Rpb24oKTogYm9vbGVhbiB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSxcbiAgfTtcbn07XG5cbnR5cGUgUGFyYWxsZWxDb25maWcgPSB7XG4gIHN0b3BUb2dldGhlcj86IGJvb2xlYW4sIC8vIElmIG9uZSBpcyBzdG9wcGVkLCBzdG9wIGFsbC4gIGRlZmF1bHQ6IHRydWVcbn07XG5jb25zdCBwYXJhbGxlbCA9IGZ1bmN0aW9uKFxuICBhbmltYXRpb25zOiBBcnJheTxDb21wb3NpdGVBbmltYXRpb24+LFxuICBjb25maWc/OiA/UGFyYWxsZWxDb25maWcsXG4pOiBDb21wb3NpdGVBbmltYXRpb24ge1xuICBsZXQgZG9uZUNvdW50ID0gMDtcbiAgLy8gTWFrZSBzdXJlIHdlIG9ubHkgY2FsbCBzdG9wKCkgYXQgbW9zdCBvbmNlIGZvciBlYWNoIGFuaW1hdGlvblxuICBjb25zdCBoYXNFbmRlZCA9IHt9O1xuICBjb25zdCBzdG9wVG9nZXRoZXIgPSAhKGNvbmZpZyAmJiBjb25maWcuc3RvcFRvZ2V0aGVyID09PSBmYWxzZSk7XG5cbiAgY29uc3QgcmVzdWx0ID0ge1xuICAgIHN0YXJ0OiBmdW5jdGlvbihjYWxsYmFjaz86ID9FbmRDYWxsYmFjaykge1xuICAgICAgaWYgKGRvbmVDb3VudCA9PT0gYW5pbWF0aW9ucy5sZW5ndGgpIHtcbiAgICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2soe2ZpbmlzaGVkOiB0cnVlfSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgYW5pbWF0aW9ucy5mb3JFYWNoKChhbmltYXRpb24sIGlkeCkgPT4ge1xuICAgICAgICBjb25zdCBjYiA9IGZ1bmN0aW9uKGVuZFJlc3VsdCkge1xuICAgICAgICAgIGhhc0VuZGVkW2lkeF0gPSB0cnVlO1xuICAgICAgICAgIGRvbmVDb3VudCsrO1xuICAgICAgICAgIGlmIChkb25lQ291bnQgPT09IGFuaW1hdGlvbnMubGVuZ3RoKSB7XG4gICAgICAgICAgICBkb25lQ291bnQgPSAwO1xuICAgICAgICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2soZW5kUmVzdWx0KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoIWVuZFJlc3VsdC5maW5pc2hlZCAmJiBzdG9wVG9nZXRoZXIpIHtcbiAgICAgICAgICAgIHJlc3VsdC5zdG9wKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIGlmICghYW5pbWF0aW9uKSB7XG4gICAgICAgICAgY2Ioe2ZpbmlzaGVkOiB0cnVlfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYW5pbWF0aW9uLnN0YXJ0KGNiKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSxcblxuICAgIHN0b3A6IGZ1bmN0aW9uKCk6IHZvaWQge1xuICAgICAgYW5pbWF0aW9ucy5mb3JFYWNoKChhbmltYXRpb24sIGlkeCkgPT4ge1xuICAgICAgICAhaGFzRW5kZWRbaWR4XSAmJiBhbmltYXRpb24uc3RvcCgpO1xuICAgICAgICBoYXNFbmRlZFtpZHhdID0gdHJ1ZTtcbiAgICAgIH0pO1xuICAgIH0sXG5cbiAgICByZXNldDogZnVuY3Rpb24oKTogdm9pZCB7XG4gICAgICBhbmltYXRpb25zLmZvckVhY2goKGFuaW1hdGlvbiwgaWR4KSA9PiB7XG4gICAgICAgIGFuaW1hdGlvbi5yZXNldCgpO1xuICAgICAgICBoYXNFbmRlZFtpZHhdID0gZmFsc2U7XG4gICAgICAgIGRvbmVDb3VudCA9IDA7XG4gICAgICB9KTtcbiAgICB9LFxuXG4gICAgX3N0YXJ0TmF0aXZlTG9vcDogZnVuY3Rpb24oKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdMb29wcyBydW4gdXNpbmcgdGhlIG5hdGl2ZSBkcml2ZXIgY2Fubm90IGNvbnRhaW4gQW5pbWF0ZWQucGFyYWxsZWwgYW5pbWF0aW9ucycsXG4gICAgICApO1xuICAgIH0sXG5cbiAgICBfaXNVc2luZ05hdGl2ZURyaXZlcjogZnVuY3Rpb24oKTogYm9vbGVhbiB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSxcbiAgfTtcblxuICByZXR1cm4gcmVzdWx0O1xufTtcblxuY29uc3QgZGVsYXkgPSBmdW5jdGlvbih0aW1lOiBudW1iZXIpOiBDb21wb3NpdGVBbmltYXRpb24ge1xuICAvLyBXb3VsZCBiZSBuaWNlIHRvIG1ha2UgYSBzcGVjaWFsaXplZCBpbXBsZW1lbnRhdGlvblxuICByZXR1cm4gdGltaW5nKG5ldyBBbmltYXRlZFZhbHVlKDApLCB7dG9WYWx1ZTogMCwgZGVsYXk6IHRpbWUsIGR1cmF0aW9uOiAwfSk7XG59O1xuXG5jb25zdCBzdGFnZ2VyID0gZnVuY3Rpb24oXG4gIHRpbWU6IG51bWJlcixcbiAgYW5pbWF0aW9uczogQXJyYXk8Q29tcG9zaXRlQW5pbWF0aW9uPixcbik6IENvbXBvc2l0ZUFuaW1hdGlvbiB7XG4gIHJldHVybiBwYXJhbGxlbChcbiAgICBhbmltYXRpb25zLm1hcCgoYW5pbWF0aW9uLCBpKSA9PiB7XG4gICAgICByZXR1cm4gc2VxdWVuY2UoW2RlbGF5KHRpbWUgKiBpKSwgYW5pbWF0aW9uXSk7XG4gICAgfSksXG4gICk7XG59O1xuXG50eXBlIExvb3BBbmltYXRpb25Db25maWcgPSB7aXRlcmF0aW9uczogbnVtYmVyfTtcblxuY29uc3QgbG9vcCA9IGZ1bmN0aW9uKFxuICBhbmltYXRpb246IENvbXBvc2l0ZUFuaW1hdGlvbixcbiAge2l0ZXJhdGlvbnMgPSAtMX06IExvb3BBbmltYXRpb25Db25maWcgPSB7fSxcbik6IENvbXBvc2l0ZUFuaW1hdGlvbiB7XG4gIGxldCBpc0ZpbmlzaGVkID0gZmFsc2U7XG4gIGxldCBpdGVyYXRpb25zU29GYXIgPSAwO1xuICByZXR1cm4ge1xuICAgIHN0YXJ0OiBmdW5jdGlvbihjYWxsYmFjaz86ID9FbmRDYWxsYmFjaykge1xuICAgICAgY29uc3QgcmVzdGFydCA9IGZ1bmN0aW9uKHJlc3VsdDogRW5kUmVzdWx0ID0ge2ZpbmlzaGVkOiB0cnVlfSk6IHZvaWQge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgaXNGaW5pc2hlZCB8fFxuICAgICAgICAgIGl0ZXJhdGlvbnNTb0ZhciA9PT0gaXRlcmF0aW9ucyB8fFxuICAgICAgICAgIHJlc3VsdC5maW5pc2hlZCA9PT0gZmFsc2VcbiAgICAgICAgKSB7XG4gICAgICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2socmVzdWx0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpdGVyYXRpb25zU29GYXIrKztcbiAgICAgICAgICBhbmltYXRpb24ucmVzZXQoKTtcbiAgICAgICAgICBhbmltYXRpb24uc3RhcnQocmVzdGFydCk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBpZiAoIWFuaW1hdGlvbiB8fCBpdGVyYXRpb25zID09PSAwKSB7XG4gICAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKHtmaW5pc2hlZDogdHJ1ZX0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGFuaW1hdGlvbi5faXNVc2luZ05hdGl2ZURyaXZlcigpKSB7XG4gICAgICAgICAgYW5pbWF0aW9uLl9zdGFydE5hdGl2ZUxvb3AoaXRlcmF0aW9ucyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVzdGFydCgpOyAvLyBTdGFydCBsb29waW5nIHJlY3Vyc2l2ZWx5IG9uIHRoZSBqcyB0aHJlYWRcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG5cbiAgICBzdG9wOiBmdW5jdGlvbigpOiB2b2lkIHtcbiAgICAgIGlzRmluaXNoZWQgPSB0cnVlO1xuICAgICAgYW5pbWF0aW9uLnN0b3AoKTtcbiAgICB9LFxuXG4gICAgcmVzZXQ6IGZ1bmN0aW9uKCk6IHZvaWQge1xuICAgICAgaXRlcmF0aW9uc1NvRmFyID0gMDtcbiAgICAgIGlzRmluaXNoZWQgPSBmYWxzZTtcbiAgICAgIGFuaW1hdGlvbi5yZXNldCgpO1xuICAgIH0sXG5cbiAgICBfc3RhcnROYXRpdmVMb29wOiBmdW5jdGlvbigpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ0xvb3BzIHJ1biB1c2luZyB0aGUgbmF0aXZlIGRyaXZlciBjYW5ub3QgY29udGFpbiBBbmltYXRlZC5sb29wIGFuaW1hdGlvbnMnLFxuICAgICAgKTtcbiAgICB9LFxuXG4gICAgX2lzVXNpbmdOYXRpdmVEcml2ZXI6IGZ1bmN0aW9uKCk6IGJvb2xlYW4ge1xuICAgICAgcmV0dXJuIGFuaW1hdGlvbi5faXNVc2luZ05hdGl2ZURyaXZlcigpO1xuICAgIH0sXG4gIH07XG59O1xuXG5mdW5jdGlvbiBmb3JrRXZlbnQoXG4gIGV2ZW50OiA/QW5pbWF0ZWRFdmVudCB8ID9GdW5jdGlvbixcbiAgbGlzdGVuZXI6IEZ1bmN0aW9uLFxuKTogQW5pbWF0ZWRFdmVudCB8IEZ1bmN0aW9uIHtcbiAgaWYgKCFldmVudCkge1xuICAgIHJldHVybiBsaXN0ZW5lcjtcbiAgfSBlbHNlIGlmIChldmVudCBpbnN0YW5jZW9mIEFuaW1hdGVkRXZlbnQpIHtcbiAgICBldmVudC5fX2FkZExpc3RlbmVyKGxpc3RlbmVyKTtcbiAgICByZXR1cm4gZXZlbnQ7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuICguLi5hcmdzKSA9PiB7XG4gICAgICB0eXBlb2YgZXZlbnQgPT09ICdmdW5jdGlvbicgJiYgZXZlbnQoLi4uYXJncyk7XG4gICAgICBsaXN0ZW5lciguLi5hcmdzKTtcbiAgICB9O1xuICB9XG59XG5cbmZ1bmN0aW9uIHVuZm9ya0V2ZW50KFxuICBldmVudDogP0FuaW1hdGVkRXZlbnQgfCA/RnVuY3Rpb24sXG4gIGxpc3RlbmVyOiBGdW5jdGlvbixcbik6IHZvaWQge1xuICBpZiAoZXZlbnQgJiYgZXZlbnQgaW5zdGFuY2VvZiBBbmltYXRlZEV2ZW50KSB7XG4gICAgZXZlbnQuX19yZW1vdmVMaXN0ZW5lcihsaXN0ZW5lcik7XG4gIH1cbn1cblxuY29uc3QgZXZlbnQgPSBmdW5jdGlvbihhcmdNYXBwaW5nOiBBcnJheTw/TWFwcGluZz4sIGNvbmZpZz86IEV2ZW50Q29uZmlnKTogYW55IHtcbiAgY29uc3QgYW5pbWF0ZWRFdmVudCA9IG5ldyBBbmltYXRlZEV2ZW50KGFyZ01hcHBpbmcsIGNvbmZpZyk7XG4gIGlmIChhbmltYXRlZEV2ZW50Ll9faXNOYXRpdmUpIHtcbiAgICByZXR1cm4gYW5pbWF0ZWRFdmVudDtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gYW5pbWF0ZWRFdmVudC5fX2dldEhhbmRsZXIoKTtcbiAgfVxufTtcblxuLyoqXG4gKiBUaGUgYEFuaW1hdGVkYCBsaWJyYXJ5IGlzIGRlc2lnbmVkIHRvIG1ha2UgYW5pbWF0aW9ucyBmbHVpZCwgcG93ZXJmdWwsIGFuZFxuICogZWFzeSB0byBidWlsZCBhbmQgbWFpbnRhaW4uIGBBbmltYXRlZGAgZm9jdXNlcyBvbiBkZWNsYXJhdGl2ZSByZWxhdGlvbnNoaXBzXG4gKiBiZXR3ZWVuIGlucHV0cyBhbmQgb3V0cHV0cywgd2l0aCBjb25maWd1cmFibGUgdHJhbnNmb3JtcyBpbiBiZXR3ZWVuLCBhbmRcbiAqIHNpbXBsZSBgc3RhcnRgL2BzdG9wYCBtZXRob2RzIHRvIGNvbnRyb2wgdGltZS1iYXNlZCBhbmltYXRpb24gZXhlY3V0aW9uLlxuICpcbiAqIFNlZSBodHRwOi8vZmFjZWJvb2suZ2l0aHViLmlvL3JlYWN0LW5hdGl2ZS9kb2NzL2FuaW1hdGVkLmh0bWxcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSB7XG4gIC8qKlxuICAgKiBTdGFuZGFyZCB2YWx1ZSBjbGFzcyBmb3IgZHJpdmluZyBhbmltYXRpb25zLiAgVHlwaWNhbGx5IGluaXRpYWxpemVkIHdpdGhcbiAgICogYG5ldyBBbmltYXRlZC5WYWx1ZSgwKTtgXG4gICAqXG4gICAqIFNlZSBodHRwOi8vZmFjZWJvb2suZ2l0aHViLmlvL3JlYWN0LW5hdGl2ZS9kb2NzL2FuaW1hdGVkLmh0bWwjdmFsdWVcbiAgICovXG4gIFZhbHVlOiBBbmltYXRlZFZhbHVlLFxuICAvKipcbiAgICogMkQgdmFsdWUgY2xhc3MgZm9yIGRyaXZpbmcgMkQgYW5pbWF0aW9ucywgc3VjaCBhcyBwYW4gZ2VzdHVyZXMuXG4gICAqXG4gICAqIFNlZSBodHRwczovL2ZhY2Vib29rLmdpdGh1Yi5pby9yZWFjdC1uYXRpdmUvcmVsZWFzZXMvbmV4dC9kb2NzL2FuaW1hdGVkdmFsdWV4eS5odG1sXG4gICAqL1xuICBWYWx1ZVhZOiBBbmltYXRlZFZhbHVlWFksXG4gIC8qKlxuICAgKiBFeHBvcnRlZCB0byB1c2UgdGhlIEludGVycG9sYXRpb24gdHlwZSBpbiBmbG93LlxuICAgKlxuICAgKiBTZWUgaHR0cDovL2ZhY2Vib29rLmdpdGh1Yi5pby9yZWFjdC1uYXRpdmUvZG9jcy9hbmltYXRlZC5odG1sI2ludGVycG9sYXRpb25cbiAgICovXG4gIEludGVycG9sYXRpb246IEFuaW1hdGVkSW50ZXJwb2xhdGlvbixcbiAgLyoqXG4gICAqIEV4cG9ydGVkIGZvciBlYXNlIG9mIHR5cGUgY2hlY2tpbmcuIEFsbCBhbmltYXRlZCB2YWx1ZXMgZGVyaXZlIGZyb20gdGhpc1xuICAgKiBjbGFzcy5cbiAgICpcbiAgICogU2VlIGh0dHA6Ly9mYWNlYm9vay5naXRodWIuaW8vcmVhY3QtbmF0aXZlL2RvY3MvYW5pbWF0ZWQuaHRtbCNub2RlXG4gICAqL1xuICBOb2RlOiBBbmltYXRlZE5vZGUsXG5cbiAgLyoqXG4gICAqIEFuaW1hdGVzIGEgdmFsdWUgZnJvbSBhbiBpbml0aWFsIHZlbG9jaXR5IHRvIHplcm8gYmFzZWQgb24gYSBkZWNheVxuICAgKiBjb2VmZmljaWVudC5cbiAgICpcbiAgICogU2VlIGh0dHA6Ly9mYWNlYm9vay5naXRodWIuaW8vcmVhY3QtbmF0aXZlL2RvY3MvYW5pbWF0ZWQuaHRtbCNkZWNheVxuICAgKi9cbiAgZGVjYXksXG4gIC8qKlxuICAgKiBBbmltYXRlcyBhIHZhbHVlIGFsb25nIGEgdGltZWQgZWFzaW5nIGN1cnZlLiBUaGUgRWFzaW5nIG1vZHVsZSBoYXMgdG9ucyBvZlxuICAgKiBwcmVkZWZpbmVkIGN1cnZlcywgb3IgeW91IGNhbiB1c2UgeW91ciBvd24gZnVuY3Rpb24uXG4gICAqXG4gICAqIFNlZSBodHRwOi8vZmFjZWJvb2suZ2l0aHViLmlvL3JlYWN0LW5hdGl2ZS9kb2NzL2FuaW1hdGVkLmh0bWwjdGltaW5nXG4gICAqL1xuICB0aW1pbmcsXG4gIC8qKlxuICAgKiBBbmltYXRlcyBhIHZhbHVlIGFjY29yZGluZyB0byBhbiBhbmFseXRpY2FsIHNwcmluZyBtb2RlbCBiYXNlZCBvblxuICAgKiBkYW1wZWQgaGFybW9uaWMgb3NjaWxsYXRpb24uXG4gICAqXG4gICAqIFNlZSBodHRwOi8vZmFjZWJvb2suZ2l0aHViLmlvL3JlYWN0LW5hdGl2ZS9kb2NzL2FuaW1hdGVkLmh0bWwjc3ByaW5nXG4gICAqL1xuICBzcHJpbmcsXG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBuZXcgQW5pbWF0ZWQgdmFsdWUgY29tcG9zZWQgZnJvbSB0d28gQW5pbWF0ZWQgdmFsdWVzIGFkZGVkXG4gICAqIHRvZ2V0aGVyLlxuICAgKlxuICAgKiBTZWUgaHR0cDovL2ZhY2Vib29rLmdpdGh1Yi5pby9yZWFjdC1uYXRpdmUvZG9jcy9hbmltYXRlZC5odG1sI2FkZFxuICAgKi9cbiAgYWRkLFxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgbmV3IEFuaW1hdGVkIHZhbHVlIGNvbXBvc2VkIGJ5IGRpdmlkaW5nIHRoZSBmaXJzdCBBbmltYXRlZCB2YWx1ZVxuICAgKiBieSB0aGUgc2Vjb25kIEFuaW1hdGVkIHZhbHVlLlxuICAgKlxuICAgKiBTZWUgaHR0cDovL2ZhY2Vib29rLmdpdGh1Yi5pby9yZWFjdC1uYXRpdmUvZG9jcy9hbmltYXRlZC5odG1sI2RpdmlkZVxuICAgKi9cbiAgZGl2aWRlLFxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgbmV3IEFuaW1hdGVkIHZhbHVlIGNvbXBvc2VkIGZyb20gdHdvIEFuaW1hdGVkIHZhbHVlcyBtdWx0aXBsaWVkXG4gICAqIHRvZ2V0aGVyLlxuICAgKlxuICAgKiBTZWUgaHR0cDovL2ZhY2Vib29rLmdpdGh1Yi5pby9yZWFjdC1uYXRpdmUvZG9jcy9hbmltYXRlZC5odG1sI211bHRpcGx5XG4gICAqL1xuICBtdWx0aXBseSxcblxuICAvKipcbiAgICogQ3JlYXRlcyBhIG5ldyBBbmltYXRlZCB2YWx1ZSB0aGF0IGlzIHRoZSAobm9uLW5lZ2F0aXZlKSBtb2R1bG8gb2YgdGhlXG4gICAqIHByb3ZpZGVkIEFuaW1hdGVkIHZhbHVlLlxuICAgKlxuICAgKiBTZWUgaHR0cDovL2ZhY2Vib29rLmdpdGh1Yi5pby9yZWFjdC1uYXRpdmUvZG9jcy9hbmltYXRlZC5odG1sI21vZHVsb1xuICAgKi9cbiAgbW9kdWxvLFxuXG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgQW5pbWF0ZWQgdmFsdWUgdGhhdCBpcyBsaW1pdGVkIGJldHdlZW4gMiB2YWx1ZXMuIEl0IHVzZXMgdGhlXG4gICAqIGRpZmZlcmVuY2UgYmV0d2VlbiB0aGUgbGFzdCB2YWx1ZSBzbyBldmVuIGlmIHRoZSB2YWx1ZSBpcyBmYXIgZnJvbSB0aGVcbiAgICogYm91bmRzIGl0IHdpbGwgc3RhcnQgY2hhbmdpbmcgd2hlbiB0aGUgdmFsdWUgc3RhcnRzIGdldHRpbmcgY2xvc2VyIGFnYWluLlxuICAgKlxuICAgKiBTZWUgaHR0cDovL2ZhY2Vib29rLmdpdGh1Yi5pby9yZWFjdC1uYXRpdmUvZG9jcy9hbmltYXRlZC5odG1sI2RpZmZjbGFtcFxuICAgKi9cbiAgZGlmZkNsYW1wLFxuXG4gIC8qKlxuICAgKiBTdGFydHMgYW4gYW5pbWF0aW9uIGFmdGVyIHRoZSBnaXZlbiBkZWxheS5cbiAgICpcbiAgICogU2VlIGh0dHA6Ly9mYWNlYm9vay5naXRodWIuaW8vcmVhY3QtbmF0aXZlL2RvY3MvYW5pbWF0ZWQuaHRtbCNkZWxheVxuICAgKi9cbiAgZGVsYXksXG4gIC8qKlxuICAgKiBTdGFydHMgYW4gYXJyYXkgb2YgYW5pbWF0aW9ucyBpbiBvcmRlciwgd2FpdGluZyBmb3IgZWFjaCB0byBjb21wbGV0ZVxuICAgKiBiZWZvcmUgc3RhcnRpbmcgdGhlIG5leHQuIElmIHRoZSBjdXJyZW50IHJ1bm5pbmcgYW5pbWF0aW9uIGlzIHN0b3BwZWQsIG5vXG4gICAqIGZvbGxvd2luZyBhbmltYXRpb25zIHdpbGwgYmUgc3RhcnRlZC5cbiAgICpcbiAgICogU2VlIGh0dHA6Ly9mYWNlYm9vay5naXRodWIuaW8vcmVhY3QtbmF0aXZlL2RvY3MvYW5pbWF0ZWQuaHRtbCNzZXF1ZW5jZVxuICAgKi9cbiAgc2VxdWVuY2UsXG4gIC8qKlxuICAgKiBTdGFydHMgYW4gYXJyYXkgb2YgYW5pbWF0aW9ucyBhbGwgYXQgdGhlIHNhbWUgdGltZS4gQnkgZGVmYXVsdCwgaWYgb25lXG4gICAqIG9mIHRoZSBhbmltYXRpb25zIGlzIHN0b3BwZWQsIHRoZXkgd2lsbCBhbGwgYmUgc3RvcHBlZC4gWW91IGNhbiBvdmVycmlkZVxuICAgKiB0aGlzIHdpdGggdGhlIGBzdG9wVG9nZXRoZXJgIGZsYWcuXG4gICAqXG4gICAqIFNlZSBodHRwOi8vZmFjZWJvb2suZ2l0aHViLmlvL3JlYWN0LW5hdGl2ZS9kb2NzL2FuaW1hdGVkLmh0bWwjcGFyYWxsZWxcbiAgICovXG4gIHBhcmFsbGVsLFxuICAvKipcbiAgICogQXJyYXkgb2YgYW5pbWF0aW9ucyBtYXkgcnVuIGluIHBhcmFsbGVsIChvdmVybGFwKSwgYnV0IGFyZSBzdGFydGVkIGluXG4gICAqIHNlcXVlbmNlIHdpdGggc3VjY2Vzc2l2ZSBkZWxheXMuICBOaWNlIGZvciBkb2luZyB0cmFpbGluZyBlZmZlY3RzLlxuICAgKlxuICAgKiBTZWUgaHR0cDovL2ZhY2Vib29rLmdpdGh1Yi5pby9yZWFjdC1uYXRpdmUvZG9jcy9hbmltYXRlZC5odG1sI3N0YWdnZXJcbiAgICovXG4gIHN0YWdnZXIsXG4gIC8qKlxuICAgKiBMb29wcyBhIGdpdmVuIGFuaW1hdGlvbiBjb250aW51b3VzbHksIHNvIHRoYXQgZWFjaCB0aW1lIGl0IHJlYWNoZXMgdGhlXG4gICAqIGVuZCwgaXQgcmVzZXRzIGFuZCBiZWdpbnMgYWdhaW4gZnJvbSB0aGUgc3RhcnQuXG4gICAqXG4gICAqIFNlZSBodHRwOi8vZmFjZWJvb2suZ2l0aHViLmlvL3JlYWN0LW5hdGl2ZS9kb2NzL2FuaW1hdGVkLmh0bWwjbG9vcFxuICAgKi9cbiAgbG9vcCxcblxuICAvKipcbiAgICogVGFrZXMgYW4gYXJyYXkgb2YgbWFwcGluZ3MgYW5kIGV4dHJhY3RzIHZhbHVlcyBmcm9tIGVhY2ggYXJnIGFjY29yZGluZ2x5LFxuICAgKiB0aGVuIGNhbGxzIGBzZXRWYWx1ZWAgb24gdGhlIG1hcHBlZCBvdXRwdXRzLlxuICAgKlxuICAgKiBTZWUgaHR0cDovL2ZhY2Vib29rLmdpdGh1Yi5pby9yZWFjdC1uYXRpdmUvZG9jcy9hbmltYXRlZC5odG1sI2V2ZW50XG4gICAqL1xuICBldmVudCxcblxuICAvKipcbiAgICogTWFrZSBhbnkgUmVhY3QgY29tcG9uZW50IEFuaW1hdGFibGUuICBVc2VkIHRvIGNyZWF0ZSBgQW5pbWF0ZWQuVmlld2AsIGV0Yy5cbiAgICpcbiAgICogU2VlIGh0dHA6Ly9mYWNlYm9vay5naXRodWIuaW8vcmVhY3QtbmF0aXZlL2RvY3MvYW5pbWF0ZWQuaHRtbCNjcmVhdGVhbmltYXRlZGNvbXBvbmVudFxuICAgKi9cbiAgY3JlYXRlQW5pbWF0ZWRDb21wb25lbnQsXG5cbiAgLyoqXG4gICAqIEltcGVyYXRpdmUgQVBJIHRvIGF0dGFjaCBhbiBhbmltYXRlZCB2YWx1ZSB0byBhbiBldmVudCBvbiBhIHZpZXcuIFByZWZlclxuICAgKiB1c2luZyBgQW5pbWF0ZWQuZXZlbnRgIHdpdGggYHVzZU5hdGl2ZURyaXZlOiB0cnVlYCBpZiBwb3NzaWJsZS5cbiAgICpcbiAgICogU2VlIGh0dHA6Ly9mYWNlYm9vay5naXRodWIuaW8vcmVhY3QtbmF0aXZlL2RvY3MvYW5pbWF0ZWQuaHRtbCNhdHRhY2huYXRpdmVldmVudFxuICAgKi9cbiAgYXR0YWNoTmF0aXZlRXZlbnQsXG5cbiAgLyoqXG4gICAqIEFkdmFuY2VkIGltcGVyYXRpdmUgQVBJIGZvciBzbm9vcGluZyBvbiBhbmltYXRlZCBldmVudHMgdGhhdCBhcmUgcGFzc2VkIGluXG4gICAqIHRocm91Z2ggcHJvcHMuIFVzZSB2YWx1ZXMgZGlyZWN0bHkgd2hlcmUgcG9zc2libGUuXG4gICAqXG4gICAqIFNlZSBodHRwOi8vZmFjZWJvb2suZ2l0aHViLmlvL3JlYWN0LW5hdGl2ZS9kb2NzL2FuaW1hdGVkLmh0bWwjZm9ya2V2ZW50XG4gICAqL1xuICBmb3JrRXZlbnQsXG4gIHVuZm9ya0V2ZW50LFxuXG4gIF9fUHJvcHNPbmx5Rm9yVGVzdHM6IEFuaW1hdGVkUHJvcHMsXG59O1xuIl19