11a0f881105e70fb73f6731f3626384f
'use strict';var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};var EdgeInsetsPropType=require('EdgeInsetsPropType');var ImageResizeMode=require('ImageResizeMode');var ImageSourcePropType=require('ImageSourcePropType');var ImageStylePropTypes=require('ImageStylePropTypes');var NativeMethodsMixin=require('NativeMethodsMixin');var NativeModules=require('NativeModules');var React=require('React');var PropTypes=require('prop-types');var ReactNativeViewAttributes=require('ReactNativeViewAttributes');var StyleSheet=require('StyleSheet');var StyleSheetPropType=require('StyleSheetPropType');var createReactClass=require('create-react-class');var flattenStyle=require('flattenStyle');var requireNativeComponent=require('requireNativeComponent');var resolveAssetSource=require('resolveAssetSource');var ImageViewManager=NativeModules.ImageViewManager;var Image=createReactClass({displayName:'Image',propTypes:{style:StyleSheetPropType(ImageStylePropTypes),source:ImageSourcePropType,defaultSource:PropTypes.oneOfType([PropTypes.shape({uri:PropTypes.string,width:PropTypes.number,height:PropTypes.number,scale:PropTypes.number}),PropTypes.number]),accessible:PropTypes.bool,accessibilityLabel:PropTypes.node,blurRadius:PropTypes.number,capInsets:EdgeInsetsPropType,resizeMethod:PropTypes.oneOf(['auto','resize','scale']),resizeMode:PropTypes.oneOf(['cover','contain','stretch','repeat','center']),testID:PropTypes.string,onLayout:PropTypes.func,onLoadStart:PropTypes.func,onProgress:PropTypes.func,onError:PropTypes.func,onPartialLoad:PropTypes.func,onLoad:PropTypes.func,onLoadEnd:PropTypes.func},statics:{resizeMode:ImageResizeMode,getSize:function getSize(uri,success,failure){ImageViewManager.getSize(uri,success,failure||function(){console.warn('Failed to get size for image: '+uri);});},prefetch:function prefetch(url){return ImageViewManager.prefetchImage(url);},resolveAssetSource:resolveAssetSource},mixins:[NativeMethodsMixin],viewConfig:{uiViewClassName:'UIView',validAttributes:ReactNativeViewAttributes.UIView},render:function render(){var source=resolveAssetSource(this.props.source)||{uri:undefined,width:undefined,height:undefined};var sources=void 0;var style=void 0;if(Array.isArray(source)){style=flattenStyle([styles.base,this.props.style])||{};sources=source;}else{var _width=source.width,_height=source.height,uri=source.uri;style=flattenStyle([{width:_width,height:_height},styles.base,this.props.style])||{};sources=[source];if(uri===''){console.warn('source.uri should not be an empty string');}}var resizeMode=this.props.resizeMode||(style||{}).resizeMode||'cover';var tintColor=(style||{}).tintColor;if(this.props.src){console.warn('The <Image> component requires a `source` property rather than `src`.');}if(this.props.children){throw new Error('The <Image> component cannot contain children. If you want to render content on top of the image, consider using the <ImageBackground> component or absolute positioning.');}return React.createElement(RCTImageView,_extends({},this.props,{style:style,resizeMode:resizeMode,tintColor:tintColor,source:sources}));}});var styles=StyleSheet.create({base:{overflow:'hidden'}});var RCTImageView=requireNativeComponent('RCTImageView',Image);module.exports=Image;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkltYWdlLmlvcy5qcyJdLCJuYW1lcyI6WyJFZGdlSW5zZXRzUHJvcFR5cGUiLCJyZXF1aXJlIiwiSW1hZ2VSZXNpemVNb2RlIiwiSW1hZ2VTb3VyY2VQcm9wVHlwZSIsIkltYWdlU3R5bGVQcm9wVHlwZXMiLCJOYXRpdmVNZXRob2RzTWl4aW4iLCJOYXRpdmVNb2R1bGVzIiwiUmVhY3QiLCJQcm9wVHlwZXMiLCJSZWFjdE5hdGl2ZVZpZXdBdHRyaWJ1dGVzIiwiU3R5bGVTaGVldCIsIlN0eWxlU2hlZXRQcm9wVHlwZSIsImNyZWF0ZVJlYWN0Q2xhc3MiLCJmbGF0dGVuU3R5bGUiLCJyZXF1aXJlTmF0aXZlQ29tcG9uZW50IiwicmVzb2x2ZUFzc2V0U291cmNlIiwiSW1hZ2VWaWV3TWFuYWdlciIsIkltYWdlIiwiZGlzcGxheU5hbWUiLCJwcm9wVHlwZXMiLCJzdHlsZSIsInNvdXJjZSIsImRlZmF1bHRTb3VyY2UiLCJvbmVPZlR5cGUiLCJzaGFwZSIsInVyaSIsInN0cmluZyIsIndpZHRoIiwibnVtYmVyIiwiaGVpZ2h0Iiwic2NhbGUiLCJhY2Nlc3NpYmxlIiwiYm9vbCIsImFjY2Vzc2liaWxpdHlMYWJlbCIsIm5vZGUiLCJibHVyUmFkaXVzIiwiY2FwSW5zZXRzIiwicmVzaXplTWV0aG9kIiwib25lT2YiLCJyZXNpemVNb2RlIiwidGVzdElEIiwib25MYXlvdXQiLCJmdW5jIiwib25Mb2FkU3RhcnQiLCJvblByb2dyZXNzIiwib25FcnJvciIsIm9uUGFydGlhbExvYWQiLCJvbkxvYWQiLCJvbkxvYWRFbmQiLCJzdGF0aWNzIiwiZ2V0U2l6ZSIsInN1Y2Nlc3MiLCJmYWlsdXJlIiwiY29uc29sZSIsIndhcm4iLCJwcmVmZXRjaCIsInVybCIsInByZWZldGNoSW1hZ2UiLCJtaXhpbnMiLCJ2aWV3Q29uZmlnIiwidWlWaWV3Q2xhc3NOYW1lIiwidmFsaWRBdHRyaWJ1dGVzIiwiVUlWaWV3IiwicmVuZGVyIiwicHJvcHMiLCJ1bmRlZmluZWQiLCJzb3VyY2VzIiwiQXJyYXkiLCJpc0FycmF5Iiwic3R5bGVzIiwiYmFzZSIsInRpbnRDb2xvciIsInNyYyIsImNoaWxkcmVuIiwiRXJyb3IiLCJjcmVhdGUiLCJvdmVyZmxvdyIsIlJDVEltYWdlVmlldyIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiJBQVVBLGEsZ09BRUEsR0FBTUEsb0JBQXFCQyxPQUFyQixzQkFBTixDQUNBLEdBQU1DLGlCQUFrQkQsT0FBbEIsbUJBQU4sQ0FDQSxHQUFNRSxxQkFBc0JGLE9BQXRCLHVCQUFOLENBQ0EsR0FBTUcscUJBQXNCSCxPQUF0Qix1QkFBTixDQUNBLEdBQU1JLG9CQUFxQkosT0FBckIsc0JBQU4sQ0FDQSxHQUFNSyxlQUFnQkwsT0FBaEIsaUJBQU4sQ0FDQSxHQUFNTSxPQUFRTixPQUFSLFNBQU4sQ0FDQSxHQUFNTyxXQUFZUCxPQUFaLGNBQU4sQ0FDQSxHQUFNUSwyQkFBNEJSLE9BQTVCLDZCQUFOLENBQ0EsR0FBTVMsWUFBYVQsT0FBYixjQUFOLENBQ0EsR0FBTVUsb0JBQXFCVixPQUFyQixzQkFBTixDQUVBLEdBQU1XLGtCQUFtQlgsT0FBbkIsc0JBQU4sQ0FDQSxHQUFNWSxjQUFlWixPQUFmLGdCQUFOLENBQ0EsR0FBTWEsd0JBQXlCYixPQUF6QiwwQkFBTixDQUNBLEdBQU1jLG9CQUFxQmQsT0FBckIsc0JBQU4sQ0FFQSxHQUFNZSxrQkFBbUJWLGNBQWNVLGdCQUF2QyxDQVNBLEdBQU1DLE9BQVFMLGlCQUFpQixDQUM3Qk0sWUFBYSxPQURnQixDQUU3QkMsVUFBVyxDQUlUQyxNQUFPVCxtQkFBbUJQLG1CQUFuQixDQUpFLENBVVRpQixPQUFRbEIsbUJBVkMsQ0FnQlRtQixjQUFlZCxVQUFVZSxTQUFWLENBQW9CLENBQ2pDZixVQUFVZ0IsS0FBVixDQUFnQixDQUNkQyxJQUFLakIsVUFBVWtCLE1BREQsQ0FFZEMsTUFBT25CLFVBQVVvQixNQUZILENBR2RDLE9BQVFyQixVQUFVb0IsTUFISixDQUlkRSxNQUFPdEIsVUFBVW9CLE1BSkgsQ0FBaEIsQ0FE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QUFvQixDQUNsQm5CLFFBQVFDLElBQVIsQ0FDRSx1RUFERixFQUdELENBRUQsR0FBSSxLQUFLVSxLQUFMLENBQVdTLFFBQWYsQ0FBeUIsQ0FDdkIsS0FBTSxJQUFJQyxNQUFKLENBQ0osMktBREksQ0FBTixDQUdELENBRUQsTUFDRSxxQkFBQyxZQUFELGFBQ00sS0FBS1YsS0FEWCxFQUVFLE1BQU81QyxLQUZULENBR0UsV0FBWW1CLFVBSGQsQ0FJRSxVQUFXZ0MsU0FKYixDQUtFLE9BQVFMLE9BTFYsR0FERixDQVNELENBeE40QixDQUFqQixDQUFkLENBMk5BLEdBQU1HLFFBQVMzRCxXQUFXaUUsTUFBWCxDQUFrQixDQUMvQkwsS0FBTSxDQUNKTSxTQUFVLFFBRE4sQ0FEeUIsQ0FBbEIsQ0FBZixDQU1BLEdBQU1DLGNBQWUvRCx1QkFBdUIsY0FBdkIsQ0FBdUNHLEtBQXZDLENBQXJCLENBRUE2RCxPQUFPQyxPQUFQLENBQWlCOUQsS0FBakIiLCJmaWxlIjoiSW1hZ2UuaW9zLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTUtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUgSW1hZ2VcbiAqIEBmbG93XG4gKiBAZm9ybWF0XG4gKi9cbid1c2Ugc3RyaWN0JztcblxuY29uc3QgRWRnZUluc2V0c1Byb3BUeXBlID0gcmVxdWlyZSgnRWRnZUluc2V0c1Byb3BUeXBlJyk7XG5jb25zdCBJbWFnZVJlc2l6ZU1vZGUgPSByZXF1aXJlKCdJbWFnZVJlc2l6ZU1vZGUnKTtcbmNvbnN0IEltYWdlU291cmNlUHJvcFR5cGUgPSByZXF1aXJlKCdJbWFnZVNvdXJjZVByb3BUeXBlJyk7XG5jb25zdCBJbWFnZVN0eWxlUHJvcFR5cGVzID0gcmVxdWlyZSgnSW1hZ2VTdHlsZVByb3BUeXBlcycpO1xuY29uc3QgTmF0aXZlTWV0aG9kc01peGluID0gcmVxdWlyZSgnTmF0aXZlTWV0aG9kc01peGluJyk7XG5jb25zdCBOYXRpdmVNb2R1bGVzID0gcmVxdWlyZSgnTmF0aXZlTW9kdWxlcycpO1xuY29uc3QgUmVhY3QgPSByZXF1aXJlKCdSZWFjdCcpO1xuY29uc3QgUHJvcFR5cGVzID0gcmVxdWlyZSgncHJvcC10eXBlcycpO1xuY29uc3QgUmVhY3ROYXRpdmVWaWV3QXR0cmlidXRlcyA9IHJlcXVpcmUoJ1JlYWN0TmF0aXZlVmlld0F0dHJpYnV0ZXMnKTtcbmNvbnN0IFN0eWxlU2hlZXQgPSByZXF1aXJlKCdTdHlsZVNoZWV0Jyk7XG5jb25zdCBTdHlsZVNoZWV0UHJvcFR5cGUgPSByZXF1aXJlKCdTdHlsZVNoZWV0UHJvcFR5cGUnKTtcblxuY29uc3QgY3JlYXRlUmVhY3RDbGFzcyA9IHJlcXVpcmUoJ2NyZWF0ZS1yZWFjdC1jbGFzcycpO1xuY29uc3QgZmxhdHRlblN0eWxlID0gcmVxdWlyZSgnZmxhdHRlblN0eWxlJyk7XG5jb25zdCByZXF1aXJlTmF0aXZlQ29tcG9uZW50ID0gcmVxdWlyZSgncmVxdWlyZU5hdGl2ZUNvbXBvbmVudCcpO1xuY29uc3QgcmVzb2x2ZUFzc2V0U291cmNlID0gcmVxdWlyZSgncmVzb2x2ZUFzc2V0U291cmNlJyk7XG5cbmNvbnN0IEltYWdlVmlld01hbmFnZXIgPSBOYXRpdmVNb2R1bGVzLkltYWdlVmlld01hbmFnZXI7XG5cbi8qKlxuICogQSBSZWFjdCBjb21wb25lbnQgZm9yIGRpc3BsYXlpbmcgZGlmZmVyZW50IHR5cGVzIG9mIGltYWdlcyxcbiAqIGluY2x1ZGluZyBuZXR3b3JrIGltYWdlcywgc3RhdGljIHJlc291cmNlcywgdGVtcG9yYXJ5IGxvY2FsIGltYWdlcywgYW5kXG4gKiBpbWFnZXMgZnJvbSBsb2NhbCBkaXNrLCBzdWNoIGFzIHRoZSBjYW1lcmEgcm9sbC5cbiAqXG4gKiBTZWUgaHR0cHM6Ly9mYWNlYm9vay5naXRodWIuaW8vcmVhY3QtbmF0aXZlL2RvY3MvaW1hZ2UuaHRtbFxuICovXG5jb25zdCBJbWFnZSA9IGNyZWF0ZVJlYWN0Q2xhc3Moe1xuICBkaXNwbGF5TmFtZTogJ0ltYWdlJyxcbiAgcHJvcFR5cGVzOiB7XG4gICAgLyoqXG4gICAgICogU2VlIGh0dHBzOi8vZmFjZWJvb2suZ2l0aHViLmlvL3JlYWN0LW5hdGl2ZS9kb2NzL2ltYWdlLmh0bWwjc3R5bGVcbiAgICAgKi9cbiAgICBzdHlsZTogU3R5bGVTaGVldFByb3BUeXBlKEltYWdlU3R5bGVQcm9wVHlwZXMpLFxuICAgIC8qKlxuICAgICAqIFRoZSBpbWFnZSBzb3VyY2UgKGVpdGhlciBhIHJlbW90ZSBVUkwgb3IgYSBsb2NhbCBmaWxlIHJlc291cmNlKS5cbiAgICAgKlxuICAgICAqIFNlZSBodHRwczovL2ZhY2Vib29rLmdpdGh1Yi5pby9yZWFjdC1uYXRpdmUvZG9jcy9pbWFnZS5odG1sI3NvdXJjZVxuICAgICAqL1xuICAgIHNvdXJjZTogSW1hZ2VTb3VyY2VQcm9wVHlwZSxcbiAgICAvKipcbiAgICAgKiBBIHN0YXRpYyBpbWFnZSB0byBkaXNwbGF5IHdoaWxlIGxvYWRpbmcgdGhlIGltYWdlIHNvdXJjZS5cbiAgICAgKlxuICAgICAqIFNlZSBodHRwczovL2ZhY2Vib29rLmdpdGh1Yi5pby9yZWFjdC1uYXRpdmUvZG9jcy9pbWFnZS5odG1sI2RlZmF1bHRzb3VyY2VcbiAgICAgKi9cbiAgICBkZWZhdWx0U291cmNlOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtcbiAgICAgIFByb3BUeXBlcy5zaGFwZSh7XG4gICAgICAgIHVyaTogUHJvcFR5cGVzLnN0cmluZyxcbiAgICAgICAgd2lkdGg6IFByb3BUeXBlcy5udW1iZXIsXG4gICAgICAgIGhlaWdodDogUHJvcFR5cGVzLm51bWJlcixcbiAgICAgICAgc2NhbGU6IFByb3BUeXBlcy5udW1iZXIsXG4gICAgICB9KSxcbiAgICAgIFByb3BUeXBlcy5udW1iZXIsXG4gICAgXSksXG4gICAgLyoqXG4gICAgICogV2hlbiB0cnVlLCBpbmRpY2F0ZXMgdGhlIGltYWdlIGlzIGFuIGFjY2Vzc2liaWxpdHkgZWxlbWVudC5cbiAgICAgKlxuICAgICAqIFNlZSBodHRwczovL2ZhY2Vib29rLmdpdGh1Yi5pby9yZWFjdC1uYXRpdmUvZG9jcy9pbWFnZS5odG1sI2FjY2Vzc2libGVcbiAgICAgKi9cbiAgICBhY2Nlc3NpYmxlOiBQcm9wVHlwZXMuYm9vbCxcbiAgICAvKipcbiAgICAgKiBUaGUgdGV4dCB0aGF0J3MgcmVhZCBieSB0aGUgc2NyZWVuIHJlYWRlciB3aGVuIHRoZSB1c2VyIGludGVyYWN0cyB3aXRoXG4gICAgICogdGhlIGltYWdlLlxuICAgICAqXG4gICAgICogU2VlIGh0dHBzOi8vZmFjZWJvb2suZ2l0aHViLmlvL3JlYWN0LW5hdGl2ZS9kb2NzL2ltYWdlLmh0bWwjYWNjZXNzaWJpbGl0eWxhYmVsXG4gICAgICovXG4gICAgYWNjZXNzaWJpbGl0eUxhYmVsOiBQcm9wVHlwZXMubm9kZSxcbiAgICAvKipcbiAgICAgKiBibHVyUmFkaXVzOiB0aGUgYmx1ciByYWRpdXMgb2YgdGhlIGJsdXIgZmlsdGVyIGFkZGVkIHRvIHRoZSBpbWFnZVxuICAgICAqXG4gICAgICogU2VlIGh0dHBzOi8vZmFjZWJvb2suZ2l0aHViLmlvL3JlYWN0LW5hdGl2ZS9kb2NzL2ltYWdlLmh0bWwjYmx1cnJhZGl1c1xuICAgICAqL1xuICAgIGJsdXJSYWRpdXM6IFByb3BUeXBlcy5udW1iZXIsXG4gICAgLyoqXG4gICAgICogU2VlIGh0dHBzOi8vZmFjZWJvb2suZ2l0aHViLmlvL3JlYWN0LW5hdGl2ZS9kb2NzL2ltYWdlLmh0bWwjY2FwaW5zZXRzXG4gICAgICovXG4gICAgY2FwSW5zZXRzOiBFZGdlSW5zZXRzUHJvcFR5cGUsXG4gICAgLyoqXG4gICAgICogU2VlIGh0dHBzOi8vZmFjZWJvb2suZ2l0aHViLmlvL3JlYWN0LW5hdGl2ZS9kb2NzL2ltYWdlLmh0bWwjcmVzaXplbWV0aG9kXG4gICAgICovXG4gICAgcmVzaXplTWV0aG9kOiBQcm9wVHlwZXMub25lT2YoWydhdXRvJywgJ3Jlc2l6ZScsICdzY2FsZSddKSxcbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmVzIGhvdyB0byByZXNpemUgdGhlIGltYWdlIHdoZW4gdGhlIGZyYW1lIGRvZXNuJ3QgbWF0Y2ggdGhlIHJhd1xuICAgICAqIGltYWdlIGRpbWVuc2lvbnMuXG4gICAgICpcbiAgICAgKiBTZWUgaHR0cHM6Ly9mYWNlYm9vay5naXRodWIuaW8vcmVhY3QtbmF0aXZlL2RvY3MvaW1hZ2UuaHRtbCNyZXNpemVtb2RlXG4gICAgICovXG4gICAgcmVzaXplTW9kZTogUHJvcFR5cGVzLm9uZU9mKFtcbiAgICAgICdjb3ZlcicsXG4gICAgICAnY29udGFpbicsXG4gICAgICAnc3RyZXRjaCcsXG4gICAgICAncmVwZWF0JyxcbiAgICAgICdjZW50ZXInLFxuICAgIF0pLFxuICAgIC8qKlxuICAgICAqIEEgdW5pcXVlIGlkZW50aWZpZXIgZm9yIHRoaXMgZWxlbWVudCB0byBiZSB1c2VkIGluIFVJIEF1dG9tYXRpb25cbiAgICAgKiB0ZXN0aW5nIHNjcmlwdHMuXG4gICAgICpcbiAgICAgKiBTZWUgaHR0cHM6Ly9mYWNlYm9vay5naXRodWIuaW8vcmVhY3QtbmF0aXZlL2RvY3MvaW1hZ2UuaHRtbCN0ZXN0aWRcbiAgICAgKi9cbiAgICB0ZXN0SUQ6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgLyoqXG4gICAgICogSW52b2tlZCBvbiBtb3VudCBhbmQgbGF5b3V0IGNoYW5nZXMgd2l0aFxuICAgICAqIGB7bmF0aXZlRXZlbnQ6IHtsYXlvdXQ6IHt4LCB5LCB3aWR0aCwgaGVpZ2h0fX19YC5cbiAgICAgKlxuICAgICAqIFNlZSBodHRwczovL2ZhY2Vib29rLmdpdGh1Yi5pby9yZWFjdC1uYXRpdmUvZG9jcy9pbWFnZS5odG1sI29ubGF5b3V0XG4gICAgICovXG4gICAgb25MYXlvdXQ6IFByb3BUeXBlcy5mdW5jLFxuICAgIC8qKlxuICAgICAqIEludm9rZWQgb24gbG9hZCBzdGFydC5cbiAgICAgKlxuICAgICAqIFNlZSBodHRwczovL2ZhY2Vib29rLmdpdGh1Yi5pby9yZWFjdC1uYXRpdmUvZG9jcy9pbWFnZS5odG1sI29ubG9hZHN0YXJ0XG4gICAgICovXG4gICAgb25Mb2FkU3RhcnQ6IFByb3BUeXBlcy5mdW5jLFxuICAgIC8qKlxuICAgICAqIEludm9rZWQgb24gZG93bmxvYWQgcHJvZ3Jlc3Mgd2l0aCBge25hdGl2ZUV2ZW50OiB7bG9hZGVkLCB0b3RhbH19YC5cbiAgICAgKlxuICAgICAqIFNlZSBodHRwczovL2ZhY2Vib29rLmdpdGh1Yi5pby9yZWFjdC1uYXRpdmUvZG9jcy9pbWFnZS5odG1sI29ucHJvZ3Jlc3NcbiAgICAgKi9cbiAgICBvblByb2dyZXNzOiBQcm9wVHlwZXMuZnVuYyxcbiAgICAvKipcbiAgICAgKiBJbnZva2VkIG9uIGxvYWQgZXJyb3Igd2l0aCBge25hdGl2ZUV2ZW50OiB7ZXJyb3J9fWAuXG4gICAgICpcbiAgICAgKiBTZWUgaHR0cHM6Ly9mYWNlYm9vay5naXRodWIuaW8vcmVhY3QtbmF0aXZlL2RvY3MvaW1hZ2UuaHRtbCNvbmVycm9yXG4gICAgICovXG4gICAgb25FcnJvcjogUHJvcFR5cGVzLmZ1bmMsXG4gICAgLyoqXG4gICAgICogSW52b2tlZCB3aGVuIGEgcGFydGlhbCBsb2FkIG9mIHRoZSBpbWFnZSBpcyBjb21wbGV0ZS5cbiAgICAgKlxuICAgICAqIFNlZSBodHRwczovL2ZhY2Vib29rLmdpdGh1Yi5pby9yZWFjdC1uYXRpdmUvZG9jcy9pbWFnZS5odG1sI29ucGFydGlhbGxvYWRcbiAgICAgKi9cbiAgICBvblBhcnRpYWxMb2FkOiBQcm9wVHlwZXMuZnVuYyxcbiAgICAvKipcbiAgICAgKiBJbnZva2VkIHdoZW4gbG9hZCBjb21wbGV0ZXMgc3VjY2Vzc2Z1bGx5LlxuICAgICAqXG4gICAgICogU2VlIGh0dHBzOi8vZmFjZWJvb2suZ2l0aHViLmlvL3JlYWN0LW5hdGl2ZS9kb2NzL2ltYWdlLmh0bWwjb25sb2FkXG4gICAgICovXG4gICAgb25Mb2FkOiBQcm9wVHlwZXMuZnVuYyxcbiAgICAvKipcbiAgICAgKiBJbnZva2VkIHdoZW4gbG9hZCBlaXRoZXIgc3VjY2VlZHMgb3IgZmFpbHMuXG4gICAgICpcbiAgICAgKiBTZWUgaHR0cHM6Ly9mYWNlYm9vay5naXRodWIuaW8vcmVhY3QtbmF0aXZlL2RvY3MvaW1hZ2UuaHRtbCNvbmxvYWRlbmRcbiAgICAgKi9cbiAgICBvbkxvYWRFbmQ6IFByb3BUeXBlcy5mdW5jLFxuICB9LFxuXG4gIHN0YXRpY3M6IHtcbiAgICByZXNpemVNb2RlOiBJbWFnZVJlc2l6ZU1vZGUsXG4gICAgLyoqXG4gICAgICogUmV0cmlldmUgdGhlIHdpZHRoIGFuZCBoZWlnaHQgKGluIHBpeGVscykgb2YgYW4gaW1hZ2UgcHJpb3IgdG8gZGlzcGxheWluZyBpdC5cbiAgICAgKlxuICAgICAqIFNlZSBodHRwczovL2ZhY2Vib29rLmdpdGh1Yi5pby9yZWFjdC1uYXRpdmUvZG9jcy9pbWFnZS5odG1sI2dldHNpemVcbiAgICAgKi9cbiAgICBnZXRTaXplOiBmdW5jdGlvbihcbiAgICAgIHVyaTogc3RyaW5nLFxuICAgICAgc3VjY2VzczogKHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyKSA9PiB2b2lkLFxuICAgICAgZmFpbHVyZT86IChlcnJvcjogYW55KSA9PiB2b2lkLFxuICAgICkge1xuICAgICAgSW1hZ2VWaWV3TWFuYWdlci5nZXRTaXplKFxuICAgICAgICB1cmksXG4gICAgICAgIHN1Y2Nlc3MsXG4gICAgICAgIGZhaWx1cmUgfHxcbiAgICAgICAgICBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignRmFpbGVkIHRvIGdldCBzaXplIGZvciBpbWFnZTogJyArIHVyaSk7XG4gICAgICAgICAgfSxcbiAgICAgICk7XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBQcmVmZXRjaGVzIGEgcmVtb3RlIGltYWdlIGZvciBsYXRlciB1c2UgYnkgZG93bmxvYWRpbmcgaXQgdG8gdGhlIGRpc2tcbiAgICAgKiBjYWNoZS5cbiAgICAgKlxuICAgICAqIFNlZSBodHRwczovL2ZhY2Vib29rLmdpdGh1Yi5pby9yZWFjdC1uYXRpdmUvZG9jcy9pbWFnZS5odG1sI3ByZWZldGNoXG4gICAgICovXG4gICAgcHJlZmV0Y2godXJsOiBzdHJpbmcpIHtcbiAgICAgIHJldHVybiBJbWFnZVZpZXdNYW5hZ2VyLnByZWZldGNoSW1hZ2UodXJsKTtcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIFJlc29sdmVzIGFuIGFzc2V0IHJlZmVyZW5jZSBpbnRvIGFuIG9iamVjdC5cbiAgICAgKlxuICAgICAqIFNlZSBodHRwczovL2ZhY2Vib29rLmdpdGh1Yi5pby9yZWFjdC1uYXRpdmUvZG9jcy9pbWFnZS5odG1sI3Jlc29sdmVhc3NldHNvdXJjZVxuICAgICAqL1xuICAgIHJlc29sdmVBc3NldFNvdXJjZTogcmVzb2x2ZUFzc2V0U291cmNlLFxuICB9LFxuXG4gIG1peGluczogW05hdGl2ZU1ldGhvZHNNaXhpbl0sXG5cbiAgLyoqXG4gICAqIGBOYXRpdmVNZXRob2RzTWl4aW5gIHdpbGwgbG9vayBmb3IgdGhpcyB3aGVuIGludm9raW5nIGBzZXROYXRpdmVQcm9wc2AuIFdlXG4gICAqIG1ha2UgYHRoaXNgIGxvb2sgbGlrZSBhbiBhY3R1YWwgbmF0aXZlIGNvbXBvbmVudCBjbGFzcy5cbiAgICovXG4gIHZpZXdDb25maWc6IHtcbiAgICB1aVZpZXdDbGFzc05hbWU6ICdVSVZpZXcnLFxuICAgIHZhbGlkQXR0cmlidXRlczogUmVhY3ROYXRpdmVWaWV3QXR0cmlidXRlcy5VSVZpZXcsXG4gIH0sXG5cbiAgcmVuZGVyOiBmdW5jdGlvbigpIHtcbiAgICBjb25zdCBzb3VyY2UgPSByZXNvbHZlQXNzZXRTb3VyY2UodGhpcy5wcm9wcy5zb3VyY2UpIHx8IHtcbiAgICAgIHVyaTogdW5kZWZpbmVkLFxuICAgICAgd2lkdGg6IHVuZGVmaW5lZCxcbiAgICAgIGhlaWdodDogdW5kZWZpbmVkLFxuICAgIH07XG5cbiAgICBsZXQgc291cmNlcztcbiAgICBsZXQgc3R5bGU7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoc291cmNlKSkge1xuICAgICAgc3R5bGUgPSBmbGF0dGVuU3R5bGUoW3N0eWxlcy5iYXNlLCB0aGlzLnByb3BzLnN0eWxlXSkgfHwge307XG4gICAgICBzb3VyY2VzID0gc291cmNlO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCB7d2lkdGgsIGhlaWdodCwgdXJpfSA9IHNvdXJjZTtcbiAgICAgIHN0eWxlID1cbiAgICAgICAgZmxhdHRlblN0eWxlKFt7d2lkdGgsIGhlaWdodH0sIHN0eWxlcy5iYXNlLCB0aGlzLnByb3BzLnN0eWxlXSkgfHwge307XG4gICAgICBzb3VyY2VzID0gW3NvdXJjZV07XG5cbiAgICAgIGlmICh1cmkgPT09ICcnKSB7XG4gICAgICAgIGNvbnNvbGUud2Fybignc291cmNlLnVyaSBzaG91bGQgbm90IGJlIGFuIGVtcHR5IHN0cmluZycpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IHJlc2l6ZU1vZGUgPVxuICAgICAgdGhpcy5wcm9wcy5yZXNpemVNb2RlIHx8IChzdHlsZSB8fCB7fSkucmVzaXplTW9kZSB8fCAnY292ZXInOyAvLyBXb3JrYXJvdW5kIGZvciBmbG93IGJ1ZyB0NzczNzEwOFxuICAgIGNvbnN0IHRpbnRDb2xvciA9IChzdHlsZSB8fCB7fSkudGludENvbG9yOyAvLyBXb3JrYXJvdW5kIGZvciBmbG93IGJ1ZyB0NzczNzEwOFxuXG4gICAgaWYgKHRoaXMucHJvcHMuc3JjKSB7XG4gICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICdUaGUgPEltYWdlPiBjb21wb25lbnQgcmVxdWlyZXMgYSBgc291cmNlYCBwcm9wZXJ0eSByYXRoZXIgdGhhbiBgc3JjYC4nLFxuICAgICAgKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5wcm9wcy5jaGlsZHJlbikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnVGhlIDxJbWFnZT4gY29tcG9uZW50IGNhbm5vdCBjb250YWluIGNoaWxkcmVuLiBJZiB5b3Ugd2FudCB0byByZW5kZXIgY29udGVudCBvbiB0b3Agb2YgdGhlIGltYWdlLCBjb25zaWRlciB1c2luZyB0aGUgPEltYWdlQmFja2dyb3VuZD4gY29tcG9uZW50IG9yIGFic29sdXRlIHBvc2l0aW9uaW5nLicsXG4gICAgICApO1xuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICA8UkNUSW1hZ2VWaWV3XG4gICAgICAgIHsuLi50aGlzLnByb3BzfVxuICAgICAgICBzdHlsZT17c3R5bGV9XG4gICAgICAgIHJlc2l6ZU1vZGU9e3Jlc2l6ZU1vZGV9XG4gICAgICAgIHRpbnRDb2xvcj17dGludENvbG9yfVxuICAgICAgICBzb3VyY2U9e3NvdXJjZXN9XG4gICAgICAvPlxuICAgICk7XG4gIH0sXG59KTtcblxuY29uc3Qgc3R5bGVzID0gU3R5bGVTaGVldC5jcmVhdGUoe1xuICBiYXNlOiB7XG4gICAgb3ZlcmZsb3c6ICdoaWRkZW4nLFxuICB9LFxufSk7XG5cbmNvbnN0IFJDVEltYWdlVmlldyA9IHJlcXVpcmVOYXRpdmVDb21wb25lbnQoJ1JDVEltYWdlVmlldycsIEltYWdlKTtcblxubW9kdWxlLmV4cG9ydHMgPSBJbWFnZTtcbiJdfQ==