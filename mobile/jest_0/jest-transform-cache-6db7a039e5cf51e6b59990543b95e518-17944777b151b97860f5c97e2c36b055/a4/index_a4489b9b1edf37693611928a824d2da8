a67fb9d7af877607105dad61ce304324
Object.defineProperty(exports,"__esModule",{value:true});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _propTypes=require('prop-types');var _propTypes2=_interopRequireDefault(_propTypes);var _react=require('react');var _react2=_interopRequireDefault(_react);var _reactNative=require('react-native');var _package=require('react-native/package.json');var _package2=_interopRequireDefault(_package);var _line=require('../line');var _line2=_interopRequireDefault(_line);var _label=require('../label');var _label2=_interopRequireDefault(_label);var _affix=require('../affix');var _affix2=_interopRequireDefault(_affix);var _helper=require('../helper');var _helper2=_interopRequireDefault(_helper);var _counter=require('../counter');var _counter2=_interopRequireDefault(_counter);var _styles=require('./styles.js');var _styles2=_interopRequireDefault(_styles);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _objectWithoutProperties(obj,keys){var target={};for(var i in obj){if(keys.indexOf(i)>=0)continue;if(!Object.prototype.hasOwnProperty.call(obj,i))continue;target[i]=obj[i];}return target;}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var TextField=function(_PureComponent){_inherits(TextField,_PureComponent);function TextField(props){_classCallCheck(this,TextField);var _this=_possibleConstructorReturn(this,(TextField.__proto__||Object.getPrototypeOf(TextField)).call(this,props));_this.onBlur=_this.onBlur.bind(_this);_this.onFocus=_this.onFocus.bind(_this);_this.onPress=_this.focus.bind(_this);_this.onChange=_this.onChange.bind(_this);_this.onChangeText=_this.onChangeText.bind(_this);_this.onContentSizeChange=_this.onContentSizeChange.bind(_this);_this.onFocusAnimationEnd=_this.onFocusAnimationEnd.bind(_this);_this.updateRef=_this.updateRef.bind(_this,'input');var _this$props=_this.props,value=_this$props.value,error=_this$props.error,fontSize=_this$props.fontSize;_this.mounted=false;_this.state={text:value,focus:new _reactNative.Animated.Value(_this.focusState(error,false)),focused:false,receivedFocus:false,error:error,errored:!!error,height:fontSize*1.5};return _this;}_createClass(TextField,[{key:'componentWillReceiveProps',value:function componentWillReceiveProps(props){var error=this.state.error;if(null!=props.value){this.setState({text:props.value});}if(props.error&&props.error!==error){this.setState({error:props.error});}if(props.error!==this.props.error){this.setState({errored:!!props.error});}}},{key:'componentDidMount',value:function componentDidMount(){this.mounted=true;}},{key:'componentWillUnmount',value:function componentWillUnmount(){this.mounted=false;}},{key:'componentWillUpdate',value:function componentWillUpdate(props,state){var _props=this.props,error=_props.error,duration=_props.animationDuration;var _state=this.state,focus=_state.focus,focused=_state.focused;if(props.error!==error||focused^state.focused){var toValue=this.focusState(props.error,state.focused);_reactNative.Animated.timing(focus,{toValue:toValue,duration:duration}).start(this.onFocusAnimationEnd);}}},{key:'updateRef',value:function updateRef(name,ref){this[name]=ref;}},{key:'focusState',value:function focusState(error,focused){return error?-1:focused?1:0;}},{key:'focus',value:function focus(){var _props2=this.props,disabled=_props2.disabled,editable=_props2.editable;if(!disabled&&editable){this.input.focus();}}},{key:'blur',value:function blur(){this.input.blur();}},{key:'clear',value:function clear(){this.input.clear();this.onChangeText('');}},{key:'value',value:function value(){var _state2=this.state,text=_state2.text,receivedFocus=_state2.receivedFocus;var _props3=this.props,value=_props3.value,defaultValue=_props3.defaultValue;return receivedFocus||null!=value||null==defaultValue?text:defaultValue;}},{key:'isFocused',value:function isFocused(){return this.input.isFocused();}},{key:'isRestricted',value:function isRestricted(){var characterRestriction=this.props.characterRestriction;var _state$text=this.state.text,text=_state$text===undefined?'':_state$text;return characterRestriction<text.length;}},{key:'onFocus',value:function onFocus(event){var _props4=this.props,onFocus=_props4.onFocus,clearTextOnFocus=_props4.clearTextOnFocus;if('function'===typeof onFocus){onFocus(event);}if(clearTextOnFocus){this.clear();}this.setState({focused:true,receivedFocus:true});}},{key:'onBlur',value:function onBlur(event){var onBlur=this.props.onBlur;if('function'===typeof onBlur){onBlur(event);}this.setState({focused:false});}},{key:'onChange',value:function onChange(event){var _props5=this.props,onChange=_props5.onChange,multiline=_props5.multiline;if('function'===typeof onChange){onChange(event);}if(multiline&&'android'===_reactNative.Platform.OS){if(/^0\.4[45]\./.test(_package2.default.version)){this.onContentSizeChange(event);}}}},{key:'onChangeText',value:function onChangeText(text){var onChangeText=this.props.onChangeText;this.setState({text:text});if('function'===typeof onChangeText){onChangeText(text);}}},{key:'onContentSizeChange',value:function onContentSizeChange(event){var _props6=this.props,onContentSizeChange=_props6.onContentSizeChange,fontSize=_props6.fontSize;var height=event.nativeEvent.contentSize.height;if('function'===typeof onContentSizeChange){onContentSizeChange(event);}this.setState({height:Math.max(fontSize*1.5,Math.ceil(height)+_reactNative.Platform.select({ios:5,android:1}))});}},{key:'onFocusAnimationEnd',value:function onFocusAnimationEnd(){if(this.mounted){this.setState(function(state,_ref){var error=_ref.error;return{error:error};});}}},{key:'renderAccessory',value:function renderAccessory(){var renderAccessory=this.props.renderAccessory;if('function'!==typeof renderAccessory){return null;}return _react2.default.createElement(_reactNative.View,{style:_styles2.default.accessory},renderAccessory());}},{key:'renderAffix',value:function renderAffix(type,active,focused){var _props7=this.props,affix=_props7[type],fontSize=_props7.fontSize,baseColor=_props7.baseColor,animationDuration=_props7.animationDuration,affixTextStyle=_props7.affixTextStyle;if(null==affix){return null;}var props={type:type,active:active,focused:focused,fontSize:fontSize,baseColor:baseColor,animationDuration:animationDuration};return _react2.default.createElement(_affix2.default,_extends({style:affixTextStyle},props),affix);}},{key:'render',value:function render(){var _state3=this.state,receivedFocus=_state3.receivedFocus,focus=_state3.focus,focused=_state3.focused,error=_state3.error,errored=_state3.errored,height=_state3.height,_state3$text=_state3.text,text=_state3$text===undefined?'':_state3$text;var _props8=this.props,inputStyleOverrides=_props8.style,label=_props8.label,title=_props8.title,value=_props8.value,defaultValue=_props8.defaultValue,limit=_props8.characterRestriction,editable=_props8.editable,disabled=_props8.disabled,disabledLineType=_props8.disabledLineType,disabledLineWidth=_props8.disabledLineWidth,animationDuration=_props8.animationDuration,fontSize=_props8.fontSize,titleFontSize=_props8.titleFontSize,labelFontSize=_props8.labelFontSize,labelHeight=_props8.labelHeight,labelPadding=_props8.labelPadding,inputContainerPadding=_props8.inputContainerPadding,labelTextStyle=_props8.labelTextStyle,titleTextStyle=_props8.titleTextStyle,tintColor=_props8.tintColor,baseColor=_props8.baseColor,textColor=_props8.textColor,errorColor=_props8.errorColor,lineWidth=_props8.lineWidth,activeLineWidth=_props8.activeLineWidth,containerStyle=_props8.containerStyle,inputContainerStyleOverrides=_props8.inputContainerStyle,clearTextOnFocus=_props8.clearTextOnFocus,props=_objectWithoutProperties(_props8,['style','label','title','value','defaultValue','characterRestriction','editable','disabled','disabledLineType','disabledLineWidth','animationDuration','fontSize','titleFontSize','labelFontSize','labelHeight','labelPadding','inputContainerPadding','labelTextStyle','titleTextStyle','tintColor','baseColor','textColor','errorColor','lineWidth','activeLineWidth','containerStyle','inputContainerStyle','clearTextOnFocus']);if(props.multiline&&props.height){height=props.height;}var defaultVisible=!(receivedFocus||null!=value||null==defaultValue);value=defaultVisible?defaultValue:text;var active=!!(value||props.placeholder);var count=value.length;var restricted=limit<count;var textAlign=_reactNative.I18nManager.isRTL?'right':'left';var borderBottomColor=restricted?errorColor:focus.interpolate({inputRange:[-1,0,1],outputRange:[errorColor,baseColor,tintColor]});var borderBottomWidth=restricted?activeLineWidth:focus.interpolate({inputRange:[-1,0,1],outputRange:[activeLineWidth,lineWidth,activeLineWidth]});var inputContainerStyle=_extends({paddingTop:labelHeight,paddingBottom:inputContainerPadding},disabled?{overflow:'hidden'}:{borderBottomColor:borderBottomColor,borderBottomWidth:borderBottomWidth},props.multiline?{height:'web'===_reactNative.Platform.OS?'auto':labelHeight+inputContainerPadding+height}:{height:labelHeight+inputContainerPadding+fontSize*1.5});var inputStyle=_extends({fontSize:fontSize,textAlign:textAlign,color:disabled||defaultVisible?baseColor:textColor},props.multiline?_extends({height:fontSize*1.5+height},_reactNative.Platform.select({ios:{top:-1},android:{textAlignVertical:'top'}})):{height:fontSize*1.5});var errorStyle={color:errorColor,opacity:focus.interpolate({inputRange:[-1,0,1],outputRange:[1,0,0]}),fontSize:title?titleFontSize:focus.interpolate({inputRange:[-1,0,1],outputRange:[titleFontSize,0,0]})};var titleStyle={color:baseColor,opacity:focus.interpolate({inputRange:[-1,0,1],outputRange:[0,1,1]}),fontSize:titleFontSize};var helperContainerStyle={flexDirection:'row',height:title||limit?titleFontSize*2:focus.interpolate({inputRange:[-1,0,1],outputRange:[titleFontSize*2,8,8]})};var containerProps={style:containerStyle,onStartShouldSetResponder:function onStartShouldSetResponder(){return true;},onResponderRelease:this.onPress,pointerEvents:!disabled&&editable?'auto':'none'};var inputContainerProps={style:[_styles2.default.inputContainer,inputContainerStyle,inputContainerStyleOverrides]};var lineProps={type:disabledLineType,width:disabledLineWidth,color:baseColor};var labelProps={baseSize:labelHeight,basePadding:labelPadding,fontSize:fontSize,activeFontSize:labelFontSize,tintColor:tintColor,baseColor:baseColor,errorColor:errorColor,animationDuration:animationDuration,active:active,focused:focused,errored:errored,restricted:restricted,style:labelTextStyle};var counterProps={baseColor:baseColor,errorColor:errorColor,count:count,limit:limit,fontSize:titleFontSize,style:titleTextStyle};return _react2.default.createElement(_reactNative.View,containerProps,_react2.default.createElement(_reactNative.Animated.View,inputContainerProps,disabled&&_react2.default.createElement(_line2.default,lineProps),_react2.default.createElement(_label2.default,labelProps,label),_react2.default.createElement(_reactNative.View,{style:_styles2.default.row},this.renderAffix('prefix',active,focused),_react2.default.createElement(_reactNative.TextInput,_extends({style:[_styles2.default.input,inputStyle,inputStyleOverrides],selectionColor:tintColor},props,{editable:!disabled&&editable,onChange:this.onChange,onChangeText:this.onChangeText,onContentSizeChange:this.onContentSizeChange,onFocus:this.onFocus,onBlur:this.onBlur,value:value,ref:this.updateRef})),this.renderAffix('suffix',active,focused),this.renderAccessory())),_react2.default.createElement(_reactNative.Animated.View,{style:helperContainerStyle},_react2.default.createElement(_reactNative.View,{style:_styles2.default.flex},_react2.default.createElement(_helper2.default,{style:[errorStyle,titleTextStyle]},error),_react2.default.createElement(_helper2.default,{style:[titleStyle,titleTextStyle]},title)),_react2.default.createElement(_counter2.default,counterProps)));}}]);return TextField;}(_react.PureComponent);TextField.defaultProps={underlineColorAndroid:'transparent',disableFullscreenUI:true,autoCapitalize:'sentences',editable:true,animationDuration:225,fontSize:16,titleFontSize:12,labelFontSize:12,labelHeight:32,labelPadding:4,inputContainerPadding:8,tintColor:'rgb(0, 145, 234)',textColor:'rgba(0, 0, 0, .87)',baseColor:'rgba(0, 0, 0, .38)',errorColor:'rgb(213, 0, 0)',lineWidth:_reactNative.StyleSheet.hairlineWidth,activeLineWidth:2,disabled:false,disabledLineType:'dotted',disabledLineWidth:1};TextField.propTypes=_extends({},_reactNative.TextInput.propTypes,{animationDuration:_propTypes2.default.number,fontSize:_propTypes2.default.number,titleFontSize:_propTypes2.default.number,labelFontSize:_propTypes2.default.number,labelHeight:_propTypes2.default.number,labelPadding:_propTypes2.default.number,inputContainerPadding:_propTypes2.default.number,labelTextStyle:_reactNative.Text.propTypes.style,titleTextStyle:_reactNative.Text.propTypes.style,affixTextStyle:_reactNative.Text.propTypes.style,tintColor:_propTypes2.default.string,textColor:_propTypes2.default.string,baseColor:_propTypes2.default.string,label:_propTypes2.default.string.isRequired,title:_propTypes2.default.string,characterRestriction:_propTypes2.default.number,error:_propTypes2.default.string,errorColor:_propTypes2.default.string,lineWidth:_propTypes2.default.number,activeLineWidth:_propTypes2.default.number,disabled:_propTypes2.default.bool,disabledLineType:_line2.default.propTypes.type,disabledLineWidth:_propTypes2.default.number,renderAccessory:_propTypes2.default.func,prefix:_propTypes2.default.string,suffix:_propTypes2.default.string,containerStyle:(_reactNative.ViewPropTypes||_reactNative.View.propTypes).style,inputContainerStyle:(_reactNative.ViewPropTypes||_reactNative.View.propTypes).style});exports.default=TextField;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbIlRleHRGaWVsZCIsInByb3BzIiwib25CbHVyIiwiYmluZCIsIm9uRm9jdXMiLCJvblByZXNzIiwiZm9jdXMiLCJvbkNoYW5nZSIsIm9uQ2hhbmdlVGV4dCIsIm9uQ29udGVudFNpemVDaGFuZ2UiLCJvbkZvY3VzQW5pbWF0aW9uRW5kIiwidXBkYXRlUmVmIiwidmFsdWUiLCJlcnJvciIsImZvbnRTaXplIiwibW91bnRlZCIsInN0YXRlIiwidGV4dCIsIkFuaW1hdGVkIiwiVmFsdWUiLCJmb2N1c1N0YXRlIiwiZm9jdXNlZCIsInJlY2VpdmVkRm9jdXMiLCJlcnJvcmVkIiwiaGVpZ2h0Iiwic2V0U3RhdGUiLCJkdXJhdGlvbiIsImFuaW1hdGlvbkR1cmF0aW9uIiwidG9WYWx1ZSIsInRpbWluZyIsInN0YXJ0IiwibmFtZSIsInJlZiIsImRpc2FibGVkIiwiZWRpdGFibGUiLCJpbnB1dCIsImJsdXIiLCJjbGVhciIsImRlZmF1bHRWYWx1ZSIsImlzRm9jdXNlZCIsImNoYXJhY3RlclJlc3RyaWN0aW9uIiwibGVuZ3RoIiwiZXZlbnQiLCJjbGVhclRleHRPbkZvY3VzIiwibXVsdGlsaW5lIiwiUGxhdGZvcm0iLCJPUyIsInRlc3QiLCJSTiIsInZlcnNpb24iLCJuYXRpdmVFdmVudCIsImNvbnRlbnRTaXplIiwiTWF0aCIsIm1heCIsImNlaWwiLCJzZWxlY3QiLCJpb3MiLCJhbmRyb2lkIiwicmVuZGVyQWNjZXNzb3J5Iiwic3R5bGVzIiwiYWNjZXNzb3J5IiwidHlwZSIsImFjdGl2ZSIsImFmZml4IiwiYmFzZUNvbG9yIiwiYWZmaXhUZXh0U3R5bGUiLCJpbnB1dFN0eWxlT3ZlcnJpZGVzIiwic3R5bGUiLCJsYWJlbCIsInRpdGxlIiwibGltaXQiLCJkaXNhYmxlZExpbmVUeXBlIiwiZGlzYWJsZWRMaW5lV2lkdGgiLCJ0aXRsZUZvbnRTaXplIiwibGFiZWxGb250U2l6ZSIsImxhYmVsSGVpZ2h0IiwibGFiZWxQYWRkaW5nIiwiaW5wdXRDb250YWluZXJQYWRkaW5nIiwibGFiZWxUZXh0U3R5bGUiLCJ0aXRsZVRleHRTdHlsZSIsInRpbnRDb2xvciIsInRleHRDb2xvciIsImVycm9yQ29sb3IiLCJsaW5lV2lkdGgiLCJhY3RpdmVMaW5lV2lkdGgiLCJjb250YWluZXJTdHlsZSIsImlucHV0Q29udGFpbmVyU3R5bGVPdmVycmlkZXMiLCJpbnB1dENvbnRhaW5lclN0eWxlIiwiZGVmYXVsdFZpc2libGUiLCJwbGFjZWhvbGRlciIsImNvdW50IiwicmVzdHJpY3RlZCIsInRleHRBbGlnbiIsIkkxOG5NYW5hZ2VyIiwiaXNSVEwiLCJib3JkZXJCb3R0b21Db2xvciIsImludGVycG9sYXRlIiwiaW5wdXRSYW5nZSIsIm91dHB1dFJhbmdlIiwiYm9yZGVyQm90dG9tV2lkdGgiLCJwYWRkaW5nVG9wIiwicGFkZGluZ0JvdHRvbSIsIm92ZXJmbG93IiwiaW5wdXRTdHlsZSIsImNvbG9yIiwidG9wIiwidGV4dEFsaWduVmVydGljYWwiLCJlcnJvclN0eWxlIiwib3BhY2l0eSIsInRpdGxlU3R5bGUiLCJoZWxwZXJDb250YWluZXJTdHlsZSIsImZsZXhEaXJlY3Rpb24iLCJjb250YWluZXJQcm9wcyIsIm9uU3RhcnRTaG91bGRTZXRSZXNwb25kZXIiLCJvblJlc3BvbmRlclJlbGVhc2UiLCJwb2ludGVyRXZlbnRzIiwiaW5wdXRDb250YWluZXJQcm9wcyIsImlucHV0Q29udGFpbmVyIiwibGluZVByb3BzIiwid2lkdGgiLCJsYWJlbFByb3BzIiwiYmFzZVNpemUiLCJiYXNlUGFkZGluZyIsImFjdGl2ZUZvbnRTaXplIiwiY291bnRlclByb3BzIiwicm93IiwicmVuZGVyQWZmaXgiLCJmbGV4IiwiUHVyZUNvbXBvbmVudCIsImRlZmF1bHRQcm9wcyIsInVuZGVybGluZUNvbG9yQW5kcm9pZCIsImRpc2FibGVGdWxsc2NyZWVuVUkiLCJhdXRvQ2FwaXRhbGl6ZSIsIlN0eWxlU2hlZXQiLCJoYWlybGluZVdpZHRoIiwicHJvcFR5cGVzIiwiVGV4dElucHV0IiwiUHJvcFR5cGVzIiwibnVtYmVyIiwiVGV4dCIsInN0cmluZyIsImlzUmVxdWlyZWQiLCJib29sIiwiTGluZSIsImZ1bmMiLCJwcmVmaXgiLCJzdWZmaXgiLCJWaWV3UHJvcFR5cGVzIiwiVmlldyJdLCJtYXBwaW5ncyI6InV4QkFBQSxxQyxtREFDQSw0QiwyQ0FDQSx5Q0FXQSxrRCwrQ0FFQSw2Qix5Q0FDQSwrQiwyQ0FDQSwrQiwyQ0FDQSxpQyw2Q0FDQSxtQywrQ0FFQSxtQyxzbkNBRXFCQSxVLDhEQTBFbkIsbUJBQVlDLEtBQVosQ0FBbUIsNklBQ1hBLEtBRFcsR0FHakIsTUFBS0MsTUFBTCxDQUFjLE1BQUtBLE1BQUwsQ0FBWUMsSUFBWixPQUFkLENBQ0EsTUFBS0MsT0FBTCxDQUFlLE1BQUtBLE9BQUwsQ0FBYUQsSUFBYixPQUFmLENBQ0EsTUFBS0UsT0FBTCxDQUFlLE1BQUtDLEtBQUwsQ0FBV0gsSUFBWCxPQUFmLENBQ0EsTUFBS0ksUUFBTCxDQUFnQixNQUFLQSxRQUFMLENBQWNKLElBQWQsT0FBaEIsQ0FDQSxNQUFLSyxZQUFMLENBQW9CLE1BQUtBLFlBQUwsQ0FBa0JMLElBQWxCLE9BQXBCLENBQ0EsTUFBS00sbUJBQUwsQ0FBMkIsTUFBS0EsbUJBQUwsQ0FBeUJOLElBQXpCLE9BQTNCLENBQ0EsTUFBS08sbUJBQUwsQ0FBMkIsTUFBS0EsbUJBQUwsQ0FBeUJQLElBQXpCLE9BQTNCLENBRUEsTUFBS1EsU0FBTCxDQUFpQixNQUFLQSxTQUFMLENBQWVSLElBQWYsT0FBMEIsT0FBMUIsQ0FBakIsQ0FYaUIsZ0JBYWdCLE1BQUtGLEtBYnJCLENBYVhXLEtBYlcsYUFhWEEsS0FiVyxDQWFKQyxLQWJJLGFBYUpBLEtBYkksQ0FhR0MsUUFiSCxhQWFHQSxRQWJILENBZWpCLE1BQUtDLE9BQUwsQ0FBZSxLQUFmLENBQ0EsTUFBS0MsS0FBTCxDQUFhLENBQ1hDLEtBQU1MLEtBREssQ0FHWE4sTUFBTyxHQUFJWSx1QkFBU0MsS0FBYixDQUFtQixNQUFLQyxVQUFMLENBQWdCUCxL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QUFVQyxNLENBQ3ZCOUQsYUFBYzZELG9CQUFVQyxNLENBQ3hCN0Qsc0JBQXVCNEQsb0JBQVVDLE0sQ0FFakM1RCxlQUFnQjZELGtCQUFLSixTQUFMLENBQWVwRSxLLENBQy9CWSxlQUFnQjRELGtCQUFLSixTQUFMLENBQWVwRSxLLENBQy9CRixlQUFnQjBFLGtCQUFLSixTQUFMLENBQWVwRSxLLENBRS9CYSxVQUFXeUQsb0JBQVVHLE0sQ0FDckIzRCxVQUFXd0Qsb0JBQVVHLE0sQ0FDckI1RSxVQUFXeUUsb0JBQVVHLE0sQ0FFckJ4RSxNQUFPcUUsb0JBQVVHLE1BQVYsQ0FBaUJDLFUsQ0FDeEJ4RSxNQUFPb0Usb0JBQVVHLE0sQ0FFakJwRyxxQkFBc0JpRyxvQkFBVUMsTSxDQUVoQzdILE1BQU80SCxvQkFBVUcsTSxDQUNqQjFELFdBQVl1RCxvQkFBVUcsTSxDQUV0QnpELFVBQVdzRCxvQkFBVUMsTSxDQUNyQnRELGdCQUFpQnFELG9CQUFVQyxNLENBRTNCekcsU0FBVXdHLG9CQUFVSyxJLENBQ3BCdkUsaUJBQWtCd0UsZUFBS1IsU0FBTCxDQUFlMUUsSSxDQUNqQ1csa0JBQW1CaUUsb0JBQVVDLE0sQ0FFN0JoRixnQkFBaUIrRSxvQkFBVU8sSSxDQUUzQkMsT0FBUVIsb0JBQVVHLE0sQ0FDbEJNLE9BQVFULG9CQUFVRyxNLENBRWxCdkQsZUFBZ0IsQ0FBQzhELDRCQUFpQkMsa0JBQUtiLFNBQXZCLEVBQWtDcEUsSyxDQUNsRG9CLG9CQUFxQixDQUFDNEQsNEJBQWlCQyxrQkFBS2IsU0FBdkIsRUFBa0NwRSxLLG1CQXZFdENuRSxTIiwiZmlsZSI6ImluZGV4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCBSZWFjdCwgeyBQdXJlQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHtcbiAgVmlldyxcbiAgVGV4dCxcbiAgVGV4dElucHV0LFxuICBBbmltYXRlZCxcbiAgU3R5bGVTaGVldCxcbiAgUGxhdGZvcm0sXG4gIFZpZXdQcm9wVHlwZXMsXG4gIEkxOG5NYW5hZ2VyLFxufSBmcm9tICdyZWFjdC1uYXRpdmUnO1xuXG5pbXBvcnQgUk4gZnJvbSAncmVhY3QtbmF0aXZlL3BhY2thZ2UuanNvbic7XG5cbmltcG9ydCBMaW5lIGZyb20gJy4uL2xpbmUnO1xuaW1wb3J0IExhYmVsIGZyb20gJy4uL2xhYmVsJztcbmltcG9ydCBBZmZpeCBmcm9tICcuLi9hZmZpeCc7XG5pbXBvcnQgSGVscGVyIGZyb20gJy4uL2hlbHBlcic7XG5pbXBvcnQgQ291bnRlciBmcm9tICcuLi9jb3VudGVyJztcblxuaW1wb3J0IHN0eWxlcyBmcm9tICcuL3N0eWxlcy5qcyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRleHRGaWVsZCBleHRlbmRzIFB1cmVDb21wb25lbnQge1xuICBzdGF0aWMgZGVmYXVsdFByb3BzID0ge1xuICAgIHVuZGVybGluZUNvbG9yQW5kcm9pZDogJ3RyYW5zcGFyZW50JyxcbiAgICBkaXNhYmxlRnVsbHNjcmVlblVJOiB0cnVlLFxuICAgIGF1dG9DYXBpdGFsaXplOiAnc2VudGVuY2VzJyxcbiAgICBlZGl0YWJsZTogdHJ1ZSxcblxuICAgIGFuaW1hdGlvbkR1cmF0aW9uOiAyMjUsXG5cbiAgICBmb250U2l6ZTogMTYsXG4gICAgdGl0bGVGb250U2l6ZTogMTIsXG4gICAgbGFiZWxGb250U2l6ZTogMTIsXG4gICAgbGFiZWxIZWlnaHQ6IDMyLFxuICAgIGxhYmVsUGFkZGluZzogNCxcbiAgICBpbnB1dENvbnRhaW5lclBhZGRpbmc6IDgsXG5cbiAgICB0aW50Q29sb3I6ICdyZ2IoMCwgMTQ1LCAyMzQpJyxcbiAgICB0ZXh0Q29sb3I6ICdyZ2JhKDAsIDAsIDAsIC44NyknLFxuICAgIGJhc2VDb2xvcjogJ3JnYmEoMCwgMCwgMCwgLjM4KScsXG5cbiAgICBlcnJvckNvbG9yOiAncmdiKDIxMywgMCwgMCknLFxuXG4gICAgbGluZVdpZHRoOiBTdHlsZVNoZWV0LmhhaXJsaW5lV2lkdGgsXG4gICAgYWN0aXZlTGluZVdpZHRoOiAyLFxuXG4gICAgZGlzYWJsZWQ6IGZhbHNlLFxuICAgIGRpc2FibGVkTGluZVR5cGU6ICdkb3R0ZWQnLFxuICAgIGRpc2FibGVkTGluZVdpZHRoOiAxLFxuICB9O1xuXG4gIHN0YXRpYyBwcm9wVHlwZXMgPSB7XG4gICAgLi4uVGV4dElucHV0LnByb3BUeXBlcyxcblxuICAgIGFuaW1hdGlvbkR1cmF0aW9uOiBQcm9wVHlwZXMubnVtYmVyLFxuXG4gICAgZm9udFNpemU6IFByb3BUeXBlcy5udW1iZXIsXG4gICAgdGl0bGVGb250U2l6ZTogUHJvcFR5cGVzLm51bWJlcixcbiAgICBsYWJlbEZvbnRTaXplOiBQcm9wVHlwZXMubnVtYmVyLFxuICAgIGxhYmVsSGVpZ2h0OiBQcm9wVHlwZXMubnVtYmVyLFxuICAgIGxhYmVsUGFkZGluZzogUHJvcFR5cGVzLm51bWJlcixcbiAgICBpbnB1dENvbnRhaW5lclBhZGRpbmc6IFByb3BUeXBlcy5udW1iZXIsXG5cbiAgICBsYWJlbFRleHRTdHlsZTogVGV4dC5wcm9wVHlwZXMuc3R5bGUsXG4gICAgdGl0bGVUZXh0U3R5bGU6IFRleHQucHJvcFR5cGVzLnN0eWxlLFxuICAgIGFmZml4VGV4dFN0eWxlOiBUZXh0LnByb3BUeXBlcy5zdHlsZSxcblxuICAgIHRpbnRDb2xvcjogUHJvcFR5cGVzLnN0cmluZyxcbiAgICB0ZXh0Q29sb3I6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgYmFzZUNvbG9yOiBQcm9wVHlwZXMuc3RyaW5nLFxuXG4gICAgbGFiZWw6IFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCxcbiAgICB0aXRsZTogUHJvcFR5cGVzLnN0cmluZyxcblxuICAgIGNoYXJhY3RlclJlc3RyaWN0aW9uOiBQcm9wVHlwZXMubnVtYmVyLFxuXG4gICAgZXJyb3I6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgZXJyb3JDb2xvcjogUHJvcFR5cGVzLnN0cmluZyxcblxuICAgIGxpbmVXaWR0aDogUHJvcFR5cGVzLm51bWJlcixcbiAgICBhY3RpdmVMaW5lV2lkdGg6IFByb3BUeXBlcy5udW1iZXIsXG5cbiAgICBkaXNhYmxlZDogUHJvcFR5cGVzLmJvb2wsXG4gICAgZGlzYWJsZWRMaW5lVHlwZTogTGluZS5wcm9wVHlwZXMudHlwZSxcbiAgICBkaXNhYmxlZExpbmVXaWR0aDogUHJvcFR5cGVzLm51bWJlcixcblxuICAgIHJlbmRlckFjY2Vzc29yeTogUHJvcFR5cGVzLmZ1bmMsXG5cbiAgICBwcmVmaXg6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgc3VmZml4OiBQcm9wVHlwZXMuc3RyaW5nLFxuXG4gICAgY29udGFpbmVyU3R5bGU6IChWaWV3UHJvcFR5cGVzIHx8IFZpZXcucHJvcFR5cGVzKS5zdHlsZSxcbiAgICBpbnB1dENvbnRhaW5lclN0eWxlOiAoVmlld1Byb3BUeXBlcyB8fCBWaWV3LnByb3BUeXBlcykuc3R5bGUsXG4gIH07XG5cbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG5cbiAgICB0aGlzLm9uQmx1ciA9IHRoaXMub25CbHVyLmJpbmQodGhpcyk7XG4gICAgdGhpcy5vbkZvY3VzID0gdGhpcy5vbkZvY3VzLmJpbmQodGhpcyk7XG4gICAgdGhpcy5vblByZXNzID0gdGhpcy5mb2N1cy5iaW5kKHRoaXMpO1xuICAgIHRoaXMub25DaGFuZ2UgPSB0aGlzLm9uQ2hhbmdlLmJpbmQodGhpcyk7XG4gICAgdGhpcy5vbkNoYW5nZVRleHQgPSB0aGlzLm9uQ2hhbmdlVGV4dC5iaW5kKHRoaXMpO1xuICAgIHRoaXMub25Db250ZW50U2l6ZUNoYW5nZSA9IHRoaXMub25Db250ZW50U2l6ZUNoYW5nZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMub25Gb2N1c0FuaW1hdGlvbkVuZCA9IHRoaXMub25Gb2N1c0FuaW1hdGlvbkVuZC5iaW5kKHRoaXMpO1xuXG4gICAgdGhpcy51cGRhdGVSZWYgPSB0aGlzLnVwZGF0ZVJlZi5iaW5kKHRoaXMsICdpbnB1dCcpO1xuXG4gICAgbGV0IHsgdmFsdWUsIGVycm9yLCBmb250U2l6ZSB9ID0gdGhpcy5wcm9wcztcblxuICAgIHRoaXMubW91bnRlZCA9IGZhbHNlO1xuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICB0ZXh0OiB2YWx1ZSxcblxuICAgICAgZm9jdXM6IG5ldyBBbmltYXRlZC5WYWx1ZSh0aGlzLmZvY3VzU3RhdGUoZXJyb3IsIGZhbHNlKSksXG4gICAgICBmb2N1c2VkOiBmYWxzZSxcbiAgICAgIHJlY2VpdmVkRm9jdXM6IGZhbHNlLFxuXG4gICAgICBlcnJvcjogZXJyb3IsXG4gICAgICBlcnJvcmVkOiAhIWVycm9yLFxuXG4gICAgICBoZWlnaHQ6IGZvbnRTaXplICogMS41LFxuICAgIH07XG4gIH1cblxuICBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKHByb3BzKSB7XG4gICAgbGV0IHsgZXJyb3IgfSA9IHRoaXMuc3RhdGU7XG5cbiAgICBpZiAobnVsbCAhPSBwcm9wcy52YWx1ZSkge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7IHRleHQ6IHByb3BzLnZhbHVlIH0pO1xuICAgIH1cblxuICAgIGlmIChwcm9wcy5lcnJvciAmJiBwcm9wcy5lcnJvciAhPT0gZXJyb3IpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoeyBlcnJvcjogcHJvcHMuZXJyb3IgfSk7XG4gICAgfVxuXG4gICAgaWYgKHByb3BzLmVycm9yICE9PSB0aGlzLnByb3BzLmVycm9yKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHsgZXJyb3JlZDogISFwcm9wcy5lcnJvciB9KTtcbiAgICB9XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICB0aGlzLm1vdW50ZWQgPSB0cnVlO1xuICB9XG5cbiAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgdGhpcy5tb3VudGVkID0gZmFsc2U7XG4gIH1cblxuICBjb21wb25lbnRXaWxsVXBkYXRlKHByb3BzLCBzdGF0ZSkge1xuICAgIGxldCB7IGVycm9yLCBhbmltYXRpb25EdXJhdGlvbjogZHVyYXRpb24gfSA9IHRoaXMucHJvcHM7XG4gICAgbGV0IHsgZm9jdXMsIGZvY3VzZWQgfSA9IHRoaXMuc3RhdGU7XG5cbiAgICBpZiAocHJvcHMuZXJyb3IgIT09IGVycm9yIHx8IGZvY3VzZWQgXiBzdGF0ZS5mb2N1c2VkKSB7XG4gICAgICBsZXQgdG9WYWx1ZSA9IHRoaXMuZm9jdXNTdGF0ZShwcm9wcy5lcnJvciwgc3RhdGUuZm9jdXNlZCk7XG5cbiAgICAgIEFuaW1hdGVkXG4gICAgICAgIC50aW1pbmcoZm9jdXMsIHsgdG9WYWx1ZSwgZHVyYXRpb24gfSlcbiAgICAgICAgLnN0YXJ0KHRoaXMub25Gb2N1c0FuaW1hdGlvbkVuZCk7XG4gICAgfVxuICB9XG5cbiAgdXBkYXRlUmVmKG5hbWUsIHJlZikge1xuICAgIHRoaXNbbmFtZV0gPSByZWY7XG4gIH1cblxuICBmb2N1c1N0YXRlKGVycm9yLCBmb2N1c2VkKSB7XG4gICAgcmV0dXJuIGVycm9yPyAtMSA6IChmb2N1c2VkPyAxIDogMCk7XG4gIH1cblxuICBmb2N1cygpIHtcbiAgICBsZXQgeyBkaXNhYmxlZCwgZWRpdGFibGUgfSA9IHRoaXMucHJvcHM7XG5cbiAgICBpZiAoIWRpc2FibGVkICYmIGVkaXRhYmxlKSB7XG4gICAgICB0aGlzLmlucHV0LmZvY3VzKCk7XG4gICAgfVxuICB9XG5cbiAgYmx1cigpIHtcbiAgICB0aGlzLmlucHV0LmJsdXIoKTtcbiAgfVxuXG4gIGNsZWFyKCkge1xuICAgIHRoaXMuaW5wdXQuY2xlYXIoKTtcblxuICAgIC8qIG9uQ2hhbmdlVGV4dCBpcyBub3QgdHJpZ2dlcmVkIGJ5IC5jbGVhcigpICovXG4gICAgdGhpcy5vbkNoYW5nZVRleHQoJycpO1xuICB9XG5cbiAgdmFsdWUoKSB7XG4gICAgbGV0IHsgdGV4dCwgcmVjZWl2ZWRGb2N1cyB9ID0gdGhpcy5zdGF0ZTtcbiAgICBsZXQgeyB2YWx1ZSwgZGVmYXVsdFZhbHVlIH0gPSB0aGlzLnByb3BzO1xuXG4gICAgcmV0dXJuIChyZWNlaXZlZEZvY3VzIHx8IG51bGwgIT0gdmFsdWUgfHwgbnVsbCA9PSBkZWZhdWx0VmFsdWUpP1xuICAgICAgdGV4dDpcbiAgICAgIGRlZmF1bHRWYWx1ZTtcbiAgfVxuXG4gIGlzRm9jdXNlZCgpIHtcbiAgICByZXR1cm4gdGhpcy5pbnB1dC5pc0ZvY3VzZWQoKTtcbiAgfVxuXG4gIGlzUmVzdHJpY3RlZCgpIHtcbiAgICBsZXQgeyBjaGFyYWN0ZXJSZXN0cmljdGlvbiB9ID0gdGhpcy5wcm9wcztcbiAgICBsZXQgeyB0ZXh0ID0gJycgfSA9IHRoaXMuc3RhdGU7XG5cbiAgICByZXR1cm4gY2hhcmFjdGVyUmVzdHJpY3Rpb24gPCB0ZXh0Lmxlbmd0aDtcbiAgfVxuXG4gIG9uRm9jdXMoZXZlbnQpIHtcbiAgICBsZXQgeyBvbkZvY3VzLCBjbGVhclRleHRPbkZvY3VzIH0gPSB0aGlzLnByb3BzO1xuXG4gICAgaWYgKCdmdW5jdGlvbicgPT09IHR5cGVvZiBvbkZvY3VzKSB7XG4gICAgICBvbkZvY3VzKGV2ZW50KTtcbiAgICB9XG5cbiAgICBpZiAoY2xlYXJUZXh0T25Gb2N1cykge1xuICAgICAgdGhpcy5jbGVhcigpO1xuICAgIH1cblxuICAgIHRoaXMuc2V0U3RhdGUoeyBmb2N1c2VkOiB0cnVlLCByZWNlaXZlZEZvY3VzOiB0cnVlIH0pO1xuICB9XG5cbiAgb25CbHVyKGV2ZW50KSB7XG4gICAgbGV0IHsgb25CbHVyIH0gPSB0aGlzLnByb3BzO1xuXG4gICAgaWYgKCdmdW5jdGlvbicgPT09IHR5cGVvZiBvbkJsdXIpIHtcbiAgICAgIG9uQmx1cihldmVudCk7XG4gICAgfVxuXG4gICAgdGhpcy5zZXRTdGF0ZSh7IGZvY3VzZWQ6IGZhbHNlIH0pO1xuICB9XG5cbiAgb25DaGFuZ2UoZXZlbnQpIHtcbiAgICBsZXQgeyBvbkNoYW5nZSwgbXVsdGlsaW5lIH0gPSB0aGlzLnByb3BzO1xuXG4gICAgaWYgKCdmdW5jdGlvbicgPT09IHR5cGVvZiBvbkNoYW5nZSkge1xuICAgICAgb25DaGFuZ2UoZXZlbnQpO1xuICAgIH1cblxuICAgIC8qIFhYWDogb25Db250ZW50U2l6ZUNoYW5nZSBpcyBub3QgY2FsbGVkIG9uIFJOIDAuNDQgYW5kIDAuNDUgKi9cbiAgICBpZiAobXVsdGlsaW5lICYmICdhbmRyb2lkJyA9PT0gUGxhdGZvcm0uT1MpIHtcbiAgICAgIGlmICgvXjBcXC40WzQ1XVxcLi8udGVzdChSTi52ZXJzaW9uKSkge1xuICAgICAgICB0aGlzLm9uQ29udGVudFNpemVDaGFuZ2UoZXZlbnQpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIG9uQ2hhbmdlVGV4dCh0ZXh0KSB7XG4gICAgbGV0IHsgb25DaGFuZ2VUZXh0IH0gPSB0aGlzLnByb3BzO1xuXG4gICAgdGhpcy5zZXRTdGF0ZSh7IHRleHQgfSk7XG5cbiAgICBpZiAoJ2Z1bmN0aW9uJyA9PT0gdHlwZW9mIG9uQ2hhbmdlVGV4dCkge1xuICAgICAgb25DaGFuZ2VUZXh0KHRleHQpO1xuICAgIH1cbiAgfVxuXG4gIG9uQ29udGVudFNpemVDaGFuZ2UoZXZlbnQpIHtcbiAgICBsZXQgeyBvbkNvbnRlbnRTaXplQ2hhbmdlLCBmb250U2l6ZSB9ID0gdGhpcy5wcm9wcztcbiAgICBsZXQgeyBoZWlnaHQgfSA9IGV2ZW50Lm5hdGl2ZUV2ZW50LmNvbnRlbnRTaXplO1xuXG4gICAgaWYgKCdmdW5jdGlvbicgPT09IHR5cGVvZiBvbkNvbnRlbnRTaXplQ2hhbmdlKSB7XG4gICAgICBvbkNvbnRlbnRTaXplQ2hhbmdlKGV2ZW50KTtcbiAgICB9XG5cbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGhlaWdodDogTWF0aC5tYXgoXG4gICAgICAgIGZvbnRTaXplICogMS41LFxuICAgICAgICBNYXRoLmNlaWwoaGVpZ2h0KSArIFBsYXRmb3JtLnNlbGVjdCh7IGlvczogNSwgYW5kcm9pZDogMSB9KVxuICAgICAgKSxcbiAgICB9KTtcbiAgfVxuXG4gIG9uRm9jdXNBbmltYXRpb25FbmQoKSB7XG4gICAgaWYgKHRoaXMubW91bnRlZCkge1xuICAgICAgdGhpcy5zZXRTdGF0ZSgoc3RhdGUsIHsgZXJyb3IgfSkgPT4gKHsgZXJyb3IgfSkpO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlckFjY2Vzc29yeSgpIHtcbiAgICBsZXQgeyByZW5kZXJBY2Nlc3NvcnkgfSA9IHRoaXMucHJvcHM7XG5cbiAgICBpZiAoJ2Z1bmN0aW9uJyAhPT0gdHlwZW9mIHJlbmRlckFjY2Vzc29yeSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgcmV0dXJuIChcbiAgICAgIDxWaWV3IHN0eWxlPXtzdHlsZXMuYWNjZXNzb3J5fT5cbiAgICAgICAge3JlbmRlckFjY2Vzc29yeSgpfVxuICAgICAgPC9WaWV3PlxuICAgICk7XG4gIH1cblxuICByZW5kZXJBZmZpeCh0eXBlLCBhY3RpdmUsIGZvY3VzZWQpIHtcbiAgICBsZXQge1xuICAgICAgW3R5cGVdOiBhZmZpeCxcbiAgICAgIGZvbnRTaXplLFxuICAgICAgYmFzZUNvbG9yLFxuICAgICAgYW5pbWF0aW9uRHVyYXRpb24sXG4gICAgICBhZmZpeFRleHRTdHlsZSxcbiAgICB9ID0gdGhpcy5wcm9wcztcblxuICAgIGlmIChudWxsID09IGFmZml4KSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBsZXQgcHJvcHMgPSB7XG4gICAgICB0eXBlLFxuICAgICAgYWN0aXZlLFxuICAgICAgZm9jdXNlZCxcbiAgICAgIGZvbnRTaXplLFxuICAgICAgYmFzZUNvbG9yLFxuICAgICAgYW5pbWF0aW9uRHVyYXRpb24sXG4gICAgfTtcblxuICAgIHJldHVybiAoXG4gICAgICA8QWZmaXggc3R5bGU9e2FmZml4VGV4dFN0eWxlfSB7Li4ucHJvcHN9PnthZmZpeH08L0FmZml4PlxuICAgICk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgbGV0IHsgcmVjZWl2ZWRGb2N1cywgZm9jdXMsIGZvY3VzZWQsIGVycm9yLCBlcnJvcmVkLCBoZWlnaHQsIHRleHQgPSAnJyB9ID0gdGhpcy5zdGF0ZTtcbiAgICBsZXQge1xuICAgICAgc3R5bGU6IGlucHV0U3R5bGVPdmVycmlkZXMsXG4gICAgICBsYWJlbCxcbiAgICAgIHRpdGxlLFxuICAgICAgdmFsdWUsXG4gICAgICBkZWZhdWx0VmFsdWUsXG4gICAgICBjaGFyYWN0ZXJSZXN0cmljdGlvbjogbGltaXQsXG4gICAgICBlZGl0YWJsZSxcbiAgICAgIGRpc2FibGVkLFxuICAgICAgZGlzYWJsZWRMaW5lVHlwZSxcbiAgICAgIGRpc2FibGVkTGluZVdpZHRoLFxuICAgICAgYW5pbWF0aW9uRHVyYXRpb24sXG4gICAgICBmb250U2l6ZSxcbiAgICAgIHRpdGxlRm9udFNpemUsXG4gICAgICBsYWJlbEZvbnRTaXplLFxuICAgICAgbGFiZWxIZWlnaHQsXG4gICAgICBsYWJlbFBhZGRpbmcsXG4gICAgICBpbnB1dENvbnRhaW5lclBhZGRpbmcsXG4gICAgICBsYWJlbFRleHRTdHlsZSxcbiAgICAgIHRpdGxlVGV4dFN0eWxlLFxuICAgICAgdGludENvbG9yLFxuICAgICAgYmFzZUNvbG9yLFxuICAgICAgdGV4dENvbG9yLFxuICAgICAgZXJyb3JDb2xvcixcbiAgICAgIGxpbmVXaWR0aCxcbiAgICAgIGFjdGl2ZUxpbmVXaWR0aCxcbiAgICAgIGNvbnRhaW5lclN0eWxlLFxuICAgICAgaW5wdXRDb250YWluZXJTdHlsZTogaW5wdXRDb250YWluZXJTdHlsZU92ZXJyaWRlcyxcbiAgICAgIGNsZWFyVGV4dE9uRm9jdXMsXG4gICAgICAuLi5wcm9wc1xuICAgIH0gPSB0aGlzLnByb3BzO1xuXG4gICAgaWYgKHByb3BzLm11bHRpbGluZSAmJiBwcm9wcy5oZWlnaHQpIHtcbiAgICAgIC8qIERpc2FibGUgYXV0b2dyb3cgaWYgaGVpZ2h0IGlzIHBhc3NlZCBhcyBwcm9wICovXG4gICAgICBoZWlnaHQgPSBwcm9wcy5oZWlnaHQ7XG4gICAgfVxuXG4gICAgbGV0IGRlZmF1bHRWaXNpYmxlID0gIShyZWNlaXZlZEZvY3VzIHx8IG51bGwgIT0gdmFsdWUgfHwgbnVsbCA9PSBkZWZhdWx0VmFsdWUpO1xuXG4gICAgdmFsdWUgPSBkZWZhdWx0VmlzaWJsZT9cbiAgICAgIGRlZmF1bHRWYWx1ZTpcbiAgICAgIHRleHQ7XG5cbiAgICBsZXQgYWN0aXZlID0gISEodmFsdWUgfHwgcHJvcHMucGxhY2Vob2xkZXIpO1xuICAgIGxldCBjb3VudCA9IHZhbHVlLmxlbmd0aDtcbiAgICBsZXQgcmVzdHJpY3RlZCA9IGxpbWl0IDwgY291bnQ7XG5cbiAgICBsZXQgdGV4dEFsaWduID0gSTE4bk1hbmFnZXIuaXNSVEw/XG4gICAgICAncmlnaHQnOlxuICAgICAgJ2xlZnQnO1xuXG4gICAgbGV0IGJvcmRlckJvdHRvbUNvbG9yID0gcmVzdHJpY3RlZD9cbiAgICAgIGVycm9yQ29sb3I6XG4gICAgICBmb2N1cy5pbnRlcnBvbGF0ZSh7XG4gICAgICAgIGlucHV0UmFuZ2U6IFstMSwgMCwgMV0sXG4gICAgICAgIG91dHB1dFJhbmdlOiBbZXJyb3JDb2xvciwgYmFzZUNvbG9yLCB0aW50Q29sb3JdLFxuICAgICAgfSk7XG5cbiAgICBsZXQgYm9yZGVyQm90dG9tV2lkdGggPSByZXN0cmljdGVkP1xuICAgICAgYWN0aXZlTGluZVdpZHRoOlxuICAgICAgZm9jdXMuaW50ZXJwb2xhdGUoe1xuICAgICAgICBpbnB1dFJhbmdlOiBbLTEsIDAsIDFdLFxuICAgICAgICBvdXRwdXRSYW5nZTogW2FjdGl2ZUxpbmVXaWR0aCwgbGluZVdpZHRoLCBhY3RpdmVMaW5lV2lkdGhdLFxuICAgICAgfSk7XG5cbiAgICBsZXQgaW5wdXRDb250YWluZXJTdHlsZSA9IHtcbiAgICAgIHBhZGRpbmdUb3A6IGxhYmVsSGVpZ2h0LFxuICAgICAgcGFkZGluZ0JvdHRvbTogaW5wdXRDb250YWluZXJQYWRkaW5nLFxuXG4gICAgICAuLi4oZGlzYWJsZWQ/XG4gICAgICAgIHsgb3ZlcmZsb3c6ICdoaWRkZW4nIH06XG4gICAgICAgIHsgYm9yZGVyQm90dG9tQ29sb3IsIGJvcmRlckJvdHRvbVdpZHRoIH0pLFxuXG4gICAgICAuLi4ocHJvcHMubXVsdGlsaW5lP1xuICAgICAgICB7IGhlaWdodDogJ3dlYicgPT09IFBsYXRmb3JtLk9TID8gJ2F1dG8nIDogbGFiZWxIZWlnaHQgKyBpbnB1dENvbnRhaW5lclBhZGRpbmcgKyBoZWlnaHQgfTpcbiAgICAgICAgeyBoZWlnaHQ6IGxhYmVsSGVpZ2h0ICsgaW5wdXRDb250YWluZXJQYWRkaW5nICsgZm9udFNpemUgKiAxLjUgfSksXG4gICAgfTtcblxuICAgIGxldCBpbnB1dFN0eWxlID0ge1xuICAgICAgZm9udFNpemUsXG4gICAgICB0ZXh0QWxpZ24sXG5cbiAgICAgIGNvbG9yOiAoZGlzYWJsZWQgfHwgZGVmYXVsdFZpc2libGUpP1xuICAgICAgICBiYXNlQ29sb3I6XG4gICAgICAgIHRleHRDb2xvcixcblxuICAgICAgLi4uKHByb3BzLm11bHRpbGluZT9cbiAgICAgICAge1xuICAgICAgICAgIGhlaWdodDogZm9udFNpemUgKiAxLjUgKyBoZWlnaHQsXG5cbiAgICAgICAgICAuLi5QbGF0Zm9ybS5zZWxlY3Qoe1xuICAgICAgICAgICAgaW9zOiB7IHRvcDogLTEgfSxcbiAgICAgICAgICAgIGFuZHJvaWQ6IHsgdGV4dEFsaWduVmVydGljYWw6ICd0b3AnIH0sXG4gICAgICAgICAgfSksXG4gICAgICAgIH06XG4gICAgICAgIHsgaGVpZ2h0OiBmb250U2l6ZSAqIDEuNSB9KSxcbiAgICB9O1xuXG4gICAgbGV0IGVycm9yU3R5bGUgPSB7XG4gICAgICBjb2xvcjogZXJyb3JDb2xvcixcblxuICAgICAgb3BhY2l0eTogZm9jdXMuaW50ZXJwb2xhdGUoe1xuICAgICAgICBpbnB1dFJhbmdlOiBbLTEsIDAsIDFdLFxuICAgICAgICBvdXRwdXRSYW5nZTogWzEsIDAsIDBdLFxuICAgICAgfSksXG5cbiAgICAgIGZvbnRTaXplOiB0aXRsZT9cbiAgICAgICAgdGl0bGVGb250U2l6ZTpcbiAgICAgICAgZm9jdXMuaW50ZXJwb2xhdGUoe1xuICAgICAgICAgIGlucHV0UmFuZ2U6ICBbLTEsIDAsIDFdLFxuICAgICAgICAgIG91dHB1dFJhbmdlOiBbdGl0bGVGb250U2l6ZSwgMCwgMF0sXG4gICAgICAgIH0pLFxuICAgIH07XG5cbiAgICBsZXQgdGl0bGVTdHlsZSA9IHtcbiAgICAgIGNvbG9yOiBiYXNlQ29sb3IsXG5cbiAgICAgIG9wYWNpdHk6IGZvY3VzLmludGVycG9sYXRlKHtcbiAgICAgICAgaW5wdXRSYW5nZTogWy0xLCAwLCAxXSxcbiAgICAgICAgb3V0cHV0UmFuZ2U6IFswLCAxLCAxXSxcbiAgICAgIH0pLFxuXG4gICAgICBmb250U2l6ZTogdGl0bGVGb250U2l6ZSxcbiAgICB9O1xuXG4gICAgbGV0IGhlbHBlckNvbnRhaW5lclN0eWxlID0ge1xuICAgICAgZmxleERpcmVjdGlvbjogJ3JvdycsXG4gICAgICBoZWlnaHQ6ICh0aXRsZSB8fCBsaW1pdCk/XG4gICAgICAgIHRpdGxlRm9udFNpemUgKiAyOlxuICAgICAgICBmb2N1cy5pbnRlcnBvbGF0ZSh7XG4gICAgICAgICAgaW5wdXRSYW5nZTogIFstMSwgMCwgMV0sXG4gICAgICAgICAgb3V0cHV0UmFuZ2U6IFt0aXRsZUZvbnRTaXplICogMiwgOCwgOF0sXG4gICAgICAgIH0pLFxuICAgIH07XG5cbiAgICBsZXQgY29udGFpbmVyUHJvcHMgPSB7XG4gICAgICBzdHlsZTogY29udGFpbmVyU3R5bGUsXG4gICAgICBvblN0YXJ0U2hvdWxkU2V0UmVzcG9uZGVyOiAoKSA9PiB0cnVlLFxuICAgICAgb25SZXNwb25kZXJSZWxlYXNlOiB0aGlzLm9uUHJlc3MsXG4gICAgICBwb2ludGVyRXZlbnRzOiAhZGlzYWJsZWQgJiYgZWRpdGFibGU/XG4gICAgICAgICdhdXRvJzpcbiAgICAgICAgJ25vbmUnLFxuICAgIH07XG5cbiAgICBsZXQgaW5wdXRDb250YWluZXJQcm9wcyA9IHtcbiAgICAgIHN0eWxlOiBbXG4gICAgICAgIHN0eWxlcy5pbnB1dENvbnRhaW5lcixcbiAgICAgICAgaW5wdXRDb250YWluZXJTdHlsZSxcbiAgICAgICAgaW5wdXRDb250YWluZXJTdHlsZU92ZXJyaWRlcyxcbiAgICAgIF0sXG4gICAgfTtcblxuICAgIGxldCBsaW5lUHJvcHMgPSB7XG4gICAgICB0eXBlOiBkaXNhYmxlZExpbmVUeXBlLFxuICAgICAgd2lkdGg6IGRpc2FibGVkTGluZVdpZHRoLFxuICAgICAgY29sb3I6IGJhc2VDb2xvcixcbiAgICB9O1xuXG4gICAgbGV0IGxhYmVsUHJvcHMgPSB7XG4gICAgICBiYXNlU2l6ZTogbGFiZWxIZWlnaHQsXG4gICAgICBiYXNlUGFkZGluZzogbGFiZWxQYWRkaW5nLFxuICAgICAgZm9udFNpemUsXG4gICAgICBhY3RpdmVGb250U2l6ZTogbGFiZWxGb250U2l6ZSxcbiAgICAgIHRpbnRDb2xvcixcbiAgICAgIGJhc2VDb2xvcixcbiAgICAgIGVycm9yQ29sb3IsXG4gICAgICBhbmltYXRpb25EdXJhdGlvbixcbiAgICAgIGFjdGl2ZSxcbiAgICAgIGZvY3VzZWQsXG4gICAgICBlcnJvcmVkLFxuICAgICAgcmVzdHJpY3RlZCxcbiAgICAgIHN0eWxlOiBsYWJlbFRleHRTdHlsZSxcbiAgICB9O1xuXG4gICAgbGV0IGNvdW50ZXJQcm9wcyA9IHtcbiAgICAgIGJhc2VDb2xvcixcbiAgICAgIGVycm9yQ29sb3IsXG4gICAgICBjb3VudCxcbiAgICAgIGxpbWl0LFxuICAgICAgZm9udFNpemU6IHRpdGxlRm9udFNpemUsXG4gICAgICBzdHlsZTogdGl0bGVUZXh0U3R5bGUsXG4gICAgfTtcblxuICAgIHJldHVybiAoXG4gICAgICA8VmlldyB7Li4uY29udGFpbmVyUHJvcHN9PlxuICAgICAgICA8QW5pbWF0ZWQuVmlldyB7Li4uaW5wdXRDb250YWluZXJQcm9wc30+XG4gICAgICAgICAge2Rpc2FibGVkICYmIDxMaW5lIHsuLi5saW5lUHJvcHN9IC8+fVxuXG4gICAgICAgICAgPExhYmVsIHsuLi5sYWJlbFByb3BzfT57bGFiZWx9PC9MYWJlbD5cblxuICAgICAgICAgIDxWaWV3IHN0eWxlPXtzdHlsZXMucm93fT5cbiAgICAgICAgICAgIHt0aGlzLnJlbmRlckFmZml4KCdwcmVmaXgnLCBhY3RpdmUsIGZvY3VzZWQpfVxuXG4gICAgICAgICAgICA8VGV4dElucHV0XG4gICAgICAgICAgICAgIHN0eWxlPXtbc3R5bGVzLmlucHV0LCBpbnB1dFN0eWxlLCBpbnB1dFN0eWxlT3ZlcnJpZGVzXX1cbiAgICAgICAgICAgICAgc2VsZWN0aW9uQ29sb3I9e3RpbnRDb2xvcn1cblxuICAgICAgICAgICAgICB7Li4ucHJvcHN9XG5cbiAgICAgICAgICAgICAgZWRpdGFibGU9eyFkaXNhYmxlZCAmJiBlZGl0YWJsZX1cbiAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMub25DaGFuZ2V9XG4gICAgICAgICAgICAgIG9uQ2hhbmdlVGV4dD17dGhpcy5vbkNoYW5nZVRleHR9XG4gICAgICAgICAgICAgIG9uQ29udGVudFNpemVDaGFuZ2U9e3RoaXMub25Db250ZW50U2l6ZUNoYW5nZX1cbiAgICAgICAgICAgICAgb25Gb2N1cz17dGhpcy5vbkZvY3VzfVxuICAgICAgICAgICAgICBvbkJsdXI9e3RoaXMub25CbHVyfVxuICAgICAgICAgICAgICB2YWx1ZT17dmFsdWV9XG4gICAgICAgICAgICAgIHJlZj17dGhpcy51cGRhdGVSZWZ9XG4gICAgICAgICAgICAvPlxuXG4gICAgICAgICAgICB7dGhpcy5yZW5kZXJBZmZpeCgnc3VmZml4JywgYWN0aXZlLCBmb2N1c2VkKX1cbiAgICAgICAgICAgIHt0aGlzLnJlbmRlckFjY2Vzc29yeSgpfVxuICAgICAgICAgIDwvVmlldz5cbiAgICAgICAgPC9BbmltYXRlZC5WaWV3PlxuXG4gICAgICAgIDxBbmltYXRlZC5WaWV3IHN0eWxlPXtoZWxwZXJDb250YWluZXJTdHlsZX0+XG4gICAgICAgICAgPFZpZXcgc3R5bGU9e3N0eWxlcy5mbGV4fT5cbiAgICAgICAgICAgIDxIZWxwZXIgc3R5bGU9e1tlcnJvclN0eWxlLCB0aXRsZVRleHRTdHlsZV19PntlcnJvcn08L0hlbHBlcj5cbiAgICAgICAgICAgIDxIZWxwZXIgc3R5bGU9e1t0aXRsZVN0eWxlLCB0aXRsZVRleHRTdHlsZV19Pnt0aXRsZX08L0hlbHBlcj5cbiAgICAgICAgICA8L1ZpZXc+XG5cbiAgICAgICAgICA8Q291bnRlciB7Li4uY291bnRlclByb3BzfSAvPlxuICAgICAgICA8L0FuaW1hdGVkLlZpZXc+XG4gICAgICA8L1ZpZXc+XG4gICAgKTtcbiAgfVxufVxuIl19