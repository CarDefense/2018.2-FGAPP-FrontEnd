b65be6b9e8a6e784ef8fd88de23bae1a
var cov_1pgb9fmksa=function(){var path='/home/biel/Documents/tests/CarDefense_FrontEnd/mobile/screens/tab_navigator/car_defense/screens/TabNavigator/PrivateFeed/PrivateFeed.js',hash='e77ccfce92a39f9d071fceb895bbcd1e712a9e41',Function=function(){}.constructor,global=new Function('return this')(),gcv='__coverage__',coverageData={path:'/home/biel/Documents/tests/CarDefense_FrontEnd/mobile/screens/tab_navigator/car_defense/screens/TabNavigator/PrivateFeed/PrivateFeed.js',statementMap:{'0':{start:{line:7,column:37},end:{line:9,column:3}},'1':{start:{line:10,column:20},end:{line:10,column:34}},'2':{start:{line:14,column:2},end:{line:19,column:3}},'3':{start:{line:17,column:23},end:{line:17,column:86}},'4':{start:{line:18,column:4},end:{line:18,column:25}},'5':{start:{line:22,column:2},end:{line:24,column:3}},'6':{start:{line:23,column:4},end:{line:23,column:11}},'7':{start:{line:26,column:11},end:{line:28,column:21}},'8':{start:{line:28,column:15},end:{line:28,column:20}},'9':{start:{line:29,column:2},end:{line:29,column:12}},'10':{start:{line:38,column:4},end:{line:38,column:64}},'11':{start:{line:41,column:4},end:{line:41,column:65}},'12':{start:{line:45,column:4},end:{line:45,column:43}},'13':{start:{line:49,column:4},end:{line:49,column:17}},'14':{start:{line:50,column:4},end:{line:52,column:6}},'15':{start:{line:56,column:14},end:{line:56,column:50}},'16':{start:{line:58,column:4},end:{line:72,column:9}},'17':{start:{line:59,column:26},end:{line:59,column:41}},'18':{start:{line:62,column:8},end:{line:67,column:11}},'19':{start:{line:71,column:8},end:{line:71,column:29}},'20':{start:{line:76,column:4},end:{line:76,column:29}},'21':{start:{line:80,column:4},end:{line:80,column:38}},'22':{start:{line:81,column:4},end:{line:83,column:7}},'23':{start:{line:82,column:6},end:{line:82,column:41}},'24':{start:{line:87,column:4},end:{line:113,column:6}},'25':{start:{line:99,column:12},end:{line:106,column:14}},'26':{start:{line:108,column:43},end:{line:108,column:56}},'27':{start:{line:117,column:15},end:{line:155,column:2}}},fnMap:{'0':{name:'registerForPushNotificationsAsync',decl:{start:{line:6,column:15},end:{line:6,column:48}},loc:{start:{line:6,column:51},end:{line:32,column:1}},line:6},'1':{name:'(anonymous_1)',decl:{start:{line:28,column:10},end:{line:28,column:11}},loc:{start:{line:28,column:15},end:{line:28,column:20}},line:28},'2':{name:'(anonymous_2)',decl:{start:{line:36,column:2},end:{line:36,column:3}},loc:{start:{line:36,column:23},end:{line:39,column:3}},line:36},'3':{name:'(anonymous_3)',decl:{start:{line:40,column:2},end:{line:40,column:3}},loc:{start:{line:40,column:25},end:{line:42,column:3}},line:40},'4':{name:'(anonymous_4)',decl:{start:{line:44,column:11},end:{line:44,column:12}},loc:{start:{line:44,column:33},end:{line:46,column:3}},line:44},'5':{name:'(anonymous_5)',decl:{start:{line:48,column:2},end:{line:48,column:3}},loc:{start:{line:48,column:21},end:{line:53,column:3}},line:48},'6':{name:'(anonymous_6)',decl:{start:{line:55,column:23},end:{line:55,column:24}},loc:{start:{line:55,column:29},end:{line:73,column:3}},line:55},'7':{name:'(anonymous_7)',decl:{start:{line:59,column:12},end:{line:59,column:13}},loc:{start:{line:59,column:26},end:{line:59,column:41}},line:59},'8':{name:'(anonymous_8)',decl:{start:{line:60,column:12},end:{line:60,column:13}},loc:{start:{line:60,column:30},end:{line:69,column:7}},line:60},'9':{name:'(anonymous_9)',decl:{start:{line:65,column:11},end:{line:65,column:12}},loc:{start:{line:65,column:23},end:{line:67,column:9}},line:65},'10':{name:'(anonymous_10)',decl:{start:{line:70,column:13},end:{line:70,column:14}},loc:{start:{line:70,column:24},end:{line:72,column:7}},line:70},'11':{name:'(anonymous_11)',decl:{start:{line:75,column:2},end:{line:75,column:3}},loc:{start:{line:75,column:28},end:{line:77,column:3}},line:75},'12':{name:'(anonymous_12)',decl:{start:{line:79,column:15},end:{line:79,column:16}},loc:{start:{line:79,column:21},end:{line:84,column:3}},line:79},'13':{name:'(anonymous_13)',decl:{start:{line:81,column:34},end:{line:81,column:35}},loc:{start:{line:81,column:40},end:{line:83,column:5}},line:81},'14':{name:'(anonymous_14)',decl:{start:{line:86,column:2},end:{line:86,column:3}},loc:{start:{line:86,column:11},end:{line:114,column:3}},line:86},'15':{name:'(anonymous_15)',decl:{start:{line:98,column:22},end:{line:98,column:23}},loc:{start:{line:98,column:36},end:{line:107,column:11}},line:98},'16':{name:'(anonymous_16)',decl:{start:{line:108,column:24},end:{line:108,column:25}},loc:{start:{line:108,column:43},end:{line:108,column:56}},line:108}},branchMap:{'0':{loc:{start:{line:14,column:2},end:{line:19,column:3}},type:'if',locations:[{start:{line:14,column:2},end:{line:19,column:3}},{start:{line:14,column:2},end:{line:19,column:3}}],line:14},'1':{loc:{start:{line:22,column:2},end:{line:24,column:3}},type:'if',locations:[{start:{line:22,column:2},end:{line:24,column:3}},{start:{line:22,column:2},end:{line:24,column:3}}],line:22},'2':{loc:{start:{line:41,column:4},end:{line:41,column:64}},type:'binary-expr',locations:[{start:{line:41,column:4},end:{line:41,column:17}},{start:{line:41,column:21},end:{line:41,column:64}}],line:41}},s:{'0':0,'1':0,'2':0,'3':0,'4':0,'5':0,'6':0,'7':0,'8':0,'9':0,'10':0,'11':0,'12':0,'13':0,'14':0,'15':0,'16':0,'17':0,'18':0,'19':0,'20':0,'21':0,'22':0,'23':0,'24':0,'25':0,'26':0,'27':0},f:{'0':0,'1':0,'2':0,'3':0,'4':0,'5':0,'6':0,'7':0,'8':0,'9':0,'10':0,'11':0,'12':0,'13':0,'14':0,'15':0,'16':0},b:{'0':[0,0],'1':[0,0],'2':[0,0]},_coverageSchema:'332fd63041d2c1bcb487cc26dd0d5f7d97098a6c'},coverage=global[gcv]||(global[gcv]={});if(coverage[path]&&coverage[path].hash===hash){return coverage[path];}coverageData.hash=hash;return coverage[path]=coverageData;}();Object.defineProperty(exports,"__esModule",{value:true});exports.default=undefined;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=require('react');var _react2=_interopRequireDefault(_react);var _reactNative=require('react-native');var _Const=require('../const/Const');var _expo=require('expo');var _expo2=_interopRequireDefault(_expo);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}function registerForPushNotificationsAsync(){var _ref,existingStatus,finalStatus,_ref2,status,token,tk;return regeneratorRuntime.async(function registerForPushNotificationsAsync$(_context){while(1){switch(_context.prev=_context.next){case 0:cov_1pgb9fmksa.f[0]++;cov_1pgb9fmksa.s[0]++;_context.next=4;return regeneratorRuntime.awrap(_expo2.default.Permissions.getAsync(_expo2.default.Permissions.NOTIFICATIONS));case 4:_ref=_context.sent;existingStatus=_ref.status;finalStatus=(cov_1pgb9fmksa.s[1]++,existingStatus);cov_1pgb9fmksa.s[2]++;if(!(existingStatus!=='granted')){_context.next=19;break;}cov_1pgb9fmksa.b[0][0]++;cov_1pgb9fmksa.s[3]++;_context.next=13;return regeneratorRuntime.awrap(_expo2.default.Permissions.askAsync(_expo2.default.Permissions.NOTIFICATIONS));case 13:_ref2=_context.sent;status=_ref2.status;cov_1pgb9fmksa.s[4]++;finalStatus=status;_context.next=20;break;case 19:cov_1pgb9fmksa.b[0][1]++;case 20:cov_1pgb9fmksa.s[5]++;if(!(finalStatus!=='granted')){_context.next=27;break;}cov_1pgb9fmksa.b[1][0]++;cov_1pgb9fmksa.s[6]++;return _context.abrupt('return');case 27:cov_1pgb9fmksa.b[1][1]++;case 28:cov_1pgb9fmksa.s[7]++;_context.t0=regeneratorRuntime;_context.t1=Promise;_context.next=33;return regeneratorRuntime.awrap(_expo2.default.Notifications.getExpoPushTokenAsync());case 33:_context.t2=token=_context.sent;_context.t3=function(x){cov_1pgb9fmksa.f[1]++;cov_1pgb9fmksa.s[8]++;return token;};_context.t4=_context.t1.resolve.call(_context.t1,_context.t2).then(_context.t3);_context.next=38;return _context.t0.awrap.call(_context.t0,_context.t4);case 38:tk=_context.sent;cov_1pgb9fmksa.s[9]++;return _context.abrupt('return',tk);case 41:case'end':return _context.stop();}}},null,this);}var Feed=function(_ref3){_inherits(Feed,_ref3);_createClass(Feed,[{key:'componentWillMount',value:function componentWillMount(){cov_1pgb9fmksa.f[2]++;cov_1pgb9fmksa.s[10]++;this.listener=_expo2.default.Notifications.addListener(this.listen);}},{key:'componentWillUnmount',value:function componentWillUnmount(){cov_1pgb9fmksa.f[3]++;cov_1pgb9fmksa.s[11]++;(cov_1pgb9fmksa.b[2][0]++,this.listener)&&(cov_1pgb9fmksa.b[2][1]++,_expo2.default.Notifications.addListener(this.listen));}}]);function Feed(props){_classCallCheck(this,Feed);cov_1pgb9fmksa.f[5]++;cov_1pgb9fmksa.s[13]++;var _this=_possibleConstructorReturn(this,(Feed.__proto__||Object.getPrototypeOf(Feed)).call(this,props));_this.listen=function(_ref4){var origin=_ref4.origin,data=_ref4.data;cov_1pgb9fmksa.f[4]++;cov_1pgb9fmksa.s[12]++;console.log('cool data',origin,data);};_this.getPrivateFeedInfo=function(){cov_1pgb9fmksa.f[6]++;var url=(cov_1pgb9fmksa.s[15]++,_Const.NOTIFICATIONS_API+'/notifications');cov_1pgb9fmksa.s[16]++;return fetch(url).then(function(response){cov_1pgb9fmksa.f[7]++;cov_1pgb9fmksa.s[17]++;return response.json();}).then(function(responseJson){cov_1pgb9fmksa.f[8]++;cov_1pgb9fmksa.s[18]++;_this.setState({isLoading:false,dataSource:responseJson},function(){cov_1pgb9fmksa.f[9]++;});}).catch(function(error){cov_1pgb9fmksa.f[10]++;cov_1pgb9fmksa.s[19]++;console.error(error);});};_this._onRefresh=function(){cov_1pgb9fmksa.f[12]++;cov_1pgb9fmksa.s[21]++;_this.setState({refreshing:true});cov_1pgb9fmksa.s[22]++;_this.componentDidMount().then(function(){cov_1pgb9fmksa.f[13]++;cov_1pgb9fmksa.s[23]++;_this.setState({refreshing:false});});};cov_1pgb9fmksa.s[14]++;_this.state={refreshing:false};return _this;}_createClass(Feed,[{key:'componentDidMount',value:function componentDidMount(){return regeneratorRuntime.async(function componentDidMount$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:cov_1pgb9fmksa.f[11]++;cov_1pgb9fmksa.s[20]++;this.getPrivateFeedInfo();case 3:case'end':return _context2.stop();}}},null,this);}},{key:'render',value:function render(){cov_1pgb9fmksa.f[14]++;cov_1pgb9fmksa.s[24]++;return _react2.default.createElement(_reactNative.ScrollView,{style:styles.item,refreshControl:_react2.default.createElement(_reactNative.RefreshControl,{refreshing:this.state.refreshing,onRefresh:this._onRefresh})},_react2.default.createElement(_reactNative.FlatList,{data:this.state.dataSource,renderItem:function renderItem(_ref5){var item=_ref5.item;cov_1pgb9fmksa.f[15]++;cov_1pgb9fmksa.s[25]++;return _react2.default.createElement(_reactNative.View,{style:styles.item2},_react2.default.createElement(_reactNative.Text,{style:styles.text1},item.title),_react2.default.createElement(_reactNative.Image,{source:{uri:item.image},style:{width:400,height:200}}),_react2.default.createElement(_reactNative.Text,{style:styles.text},item.message));},keyExtractor:function keyExtractor(_ref6,index){var id=_ref6.id;cov_1pgb9fmksa.f[16]++;cov_1pgb9fmksa.s[26]++;return id.toString();}}));}}]);return Feed;}((_react2.default.Component));exports.default=Feed;var styles=(cov_1pgb9fmksa.s[27]++,_reactNative.StyleSheet.create({item:{backgroundColor:"#ffffff",margin:4,shadowColor:"#000000",shadowOpacity:0.8,shadowRadius:2,shadowOffset:{height:1,width:1},elevation:4},item2:{alignItems:"center",justifyContent:'center',backgroundColor:"#ffffff",flexGrow:1,margin:4,padding:20,borderRadius:10,shadowColor:"#000000",shadowOpacity:0.8,shadowRadius:2,shadowOffset:{height:1,width:1},elevation:4},text:{color:"#540b71",fontWeight:'100'},text1:{color:"#540b71",fontWeight:'bold'}}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlByaXZhdGVGZWVkLmpzIl0sIm5hbWVzIjpbInJlZ2lzdGVyRm9yUHVzaE5vdGlmaWNhdGlvbnNBc3luYyIsIkV4cG8iLCJQZXJtaXNzaW9ucyIsImdldEFzeW5jIiwiTk9USUZJQ0FUSU9OUyIsImV4aXN0aW5nU3RhdHVzIiwic3RhdHVzIiwiZmluYWxTdGF0dXMiLCJhc2tBc3luYyIsIlByb21pc2UiLCJOb3RpZmljYXRpb25zIiwiZ2V0RXhwb1B1c2hUb2tlbkFzeW5jIiwidG9rZW4iLCJyZXNvbHZlIiwidGhlbiIsInRrIiwiRmVlZCIsImxpc3RlbmVyIiwiYWRkTGlzdGVuZXIiLCJsaXN0ZW4iLCJwcm9wcyIsIm9yaWdpbiIsImRhdGEiLCJjb25zb2xlIiwibG9nIiwiZ2V0UHJpdmF0ZUZlZWRJbmZvIiwidXJsIiwiTk9USUZJQ0FUSU9OU19BUEkiLCJmZXRjaCIsInJlc3BvbnNlIiwianNvbiIsInJlc3BvbnNlSnNvbiIsInNldFN0YXRlIiwiaXNMb2FkaW5nIiwiZGF0YVNvdXJjZSIsImNhdGNoIiwiZXJyb3IiLCJfb25SZWZyZXNoIiwicmVmcmVzaGluZyIsImNvbXBvbmVudERpZE1vdW50Iiwic3RhdGUiLCJzdHlsZXMiLCJpdGVtIiwiaXRlbTIiLCJ0ZXh0MSIsInRpdGxlIiwidXJpIiwiaW1hZ2UiLCJ3aWR0aCIsImhlaWdodCIsInRleHQiLCJtZXNzYWdlIiwiaW5kZXgiLCJpZCIsInRvU3RyaW5nIiwiUmVhY3QiLCJDb21wb25lbnQiLCJTdHlsZVNoZWV0IiwiY3JlYXRlIiwiYmFja2dyb3VuZENvbG9yIiwibWFyZ2luIiwic2hhZG93Q29sb3IiLCJzaGFkb3dPcGFjaXR5Iiwic2hhZG93UmFkaXVzIiwic2hhZG93T2Zmc2V0IiwiZWxldmF0aW9uIiwiYWxpZ25JdGVtcyIsImp1c3RpZnlDb250ZW50IiwiZmxleEdyb3ciLCJwYWRkaW5nIiwiYm9yZGVyUmFkaXVzIiwiY29sb3IiLCJmb250V2VpZ2h0Il0sIm1hcHBpbmdzIjoieXNNQUFB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LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IEZsYXRMaXN0LCBUZXh0LCBWaWV3LCBTdHlsZVNoZWV0LCBTY3JvbGxWaWV3LCBSZWZyZXNoQ29udHJvbCwgSW1hZ2UgfSBmcm9tICdyZWFjdC1uYXRpdmUnO1xuaW1wb3J0IHsgIE5PVElGSUNBVElPTlNfQVBJIH0gZnJvbSAnLi4vY29uc3QvQ29uc3QnXG5pbXBvcnQgRXhwbyBmcm9tICdleHBvJ1xuXG5hc3luYyBmdW5jdGlvbiByZWdpc3RlckZvclB1c2hOb3RpZmljYXRpb25zQXN5bmMoKSB7XG4gIGNvbnN0IHsgc3RhdHVzOiBleGlzdGluZ1N0YXR1cyB9ID0gYXdhaXQgRXhwby5QZXJtaXNzaW9ucy5nZXRBc3luYyhcbiAgICBFeHBvLlBlcm1pc3Npb25zLk5PVElGSUNBVElPTlNcbiAgKTtcbiAgbGV0IGZpbmFsU3RhdHVzID0gZXhpc3RpbmdTdGF0dXM7XG5cbiAgLy8gb25seSBhc2sgaWYgcGVybWlzc2lvbnMgaGF2ZSBub3QgYWxyZWFkeSBiZWVuIGRldGVybWluZWQsIGJlY2F1c2VcbiAgLy8gaU9TIHdvbid0IG5lY2Vzc2FyaWx5IHByb21wdCB0aGUgdXNlciBhIHNlY29uZCB0aW1lLlxuICBpZiAoZXhpc3RpbmdTdGF0dXMgIT09ICdncmFudGVkJykge1xuICAgIC8vIEFuZHJvaWQgcmVtb3RlIG5vdGlmaWNhdGlvbiBwZXJtaXNzaW9ucyBhcmUgZ3JhbnRlZCBkdXJpbmcgdGhlIGFwcFxuICAgIC8vIGluc3RhbGwsIHNvIHRoaXMgd2lsbCBvbmx5IGFzayBvbiBpT1NcbiAgICBjb25zdCB7IHN0YXR1cyB9ID0gYXdhaXQgRXhwby5QZXJtaXNzaW9ucy5hc2tBc3luYyhFeHBvLlBlcm1pc3Npb25zLk5PVElGSUNBVElPTlMpO1xuICAgIGZpbmFsU3RhdHVzID0gc3RhdHVzO1xuICB9XG5cbiAgLy8gU3RvcCBoZXJlIGlmIHRoZSB1c2VyIGRpZCBub3QgZ3JhbnQgcGVybWlzc2lvbnNcbiAgaWYgKGZpbmFsU3RhdHVzICE9PSAnZ3JhbnRlZCcpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgdmFyIHRva2VuXG4gIHZhciB0ayA9IGF3YWl0IFByb21pc2VcbiAgICAucmVzb2x2ZSAodG9rZW4gPSBhd2FpdCBFeHBvLk5vdGlmaWNhdGlvbnMuZ2V0RXhwb1B1c2hUb2tlbkFzeW5jKCkpXG4gICAgLnRoZW4oeCA9PiB0b2tlbik7XG4gIHJldHVybiB0aztcbiAgXG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRmVlZCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG5cbiAgY29tcG9uZW50V2lsbE1vdW50KCkge1xuICAgIFxuICAgIHRoaXMubGlzdGVuZXIgPSBFeHBvLk5vdGlmaWNhdGlvbnMuYWRkTGlzdGVuZXIodGhpcy5saXN0ZW4pO1xuICB9XG4gIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgIHRoaXMubGlzdGVuZXIgJiYgRXhwby5Ob3RpZmljYXRpb25zLmFkZExpc3RlbmVyKHRoaXMubGlzdGVuKTtcbiAgfVxuXG4gIGxpc3RlbiA9ICh7IG9yaWdpbiwgZGF0YSB9KSA9PiB7XG4gICAgY29uc29sZS5sb2coJ2Nvb2wgZGF0YScsIG9yaWdpbiwgZGF0YSk7XG4gIH1cblxuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgcmVmcmVzaGluZzogZmFsc2UsXG4gICAgfTtcbiAgfVxuXG4gIGdldFByaXZhdGVGZWVkSW5mbyA9ICgpID0+IHtcbiAgICBsZXQgdXJsID0gTk9USUZJQ0FUSU9OU19BUEkgKyBgL25vdGlmaWNhdGlvbnNgXG5cbiAgICByZXR1cm4gZmV0Y2godXJsKVxuICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiByZXNwb25zZS5qc29uKCkpXG4gICAgICAudGhlbigocmVzcG9uc2VKc29uKSA9PiB7XG5cbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcbiAgICAgICAgICBkYXRhU291cmNlOiByZXNwb25zZUpzb24sXG4gICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcblxuICAgICAgICB9KTtcblxuICAgICAgfSlcbiAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgICB9KTtcbiAgfVxuXG4gIGFzeW5jIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIHRoaXMuZ2V0UHJpdmF0ZUZlZWRJbmZvKClcbiAgfVxuXG4gIF9vblJlZnJlc2ggPSAoKSA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7cmVmcmVzaGluZzogdHJ1ZX0pO1xuICAgIHRoaXMuY29tcG9uZW50RGlkTW91bnQoKS50aGVuKCgpID0+IHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe3JlZnJlc2hpbmc6IGZhbHNlfSk7XG4gICAgfSk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxTY3JvbGxWaWV3IHN0eWxlPXtzdHlsZXMuaXRlbX1cbiAgICAgIHJlZnJlc2hDb250cm9sPXtcbiAgICAgICAgPFJlZnJlc2hDb250cm9sXG4gICAgICAgICAgcmVmcmVzaGluZz17dGhpcy5zdGF0ZS5yZWZyZXNoaW5nfVxuICAgICAgICAgIG9uUmVmcmVzaD17dGhpcy5fb25SZWZyZXNofVxuICAgICAgICAvPlxuICAgICAgfVxuICAgICAgPlxuICAgICAgICA8RmxhdExpc3RcbiAgICAgICAgICBkYXRhPXt0aGlzLnN0YXRlLmRhdGFTb3VyY2V9XG4gICAgICAgICAgcmVuZGVySXRlbT17KHsgaXRlbSB9KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICA8VmlldyBzdHlsZT17c3R5bGVzLml0ZW0yfT5cbiAgICAgICAgICAgICAgICA8VGV4dCBzdHlsZT17c3R5bGVzLnRleHQxfT57aXRlbS50aXRsZX08L1RleHQ+XG4gICAgICAgICAgICAgICAgPEltYWdlIHNvdXJjZT17e3VyaTppdGVtLmltYWdlfX1cbiAgICAgICAgICAgICAgICAgIHN0eWxlPXt7d2lkdGg6IDQwMCwgaGVpZ2h0OiAyMDB9fSAvPlxuICAgICAgICAgICAgICAgIDxUZXh0IHN0eWxlPXtzdHlsZXMudGV4dH0+e2l0ZW0ubWVzc2FnZX08L1RleHQ+XG4gICAgICAgICAgICAgIDwvVmlldz5cbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfX1cbiAgICAgICAgICBrZXlFeHRyYWN0b3I9eyh7IGlkIH0sIGluZGV4KSA9PiBpZC50b1N0cmluZygpfVxuICAgICAgICAgIFxuICAgICAgICAvPlxuICAgICAgICBcbiAgICAgIDwvU2Nyb2xsVmlldz5cbiAgICApO1xuICB9XG59XG5cbmNvbnN0IHN0eWxlcyA9IFN0eWxlU2hlZXQuY3JlYXRlKHtcbiAgaXRlbToge1xuICAgIGJhY2tncm91bmRDb2xvcjogXCIjZmZmZmZmXCIsXG4gICAgbWFyZ2luOiA0LFxuICAgIHNoYWRvd0NvbG9yOiBcIiMwMDAwMDBcIixcbiAgICBzaGFkb3dPcGFjaXR5OiAwLjgsXG4gICAgc2hhZG93UmFkaXVzOiAyLFxuICAgIHNoYWRvd09mZnNldDoge1xuICAgICAgaGVpZ2h0OiAxLFxuICAgICAgd2lkdGg6IDFcbiAgICB9LFxuICAgIGVsZXZhdGlvbjogNFxuICB9LFxuICBpdGVtMjoge1xuICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAganVzdGlmeUNvbnRlbnQ6ICdjZW50ZXInLFxuICAgIGJhY2tncm91bmRDb2xvcjogXCIjZmZmZmZmXCIsXG4gICAgZmxleEdyb3c6IDEsXG4gICAgbWFyZ2luOiA0LFxuICAgIHBhZGRpbmc6IDIwLFxuICAgIGJvcmRlclJhZGl1czogMTAsXG4gICAgc2hhZG93Q29sb3I6IFwiIzAwMDAwMFwiLFxuICAgIHNoYWRvd09wYWNpdHk6IDAuOCxcbiAgICBzaGFkb3dSYWRpdXM6IDIsXG4gICAgc2hhZG93T2Zmc2V0OiB7XG4gICAgICBoZWlnaHQ6IDEsXG4gICAgICB3aWR0aDogMVxuICAgIH0sXG4gICAgZWxldmF0aW9uOiA0XG4gIH0sXG4gIHRleHQ6IHtcbiAgICBjb2xvcjogXCIjNTQwYjcxXCIsXG4gICAgZm9udFdlaWdodDogJzEwMCdcbiAgfSxcbiAgdGV4dDE6IHtcbiAgICBjb2xvcjogXCIjNTQwYjcxXCIsXG4gICAgZm9udFdlaWdodDogJ2JvbGQnLFxuICB9XG59KTtcbiJdfQ==