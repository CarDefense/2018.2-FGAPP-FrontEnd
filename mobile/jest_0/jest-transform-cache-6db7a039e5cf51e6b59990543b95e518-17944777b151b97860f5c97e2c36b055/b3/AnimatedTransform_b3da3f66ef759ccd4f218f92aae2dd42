4046b123c4f42c470eea6fdaac41dac9
'use strict';var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _get=function get(object,property,receiver){if(object===null)object=Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc===undefined){var parent=Object.getPrototypeOf(object);if(parent===null){return undefined;}else{return get(parent,property,receiver);}}else if("value"in desc){return desc.value;}else{var getter=desc.get;if(getter===undefined){return undefined;}return getter.call(receiver);}};function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var AnimatedNode=require('./AnimatedNode');var AnimatedWithChildren=require('./AnimatedWithChildren');var NativeAnimatedHelper=require('../NativeAnimatedHelper');var AnimatedTransform=function(_AnimatedWithChildren){_inherits(AnimatedTransform,_AnimatedWithChildren);function AnimatedTransform(transforms){_classCallCheck(this,AnimatedTransform);var _this=_possibleConstructorReturn(this,(AnimatedTransform.__proto__||Object.getPrototypeOf(AnimatedTransform)).call(this));_this._transforms=transforms;return _this;}_createClass(AnimatedTransform,[{key:'__makeNative',value:function __makeNative(){_get(AnimatedTransform.prototype.__proto__||Object.getPrototypeOf(AnimatedTransform.prototype),'__makeNative',this).call(this);this._transforms.forEach(function(transform){for(var key in transform){var value=transform[key];if(value instanceof AnimatedNode){value.__makeNative();}}});}},{key:'__getValue',value:function __getValue(){return this._transforms.map(function(transform){var result={};for(var key in transform){var value=transform[key];if(value instanceof AnimatedNode){result[key]=value.__getValue();}else{result[key]=value;}}return result;});}},{key:'__getAnimatedValue',value:function __getAnimatedValue(){return this._transforms.map(function(transform){var result={};for(var key in transform){var value=transform[key];if(value instanceof AnimatedNode){result[key]=value.__getAnimatedValue();}else{result[key]=value;}}return result;});}},{key:'__attach',value:function __attach(){var _this2=this;this._transforms.forEach(function(transform){for(var key in transform){var value=transform[key];if(value instanceof AnimatedNode){value.__addChild(_this2);}}});}},{key:'__detach',value:function __detach(){var _this3=this;this._transforms.forEach(function(transform){for(var key in transform){var value=transform[key];if(value instanceof AnimatedNode){value.__removeChild(_this3);}}});_get(AnimatedTransform.prototype.__proto__||Object.getPrototypeOf(AnimatedTransform.prototype),'__detach',this).call(this);}},{key:'__getNativeConfig',value:function __getNativeConfig(){var transConfigs=[];this._transforms.forEach(function(transform){for(var key in transform){var value=transform[key];if(value instanceof AnimatedNode){transConfigs.push({type:'animated',property:key,nodeTag:value.__getNativeTag()});}else{transConfigs.push({type:'static',property:key,value:value});}}});NativeAnimatedHelper.validateTransform(transConfigs);return{type:'transform',transforms:transConfigs};}}]);return AnimatedTransform;}(AnimatedWithChildren);module.exports=AnimatedTransform;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkFuaW1hdGVkVHJhbnNmb3JtLmpzIl0sIm5hbWVzIjpbIkFuaW1hdGVkTm9kZSIsInJlcXVpcmUiLCJBbmltYXRlZFdpdGhDaGlsZHJlbiIsIk5hdGl2ZUFuaW1hdGVkSGVscGVyIiwiQW5pbWF0ZWRUcmFuc2Zvcm0iLCJ0cmFuc2Zvcm1zIiwiX3RyYW5zZm9ybXMiLCJmb3JFYWNoIiwia2V5IiwidHJhbnNmb3JtIiwidmFsdWUiLCJfX21ha2VOYXRpdmUiLCJtYXAiLCJyZXN1bHQiLCJfX2dldFZhbHVlIiwiX19nZXRBbmltYXRlZFZhbHVlIiwiX19hZGRDaGlsZCIsIl9fcmVtb3ZlQ2hpbGQiLCJ0cmFuc0NvbmZpZ3MiLCJwdXNoIiwidHlwZSIsInByb3BlcnR5Iiwibm9kZVRhZyIsIl9fZ2V0TmF0aXZlVGFnIiwidmFsaWRhdGVUcmFuc2Zvcm0iLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiQUFVQSxhLDR0REFFQSxHQUFNQSxjQUFlQyxRQUFRLGdCQUFSLENBQXJCLENBQ0EsR0FBTUMsc0JBQXVCRCxRQUFRLHdCQUFSLENBQTdCLENBQ0EsR0FBTUUsc0JBQXVCRixRQUFRLHlCQUFSLENBQTdCLEMsR0FFTUcsa0Isb0ZBR0osMkJBQVlDLFVBQVosQ0FBZ0QsdUtBRTlDLE1BQUtDLFdBQUwsQ0FBbUJELFVBQW5CLENBRjhDLGFBRy9DLEMsaUZBRWMsQ0FDYiwrSEFDQSxLQUFLQyxXQUFMLENBQWlCQyxPQUFqQixDQUF5QixtQkFBYSxDQUNwQyxJQUFLLEdBQU1DLElBQVgsR0FBa0JDLFVBQWxCLENBQTZCLENBQzNCLEdBQU1DLE9BQVFELFVBQVVELEdBQVYsQ0FBZCxDQUNBLEdBQUlFLGdCQUFpQlYsYUFBckIsQ0FBbUMsQ0FDakNVLE1BQU1DLFlBQU4sR0FDRCxDQUNGLENBQ0YsQ0FQRCxFQVFELEMsK0NBRW9DLENBQ25DLE1BQU8sTUFBS0wsV0FBTCxDQUFpQk0sR0FBakIsQ0FBcUIsbUJBQWEsQ0FDdkMsR0FBTUMsUUFBUyxFQUFmLENBQ0EsSUFBSyxHQUFNTCxJQUFYLEdBQWtCQyxVQUFsQixDQUE2QixDQUMzQixHQUFNQyxPQUFRRCxVQUFVRCxHQUFWLENBQWQsQ0FDQSxHQUFJRSxnQkFBaUJWLGFBQXJCLENBQW1DLENBQ2pDYSxPQUFPTCxHQUFQLEVBQWNFLE1BQU1JLFVBQU4sRUFBZCxDQUNELENBRkQsSUFFTyxDQUNMRCxPQUFPTCxHQUFQLEVBQWNFLEtBQWQsQ0FDRCxDQUNGLENBQ0QsTUFBT0csT0FBUCxDQUNELENBWE0sQ0FBUCxDQVlELEMsK0RBRTRDLENBQzNDLE1BQU8sTUFBS1AsV0FBTCxDQUFpQk0sR0FBakIsQ0FBcUIsbUJBQWEsQ0FDdkMsR0FBTUMsUUFBUyxFQUFmLENBQ0EsSUFBSyxHQUFNTCxJQUFYLEdBQWtCQyxVQUFsQixDQUE2QixDQUMzQixHQUFNQyxPQUFRRCxVQUFVRCxHQUFWLENBQWQsQ0FDQSxHQUFJRSxnQkFBaUJWLGFBQXJCLENBQW1DLENBQ2pDYSxPQUFPTCxHQUFQLEVBQWNFLE1BQU1LLGtCQUFOLEVBQWQsQ0FDRCxDQUZELElBRU8sQ0FFTEYsT0FBT0wsR0FBUCxFQUFjRSxLQUFkLENBQ0QsQ0FDRixDQUNELE1BQU9HLE9BQVAsQ0FDRCxDQVpNLENBQVAsQ0FhRCxDLDJDQUVnQixpQkFDZixLQUFLUCxXQUFMLENBQWlCQyxPQUFqQixDQUF5QixtQkFBYSxDQUNwQyxJQUFLLEdBQU1DLElBQVgsR0FBa0JDLFVBQWxCLENBQTZCLENBQzNCLEdBQU1DLE9BQVFELFVBQVVELEdBQVYsQ0FBZCxDQUNBLEdBQUlFLGdCQUFpQlYsYUFBckIsQ0FBbUMsQ0FDakNVLE1BQU1NLFVBQU4sQ0FBaUIsTUFBakIsRUFDRCxDQUNGLENBQ0YsQ0FQRCxFQVFELEMsMkNBRWdCLGlCQUNmLEtBQUtWLFdBQUwsQ0FBaUJDLE9BQWpCLENBQXlCLG1CQUFhLENBQ3BDLElBQUssR0FBTUMsSUFBWCxHQUFrQkMsVUFBbEIsQ0FBNkIsQ0FDM0IsR0FBTUMsT0FBUUQsVUFBVUQsR0FBVixDQUFkLENBQ0EsR0FBSUUsZ0JBQWlCVixhQUFyQixDQUFtQyxDQUNqQ1UsTUFBTU8sYUFBTixDQUFvQixNQUFwQixFQUNELENBQ0YsQ0FDRixDQVBELEVBUUEsMkhBQ0QsQyw2REFFd0IsQ0FDdkIsR0FBTUMsY0FBZSxFQUFyQixDQUVBLEtBQUtaLFdBQUwsQ0FBaUJDLE9BQWpCLENBQXlCLG1CQUFhLENBQ3BDLElBQUssR0FBTUMsSUFBWCxHQUFrQkMsVUFBbEIsQ0FBNkIsQ0FDM0IsR0FBTUMsT0FBUUQsVUFBVUQsR0FBVixDQUFkLENBQ0EsR0FBSUUsZ0JBQWlCVixhQUFyQixDQUFtQyxDQUNqQ2tCLGFBQWFDLElBQWIsQ0FBa0IsQ0FDaEJDLEtBQU0sVUFEVSxDQUVoQkMsU0FBVWIsR0FGTSxDQUdoQmMsUUFBU1osTUFBTWEsY0FBTixFQUhPLENBQWxCLEVBS0QsQ0FORCxJQU1PLENBQ0xMLGFBQWFDLElBQWIsQ0FBa0IsQ0FDaEJDLEtBQU0sUUFEVSxDQUVoQkMsU0FBVWIsR0FGTSxDQUdoQkUsV0FIZ0IsQ0FBbEIsRUFLRCxDQUNGLENBQ0YsQ0FqQkQsRUFtQkFQLHFCQUFxQnFCLGlCQUFyQixDQUF1Q04sWUFBdkMsRUFDQSxNQUFPLENBQ0xFLEtBQU0sV0FERCxDQUVMZixXQUFZYSxZQUZQLENBQVAsQ0FJRCxDLCtCQXJHNkJoQixvQixFQXdHaEN1QixPQUFPQyxPQUFQLENBQWlCdEIsaUJBQWpCIiwiZmlsZSI6IkFuaW1hdGVkVHJhbnNmb3JtLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTUtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUgQW5pbWF0ZWRUcmFuc2Zvcm1cbiAqIEBmbG93XG4gKiBAZm9ybWF0XG4gKi9cbid1c2Ugc3RyaWN0JztcblxuY29uc3QgQW5pbWF0ZWROb2RlID0gcmVxdWlyZSgnLi9BbmltYXRlZE5vZGUnKTtcbmNvbnN0IEFuaW1hdGVkV2l0aENoaWxkcmVuID0gcmVxdWlyZSgnLi9BbmltYXRlZFdpdGhDaGlsZHJlbicpO1xuY29uc3QgTmF0aXZlQW5pbWF0ZWRIZWxwZXIgPSByZXF1aXJlKCcuLi9OYXRpdmVBbmltYXRlZEhlbHBlcicpO1xuXG5jbGFzcyBBbmltYXRlZFRyYW5zZm9ybSBleHRlbmRzIEFuaW1hdGVkV2l0aENoaWxkcmVuIHtcbiAgX3RyYW5zZm9ybXM6ICRSZWFkT25seUFycmF5PE9iamVjdD47XG5cbiAgY29uc3RydWN0b3IodHJhbnNmb3JtczogJFJlYWRPbmx5QXJyYXk8T2JqZWN0Pikge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5fdHJhbnNmb3JtcyA9IHRyYW5zZm9ybXM7XG4gIH1cblxuICBfX21ha2VOYXRpdmUoKSB7XG4gICAgc3VwZXIuX19tYWtlTmF0aXZlKCk7XG4gICAgdGhpcy5fdHJhbnNmb3Jtcy5mb3JFYWNoKHRyYW5zZm9ybSA9PiB7XG4gICAgICBmb3IgKGNvbnN0IGtleSBpbiB0cmFuc2Zvcm0pIHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSB0cmFuc2Zvcm1ba2V5XTtcbiAgICAgICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgQW5pbWF0ZWROb2RlKSB7XG4gICAgICAgICAgdmFsdWUuX19tYWtlTmF0aXZlKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIF9fZ2V0VmFsdWUoKTogJFJlYWRPbmx5QXJyYXk8T2JqZWN0PiB7XG4gICAgcmV0dXJuIHRoaXMuX3RyYW5zZm9ybXMubWFwKHRyYW5zZm9ybSA9PiB7XG4gICAgICBjb25zdCByZXN1bHQgPSB7fTtcbiAgICAgIGZvciAoY29uc3Qga2V5IGluIHRyYW5zZm9ybSkge1xuICAgICAgICBjb25zdCB2YWx1ZSA9IHRyYW5zZm9ybVtrZXldO1xuICAgICAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBBbmltYXRlZE5vZGUpIHtcbiAgICAgICAgICByZXN1bHRba2V5XSA9IHZhbHVlLl9fZ2V0VmFsdWUoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXN1bHRba2V5XSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0pO1xuICB9XG5cbiAgX19nZXRBbmltYXRlZFZhbHVlKCk6ICRSZWFkT25seUFycmF5PE9iamVjdD4ge1xuICAgIHJldHVybiB0aGlzLl90cmFuc2Zvcm1zLm1hcCh0cmFuc2Zvcm0gPT4ge1xuICAgICAgY29uc3QgcmVzdWx0ID0ge307XG4gICAgICBmb3IgKGNvbnN0IGtleSBpbiB0cmFuc2Zvcm0pIHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSB0cmFuc2Zvcm1ba2V5XTtcbiAgICAgICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgQW5pbWF0ZWROb2RlKSB7XG4gICAgICAgICAgcmVzdWx0W2tleV0gPSB2YWx1ZS5fX2dldEFuaW1hdGVkVmFsdWUoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBBbGwgdHJhbnNmb3JtIGNvbXBvbmVudHMgbmVlZGVkIHRvIHJlY29tcG9zZSBtYXRyaXhcbiAgICAgICAgICByZXN1bHRba2V5XSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0pO1xuICB9XG5cbiAgX19hdHRhY2goKTogdm9pZCB7XG4gICAgdGhpcy5fdHJhbnNmb3Jtcy5mb3JFYWNoKHRyYW5zZm9ybSA9PiB7XG4gICAgICBmb3IgKGNvbnN0IGtleSBpbiB0cmFuc2Zvcm0pIHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSB0cmFuc2Zvcm1ba2V5XTtcbiAgICAgICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgQW5pbWF0ZWROb2RlKSB7XG4gICAgICAgICAgdmFsdWUuX19hZGRDaGlsZCh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgX19kZXRhY2goKTogdm9pZCB7XG4gICAgdGhpcy5fdHJhbnNmb3Jtcy5mb3JFYWNoKHRyYW5zZm9ybSA9PiB7XG4gICAgICBmb3IgKGNvbnN0IGtleSBpbiB0cmFuc2Zvcm0pIHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSB0cmFuc2Zvcm1ba2V5XTtcbiAgICAgICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgQW5pbWF0ZWROb2RlKSB7XG4gICAgICAgICAgdmFsdWUuX19yZW1vdmVDaGlsZCh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICAgIHN1cGVyLl9fZGV0YWNoKCk7XG4gIH1cblxuICBfX2dldE5hdGl2ZUNvbmZpZygpOiBhbnkge1xuICAgIGNvbnN0IHRyYW5zQ29uZmlncyA9IFtdO1xuXG4gICAgdGhpcy5fdHJhbnNmb3Jtcy5mb3JFYWNoKHRyYW5zZm9ybSA9PiB7XG4gICAgICBmb3IgKGNvbnN0IGtleSBpbiB0cmFuc2Zvcm0pIHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSB0cmFuc2Zvcm1ba2V5XTtcbiAgICAgICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgQW5pbWF0ZWROb2RlKSB7XG4gICAgICAgICAgdHJhbnNDb25maWdzLnB1c2goe1xuICAgICAgICAgICAgdHlwZTogJ2FuaW1hdGVkJyxcbiAgICAgICAgICAgIHByb3BlcnR5OiBrZXksXG4gICAgICAgICAgICBub2RlVGFnOiB2YWx1ZS5fX2dldE5hdGl2ZVRhZygpLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRyYW5zQ29uZmlncy5wdXNoKHtcbiAgICAgICAgICAgIHR5cGU6ICdzdGF0aWMnLFxuICAgICAgICAgICAgcHJvcGVydHk6IGtleSxcbiAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBOYXRpdmVBbmltYXRlZEhlbHBlci52YWxpZGF0ZVRyYW5zZm9ybSh0cmFuc0NvbmZpZ3MpO1xuICAgIHJldHVybiB7XG4gICAgICB0eXBlOiAndHJhbnNmb3JtJyxcbiAgICAgIHRyYW5zZm9ybXM6IHRyYW5zQ29uZmlncyxcbiAgICB9O1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gQW5pbWF0ZWRUcmFuc2Zvcm07XG4iXX0=