bf59660196bcb2d722719ffed620bd81
'use strict';var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}var Map=require('Map');var _shouldPolyfillES6Collection=require('_shouldPolyfillES6Collection');var toIterator=require('toIterator');module.exports=function(global){if(!_shouldPolyfillES6Collection('Set')){return global.Set;}var Set=function(){function Set(iterable){_classCallCheck(this,Set);if(this==null||typeof this!=='object'&&typeof this!=='function'){throw new TypeError('Wrong set object type.');}initSet(this);if(iterable!=null){var it=toIterator(iterable);var next;while(!(next=it.next()).done){this.add(next.value);}}}_createClass(Set,[{key:'add',value:function add(value){this._map.set(value,value);this.size=this._map.size;return this;}},{key:'clear',value:function clear(){initSet(this);}},{key:'delete',value:function _delete(value){var ret=this._map.delete(value);this.size=this._map.size;return ret;}},{key:'entries',value:function entries(){return this._map.entries();}},{key:'forEach',value:function forEach(callback){var thisArg=arguments[1];var it=this._map.keys();var next;while(!(next=it.next()).done){callback.call(thisArg,next.value,next.value,this);}}},{key:'has',value:function has(value){return this._map.has(value);}},{key:'values',value:function values(){return this._map.values();}}]);return Set;}();Set.prototype[toIterator.ITERATOR_SYMBOL]=Set.prototype.values;Set.prototype.keys=Set.prototype.values;function initSet(set){set._map=new Map();set.size=set._map.size;}return Set;}(Function('return this')());
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlNldC5qcyJdLCJuYW1lcyI6WyJNYXAiLCJyZXF1aXJlIiwiX3Nob3VsZFBvbHlmaWxsRVM2Q29sbGVjdGlvbiIsInRvSXRlcmF0b3IiLCJtb2R1bGUiLCJleHBvcnRzIiwiZ2xvYmFsIiwiU2V0IiwiaXRlcmFibGUiLCJUeXBlRXJyb3IiLCJpbml0U2V0IiwiaXQiLCJuZXh0IiwiZG9uZSIsImFkZCIsInZhbHVlIiwiX21hcCIsInNldCIsInNpemUiLCJyZXQiLCJkZWxldGUiLCJlbnRyaWVzIiwiY2FsbGJhY2siLCJ0aGlzQXJnIiwiYXJndW1lbnRzIiwia2V5cyIsImNhbGwiLCJoYXMiLCJ2YWx1ZXMiLCJwcm90b3R5cGUiLCJJVEVSQVRPUl9TWU1CT0wiLCJGdW5jdGlvbiJdLCJtYXBwaW5ncyI6IkFBYUEsYSwrb0JBRUEsR0FBSUEsS0FBTUMsT0FBTixPQUFKLENBRUEsR0FBSUMsOEJBQStCRCxPQUEvQixnQ0FBSixDQUNBLEdBQUlFLFlBQWFGLE9BQWIsY0FBSixDQUVBRyxPQUFPQyxPQUFQLENBQWtCLFNBQVNDLE1BQVQsQ0FBaUIsQ0FNakMsR0FBSSxDQUFDSiw2QkFBNkIsS0FBN0IsQ0FBTCxDQUEwQyxDQUN4QyxNQUFPSSxRQUFPQyxHQUFkLENBQ0QsQ0FSZ0MsR0FtRDNCQSxJQW5EMkIsWUE4RC9CLGFBQVlDLFFBQVosQ0FBc0IsMkJBQ3BCLEdBQUksTUFBUSxJQUFSLEVBQ0MsTUFBTyxLQUFQLEdBQWdCLFFBQWhCLEVBQTRCLE1BQU8sS0FBUCxHQUFnQixVQURqRCxDQUM4RCxDQUM1RCxLQUFNLElBQUlDLFVBQUosQ0FBYyx3QkFBZCxDQUFOLENBQ0QsQ0FFREMsUUFBUSxJQUFSLEVBRUEsR0FBSUYsVUFBWSxJQUFoQixDQUFzQixDQUNwQixHQUFJRyxJQUFLUixXQUFXSyxRQUFYLENBQVQsQ0FDQSxHQUFJSSxLQUFKLENBQ0EsTUFBTyxDQUFDLENBQUNBLEtBQU9ELEdBQUdDLElBQUgsRUFBUixFQUFtQkMsSUFBM0IsQ0FBaUMsQ0FDL0IsS0FBS0MsR0FBTCxDQUFTRixLQUFLRyxLQUFkLEVBQ0QsQ0FDRixDQUNGLENBN0U4QixnREF1RjNCQSxLQXZGMkIsQ0F1RnBCLENBQ1QsS0FBS0MsSUFBTCxDQUFVQyxHQUFWLENBQWNGLEtBQWQsQ0FBcUJBLEtBQXJCLEVBQ0EsS0FBS0csSUFBTCxDQUFZLEtBQUtGLElBQUwsQ0FBVUUsSUFBdEIsQ0FDQSxNQUFPLEtBQVAsQ0FDRCxDQTNGOEIscUNBa0d2QixDQUNOUixRQUFRLElBQVIsRUFDRCxDQXBHOEIsdUNBK0d4QkssS0EvR3dCLENBK0dqQixDQUNaLEdBQUlJLEtBQU0sS0FBS0gsSUFBTCxDQUFVSSxNQUFWLENBQWlCTCxLQUFqQixDQUFWLENBQ0EsS0FBS0csSUFBTCxDQUFZLEtBQUtGLElBQUwsQ0FBVUUsSUFBdEIsQ0FDQSxNQUFPQyxJQUFQLENBQ0QsQ0FuSDhCLHlDQTBIckIsQ0FDUixNQUFPLE1BQUtILElBQUwsQ0FBVUssT0FBVixFQUFQLENBQ0QsQ0E1SDhCLHdDQXFJdkJDLFFBckl1QixDQXFJYixDQUNoQixHQUFJQyxTQUFVQyxVQUFVLENBQVYsQ0FBZCxDQUNBLEdBQUliLElBQUssS0FBS0ssSUFBTCxDQUFVUyxJQUFWLEVBQVQsQ0FDQSxHQUFJYixLQUFKLENBQ0EsTUFBTyxDQUFDLENBQUNBLEtBQU9ELEdBQUdDLElBQUgsRUFBUixFQUFtQkMsSUFBM0IsQ0FBaUMsQ0FDL0JTLFNBQVNJLElBQVQsQ0FBY0gsT0FBZCxDQUF1QlgsS0FBS0csS0FBNUIsQ0FBbUNILEtBQUtHLEtBQXhDLENBQStDLElBQS9DLEVBQ0QsQ0FDRixDQTVJOEIsZ0NBc0ozQkEsS0F0SjJCLENBc0pwQixDQUNULE1BQU8sTUFBS0MsSUFBTCxDQUFVVyxHQUFWLENBQWNaLEtBQWQsQ0FBUCxDQUNELENBeEo4Qix1Q0ErSnRCLENBQ1AsTUFBTyxNQUFLQyxJQUFMLENBQVVZLE1BQVYsRUFBUCxDQUNELENBaks4QixtQkFxS2pDckIsSUFBSXNCLFNBQUosQ0FBYzFCLFdBQVcyQixlQUF6QixFQUE0Q3ZCLElBQUlzQixTQUFKLENBQWNELE1BQTFELENBR0FyQixJQUFJc0IsU0FBSixDQUFjSixJQUFkLENBQXFCbEIsSUFBSXNCLFNBQUosQ0FBY0QsTUFBbkMsQ0FFQSxRQUFTbEIsUUFBVCxDQUFpQk8sR0FBakIsQ0FBc0IsQ0FDcEJBLElBQUlELElBQUosQ0FBVyxHQUFJaEIsSUFBSixFQUFYLENBQ0FpQixJQUFJQyxJQUFKLENBQVdELElBQUlELElBQUosQ0FBU0UsSUFBcEIsQ0FDRCxDQUVELE1BQU9YLElBQVAsQ0FDRCxDQWhMZ0IsQ0FnTGR3QixTQUFTLGFBQVQsR0FoTGMsQ0FBakIiLCJmaWxlIjoiU2V0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTUtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUgU2V0XG4gKiBAcHJldmVudE11bmdlXG4gKiBAdHlwZWNoZWNrc1xuICovXG5cbi8qIGVzbGludC1kaXNhYmxlIG5vLWV4dGVuZC1uYXRpdmUgKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgTWFwID0gcmVxdWlyZSgnTWFwJyk7XG5cbnZhciBfc2hvdWxkUG9seWZpbGxFUzZDb2xsZWN0aW9uID0gcmVxdWlyZSgnX3Nob3VsZFBvbHlmaWxsRVM2Q29sbGVjdGlvbicpO1xudmFyIHRvSXRlcmF0b3IgPSByZXF1aXJlKCd0b0l0ZXJhdG9yJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gKGZ1bmN0aW9uKGdsb2JhbCkge1xuICAvLyBTaW5jZSBvdXIgaW1wbGVtZW50YXRpb24gaXMgc3BlYy1jb21wbGlhbnQgZm9yIHRoZSBtb3N0IHBhcnQgd2UgY2FuIHNhZmVseVxuICAvLyBkZWxlZ2F0ZSB0byBhIGJ1aWx0LWluIHZlcnNpb24gaWYgZXhpc3RzIGFuZCBpcyBpbXBsZW1lbnRlZCBjb3JyZWN0bHkuXG4gIC8vIEZpcmVmb3ggaGFkIGdvdHRlbiBhIGZldyBpbXBsZW1lbnRhdGlvbiBkZXRhaWxzIHdyb25nIGFjcm9zcyBkaWZmZXJlbnRcbiAgLy8gdmVyc2lvbnMgc28gd2UgZ3VhcmQgYWdhaW5zdCB0aGF0LlxuICAvLyBUaGVzZSBjaGVja3MgYXJlIGFkYXB0ZWQgZnJvbSBlczYtc2hpbSBodHRwczovL2ZidXJsLmNvbS8zNDQzNzg1NFxuICBpZiAoIV9zaG91bGRQb2x5ZmlsbEVTNkNvbGxlY3Rpb24oJ1NldCcpKSB7XG4gICAgcmV0dXJuIGdsb2JhbC5TZXQ7XG4gIH1cblxuICAvKipcbiAgICogPT0gRVM2IFNldCBDb2xsZWN0aW9uID09XG4gICAqXG4gICAqIFRoaXMgbW9kdWxlIGlzIG1lYW50IHRvIGltcGxlbWVudCBhIFNldCBjb2xsZWN0aW9uIGFzIGRlc2NyaWJlZCBpbiBjaGFwdGVyXG4gICAqIDIzLjIgb2YgdGhlIEVTNiBzcGVjaWZpY2F0aW9uLlxuICAgKlxuICAgKiBTZXQgb2JqZWN0cyBhcmUgY29sbGVjdGlvbnMgb2YgdW5pcXVlIHZhbHVlcy4gV2hlcmUgdmFsdWVzIGNhbiBiZSBhbnlcbiAgICogSmF2YVNjcmlwdCB2YWx1ZS5cbiAgICogaHR0cHM6Ly9wZW9wbGUubW96aWxsYS5vcmcvfmpvcmVuZG9yZmYvZXM2LWRyYWZ0Lmh0bWwjc2VjLW1hcC1vYmplY3RzXG4gICAqXG4gICAqIFRoZXJlIG9ubHkgdHdvIC0tIHJhdGhlciBzbWFsbCAtLSBkaXZpYXRpb25zIGZyb20gdGhlIHNwZWM6XG4gICAqXG4gICAqIDEuIFRoZSB1c2Ugb2YgZnJvemVuIG9iamVjdHMgYXMga2V5cy4gQHNlZSBNYXAgbW9kdWxlIGZvciBtb3JlIG9uIHRoaXMuXG4gICAqXG4gICAqIDIuIFRoZSBgc2l6ZWAgcHJvcGVydHkgb24gYSBtYXAgb2JqZWN0IGlzIGEgcmVndWxhciBwcm9wZXJ0eSBhbmQgbm90IGFcbiAgICogICAgY29tcHV0ZWQgcHJvcGVydHkgb24gdGhlIHByb3RvdHlwZSBhcyBkZXNjcmliZWQgYnkgdGhlIHNwZWMuXG4gICAqICAgIFRoZSByZWFzb24gYmVpbmcgaXMgdGhhdCB3ZSBzaW1wbHkgd2FudCB0byBzdXBwb3J0IEVTMyBlbnZpcm9ubWVudHNcbiAgICogICAgd2hpY2ggZG9lc24ndCBpbXBsZW1lbnQgY29tcHV0ZWQgcHJvcGVydGllcy5cbiAgICpcbiAgICogPT0gVXNhZ2UgPT1cbiAgICpcbiAgICogdmFyIHNldCA9IG5ldyBzZXQoaXRlcmFibGUpO1xuICAgKlxuICAgKiBzZXQuc2V0KHZhbHVlKTtcbiAgICogc2V0Lmhhcyh2YWx1ZSk7IC8vIHRydWVcbiAgICogc2V0LmRlbGV0ZSh2YWx1ZSk7IC8vIHRydWVcbiAgICpcbiAgICogdmFyIGl0ZXJhdG9yID0gc2V0LmtleXMoKTtcbiAgICogaXRlcmF0b3IubmV4dCgpOyAvLyB7dmFsdWU6IHZhbHVlLCBkb25lOiBmYWxzZX1cbiAgICpcbiAgICogdmFyIGl0ZXJhdG9yID0gc2V0LnZhbHVlcygpO1xuICAgKiBpdGVyYXRvci5uZXh0KCk7IC8vIHt2YWx1ZTogdmFsdWUsIGRvbmU6IGZhbHNlfVxuICAgKlxuICAgKiB2YXIgaXRlcmF0b3IgPSBzZXQuZW50cmllcygpO1xuICAgKiBpdGVyYXRvci5uZXh0KCk7IC8vIHt2YWx1ZTogW3ZhbHVlLCB2YWx1ZV0sIGRvbmU6IGZhbHNlfVxuICAgKlxuICAgKiBzZXQuZm9yRWFjaChmdW5jdGlvbih2YWx1ZSwgdmFsdWUpeyB0aGlzID09PSB0aGlzQXJnIH0sIHRoaXNBcmcpO1xuICAgKlxuICAgKiBzZXQuY2xlYXIoKTsgLy8gcmVzZXRzIHNldC5cbiAgICovXG5cbiAgY2xhc3MgU2V0IHtcblxuICAgIC8qKlxuICAgICAqIDIzLjIuMS4xXG4gICAgICpcbiAgICAgKiBUYWtlcyBhbiBvcHRpb25hbCBgaXRlcmFibGVgICh3aGljaCBpcyBiYXNpY2FsbHkgYW55IG9iamVjdCB0aGF0XG4gICAgICogaW1wbGVtZW50cyBhIFN5bWJvbC5pdGVyYXRvciAoQEBpdGVyYXRvcikgbWV0aG9kKS4gVGhhdCBpcyBhIGNvbGxlY3Rpb25cbiAgICAgKiBvZiB2YWx1ZXMgdXNlZCB0byBpbnN0YW50aWF0ZSB0aGUgc2V0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHsqfSBpdGVyYWJsZVxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGl0ZXJhYmxlKSB7XG4gICAgICBpZiAodGhpcyA9PSBudWxsIHx8XG4gICAgICAgICAgKHR5cGVvZiB0aGlzICE9PSAnb2JqZWN0JyAmJiB0eXBlb2YgdGhpcyAhPT0gJ2Z1bmN0aW9uJykpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignV3Jvbmcgc2V0IG9iamVjdCB0eXBlLicpO1xuICAgICAgfVxuXG4gICAgICBpbml0U2V0KHRoaXMpO1xuXG4gICAgICBpZiAoaXRlcmFibGUgIT0gbnVsbCkge1xuICAgICAgICB2YXIgaXQgPSB0b0l0ZXJhdG9yKGl0ZXJhYmxlKTtcbiAgICAgICAgdmFyIG5leHQ7XG4gICAgICAgIHdoaWxlICghKG5leHQgPSBpdC5uZXh0KCkpLmRvbmUpIHtcbiAgICAgICAgICB0aGlzLmFkZChuZXh0LnZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIDIzLjIuMy4xXG4gICAgICpcbiAgICAgKiBJZiBpdCBkb2Vzbid0IGFscmVhZHkgZXhpc3QgaW4gdGhlIGNvbGxlY3Rpb24gYSBgdmFsdWVgIGlzIGFkZGVkLlxuICAgICAqXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZVxuICAgICAqIEByZXR1cm4ge3NldH1cbiAgICAgKi9cbiAgICBhZGQodmFsdWUpIHtcbiAgICAgIHRoaXMuX21hcC5zZXQodmFsdWUsIHZhbHVlKTtcbiAgICAgIHRoaXMuc2l6ZSA9IHRoaXMuX21hcC5zaXplO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogMjMuMi4zLjJcbiAgICAgKlxuICAgICAqIENsZWFycyB0aGUgc2V0LlxuICAgICAqL1xuICAgIGNsZWFyKCkge1xuICAgICAgaW5pdFNldCh0aGlzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiAyMy4yLjMuNFxuICAgICAqXG4gICAgICogRGVsZXRlcyBhIGB2YWx1ZWAgZnJvbSB0aGUgY29sbGVjdGlvbiBpZiBpdCBleGlzdHMuXG4gICAgICogUmV0dXJucyB0cnVlIGlmIHRoZSB2YWx1ZSB3YXMgZm91bmQgYW5kIGRlbGV0ZWQgYW5kIGZhbHNlIG90aGVyd2lzZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWVcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgICAqL1xuICAgIGRlbGV0ZSh2YWx1ZSkge1xuICAgICAgdmFyIHJldCA9IHRoaXMuX21hcC5kZWxldGUodmFsdWUpO1xuICAgICAgdGhpcy5zaXplID0gdGhpcy5fbWFwLnNpemU7XG4gICAgICByZXR1cm4gcmV0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIDIzLjIuMy41XG4gICAgICpcbiAgICAgKiBSZXR1cm5zIGFuIGl0ZXJhdG9yIG92ZXIgYSBjb2xsZWN0aW9uIG9mIFt2YWx1ZSwgdmFsdWVdIHR1cGxlcy5cbiAgICAgKi9cbiAgICBlbnRyaWVzKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX21hcC5lbnRyaWVzKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogMjMuMi4zLjZcbiAgICAgKlxuICAgICAqIEl0ZXJhdGUgb3ZlciB0aGUgY29sbGVjdGlvbiBjYWxsaW5nIGBjYWxsYmFja2Agd2l0aCAodmFsdWUsIHZhbHVlLCBzZXQpLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2tcbiAgICAgKi9cbiAgICBmb3JFYWNoKGNhbGxiYWNrKSB7XG4gICAgICB2YXIgdGhpc0FyZyA9IGFyZ3VtZW50c1sxXTtcbiAgICAgIHZhciBpdCA9IHRoaXMuX21hcC5rZXlzKCk7XG4gICAgICB2YXIgbmV4dDtcbiAgICAgIHdoaWxlICghKG5leHQgPSBpdC5uZXh0KCkpLmRvbmUpIHtcbiAgICAgICAgY2FsbGJhY2suY2FsbCh0aGlzQXJnLCBuZXh0LnZhbHVlLCBuZXh0LnZhbHVlLCB0aGlzKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiAyMy4yLjMuN1xuICAgICAqXG4gICAgICogSXRlcmF0ZSBvdmVyIHRoZSBjb2xsZWN0aW9uIGNhbGxpbmcgYGNhbGxiYWNrYCB3aXRoICh2YWx1ZSwgdmFsdWUsIHNldCkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBoYXModmFsdWUpIHtcbiAgICAgIHJldHVybiB0aGlzLl9tYXAuaGFzKHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiAyMy4yLjMuN1xuICAgICAqXG4gICAgICogUmV0dXJucyBhbiBpdGVyYXRvciBvdmVyIHRoZSBjb2xsZWNpdG9uIG9mIHZhbHVlcy5cbiAgICAgKi9cbiAgICB2YWx1ZXMoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fbWFwLnZhbHVlcygpO1xuICAgIH1cbiAgfVxuXG4gIC8vIDIzLjIuMy4xMVxuICBTZXQucHJvdG90eXBlW3RvSXRlcmF0b3IuSVRFUkFUT1JfU1lNQk9MXSA9IFNldC5wcm90b3R5cGUudmFsdWVzO1xuXG4gIC8vIDIzLjIuMy43XG4gIFNldC5wcm90b3R5cGUua2V5cyA9IFNldC5wcm90b3R5cGUudmFsdWVzO1xuXG4gIGZ1bmN0aW9uIGluaXRTZXQoc2V0KSB7XG4gICAgc2V0Ll9tYXAgPSBuZXcgTWFwKCk7XG4gICAgc2V0LnNpemUgPSBzZXQuX21hcC5zaXplO1xuICB9XG5cbiAgcmV0dXJuIFNldDtcbn0pKEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCkpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLW5ldy1mdW5jXG4iXX0=