dc1b1266d93258347aab8e02b6735f54
'use strict';var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _get=function get(object,property,receiver){if(object===null)object=Function.prototype;var desc=Object.getOwnPropertyDescriptor(object,property);if(desc===undefined){var parent=Object.getPrototypeOf(object);if(parent===null){return undefined;}else{return get(parent,property,receiver);}}else if("value"in desc){return desc.value;}else{var getter=desc.get;if(getter===undefined){return undefined;}return getter.call(receiver);}};function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var AnimatedInterpolation=require('./AnimatedInterpolation');var AnimatedNode=require('./AnimatedNode');var AnimatedWithChildren=require('./AnimatedWithChildren');var AnimatedDiffClamp=function(_AnimatedWithChildren){_inherits(AnimatedDiffClamp,_AnimatedWithChildren);function AnimatedDiffClamp(a,min,max){_classCallCheck(this,AnimatedDiffClamp);var _this=_possibleConstructorReturn(this,(AnimatedDiffClamp.__proto__||Object.getPrototypeOf(AnimatedDiffClamp)).call(this));_this._a=a;_this._min=min;_this._max=max;_this._value=_this._lastValue=_this._a.__getValue();return _this;}_createClass(AnimatedDiffClamp,[{key:'__makeNative',value:function __makeNative(){this._a.__makeNative();_get(AnimatedDiffClamp.prototype.__proto__||Object.getPrototypeOf(AnimatedDiffClamp.prototype),'__makeNative',this).call(this);}},{key:'interpolate',value:function interpolate(config){return new AnimatedInterpolation(this,config);}},{key:'__getValue',value:function __getValue(){var value=this._a.__getValue();var diff=value-this._lastValue;this._lastValue=value;this._value=Math.min(Math.max(this._value+diff,this._min),this._max);return this._value;}},{key:'__attach',value:function __attach(){this._a.__addChild(this);}},{key:'__detach',value:function __detach(){this._a.__removeChild(this);_get(AnimatedDiffClamp.prototype.__proto__||Object.getPrototypeOf(AnimatedDiffClamp.prototype),'__detach',this).call(this);}},{key:'__getNativeConfig',value:function __getNativeConfig(){return{type:'diffclamp',input:this._a.__getNativeTag(),min:this._min,max:this._max};}}]);return AnimatedDiffClamp;}(AnimatedWithChildren);module.exports=AnimatedDiffClamp;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkFuaW1hdGVkRGlmZkNsYW1wLmpzIl0sIm5hbWVzIjpbIkFuaW1hdGVkSW50ZXJwb2xhdGlvbiIsInJlcXVpcmUiLCJBbmltYXRlZE5vZGUiLCJBbmltYXRlZFdpdGhDaGlsZHJlbiIsIkFuaW1hdGVkRGlmZkNsYW1wIiwiYSIsIm1pbiIsIm1heCIsIl9hIiwiX21pbiIsIl9tYXgiLCJfdmFsdWUiLCJfbGFzdFZhbHVlIiwiX19nZXRWYWx1ZSIsIl9fbWFrZU5hdGl2ZSIsImNvbmZpZyIsInZhbHVlIiwiZGlmZiIsIk1hdGgiLCJfX2FkZENoaWxkIiwiX19yZW1vdmVDaGlsZCIsInR5cGUiLCJpbnB1dCIsIl9fZ2V0TmF0aXZlVGFnIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6IkFBVUEsYSw0dERBRUEsR0FBTUEsdUJBQXdCQyxRQUFRLHlCQUFSLENBQTlCLENBQ0EsR0FBTUMsY0FBZUQsUUFBUSxnQkFBUixDQUFyQixDQUNBLEdBQU1FLHNCQUF1QkYsUUFBUSx3QkFBUixDQUE3QixDLEdBSU1HLGtCLG9GQU9KLDJCQUFZQyxDQUFaLENBQTZCQyxHQUE3QixDQUEwQ0MsR0FBMUMsQ0FBdUQsdUtBR3JELE1BQUtDLEVBQUwsQ0FBVUgsQ0FBVixDQUNBLE1BQUtJLElBQUwsQ0FBWUgsR0FBWixDQUNBLE1BQUtJLElBQUwsQ0FBWUgsR0FBWixDQUNBLE1BQUtJLE1BQUwsQ0FBYyxNQUFLQyxVQUFMLENBQWtCLE1BQUtKLEVBQUwsQ0FBUUssVUFBUixFQUFoQyxDQU5xRCxhQU90RCxDLGlGQUVjLENBQ2IsS0FBS0wsRUFBTCxDQUFRTSxZQUFSLEdBQ0EsK0hBQ0QsQyxnREFFV0MsTSxDQUF3RCxDQUNsRSxNQUFPLElBQUlmLHNCQUFKLENBQTBCLElBQTFCLENBQWdDZSxNQUFoQyxDQUFQLENBQ0QsQywrQ0FFb0IsQ0FDbkIsR0FBTUMsT0FBUSxLQUFLUixFQUFMLENBQVFLLFVBQVIsRUFBZCxDQUNBLEdBQU1JLE1BQU9ELE1BQVEsS0FBS0osVUFBMUIsQ0FDQSxLQUFLQSxVQUFMLENBQWtCSSxLQUFsQixDQUNBLEtBQUtMLE1BQUwsQ0FBY08sS0FBS1osR0FBTCxDQUFTWSxLQUFLWCxHQUFMLENBQVMsS0FBS0ksTUFBTCxDQUFjTSxJQUF2QixDQUE2QixLQUFLUixJQUFsQyxDQUFULENBQWtELEtBQUtDLElBQXZELENBQWQsQ0FDQSxNQUFPLE1BQUtDLE1BQVosQ0FDRCxDLDJDQUVnQixDQUNmLEtBQUtILEVBQUwsQ0FBUVcsVUFBUixDQUFtQixJQUFuQixFQUNELEMsMkNBRWdCLENBQ2YsS0FBS1gsRUFBTCxDQUFRWSxhQUFSLENBQXNCLElBQXRCLEVBQ0EsMkhBQ0QsQyw2REFFd0IsQ0FDdkIsTUFBTyxDQUNMQyxLQUFNLFdBREQsQ0FFTEMsTUFBTyxLQUFLZCxFQUFMLENBQVFlLGNBQVIsRUFGRixDQUdMakIsSUFBSyxLQUFLRyxJQUhMLENBSUxGLElBQUssS0FBS0csSUFKTCxDQUFQLENBTUQsQywrQkFqRDZCUCxvQixFQW9EaENxQixPQUFPQyxPQUFQLENBQWlCckIsaUJBQWpCIiwiZmlsZSI6IkFuaW1hdGVkRGlmZkNsYW1wLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTUtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqXG4gKiBAcHJvdmlkZXNNb2R1bGUgQW5pbWF0ZWREaWZmQ2xhbXBcbiAqIEBmbG93XG4gKiBAZm9ybWF0XG4gKi9cbid1c2Ugc3RyaWN0JztcblxuY29uc3QgQW5pbWF0ZWRJbnRlcnBvbGF0aW9uID0gcmVxdWlyZSgnLi9BbmltYXRlZEludGVycG9sYXRpb24nKTtcbmNvbnN0IEFuaW1hdGVkTm9kZSA9IHJlcXVpcmUoJy4vQW5pbWF0ZWROb2RlJyk7XG5jb25zdCBBbmltYXRlZFdpdGhDaGlsZHJlbiA9IHJlcXVpcmUoJy4vQW5pbWF0ZWRXaXRoQ2hpbGRyZW4nKTtcblxuaW1wb3J0IHR5cGUge0ludGVycG9sYXRpb25Db25maWdUeXBlfSBmcm9tICcuL0FuaW1hdGVkSW50ZXJwb2xhdGlvbic7XG5cbmNsYXNzIEFuaW1hdGVkRGlmZkNsYW1wIGV4dGVuZHMgQW5pbWF0ZWRXaXRoQ2hpbGRyZW4ge1xuICBfYTogQW5pbWF0ZWROb2RlO1xuICBfbWluOiBudW1iZXI7XG4gIF9tYXg6IG51bWJlcjtcbiAgX3ZhbHVlOiBudW1iZXI7XG4gIF9sYXN0VmFsdWU6IG51bWJlcjtcblxuICBjb25zdHJ1Y3RvcihhOiBBbmltYXRlZE5vZGUsIG1pbjogbnVtYmVyLCBtYXg6IG51bWJlcikge1xuICAgIHN1cGVyKCk7XG5cbiAgICB0aGlzLl9hID0gYTtcbiAgICB0aGlzLl9taW4gPSBtaW47XG4gICAgdGhpcy5fbWF4ID0gbWF4O1xuICAgIHRoaXMuX3ZhbHVlID0gdGhpcy5fbGFzdFZhbHVlID0gdGhpcy5fYS5fX2dldFZhbHVlKCk7XG4gIH1cblxuICBfX21ha2VOYXRpdmUoKSB7XG4gICAgdGhpcy5fYS5fX21ha2VOYXRpdmUoKTtcbiAgICBzdXBlci5fX21ha2VOYXRpdmUoKTtcbiAgfVxuXG4gIGludGVycG9sYXRlKGNvbmZpZzogSW50ZXJwb2xhdGlvbkNvbmZpZ1R5cGUpOiBBbmltYXRlZEludGVycG9sYXRpb24ge1xuICAgIHJldHVybiBuZXcgQW5pbWF0ZWRJbnRlcnBvbGF0aW9uKHRoaXMsIGNvbmZpZyk7XG4gIH1cblxuICBfX2dldFZhbHVlKCk6IG51bWJlciB7XG4gICAgY29uc3QgdmFsdWUgPSB0aGlzLl9hLl9fZ2V0VmFsdWUoKTtcbiAgICBjb25zdCBkaWZmID0gdmFsdWUgLSB0aGlzLl9sYXN0VmFsdWU7XG4gICAgdGhpcy5fbGFzdFZhbHVlID0gdmFsdWU7XG4gICAgdGhpcy5fdmFsdWUgPSBNYXRoLm1pbihNYXRoLm1heCh0aGlzLl92YWx1ZSArIGRpZmYsIHRoaXMuX21pbiksIHRoaXMuX21heCk7XG4gICAgcmV0dXJuIHRoaXMuX3ZhbHVlO1xuICB9XG5cbiAgX19hdHRhY2goKTogdm9pZCB7XG4gICAgdGhpcy5fYS5fX2FkZENoaWxkKHRoaXMpO1xuICB9XG5cbiAgX19kZXRhY2goKTogdm9pZCB7XG4gICAgdGhpcy5fYS5fX3JlbW92ZUNoaWxkKHRoaXMpO1xuICAgIHN1cGVyLl9fZGV0YWNoKCk7XG4gIH1cblxuICBfX2dldE5hdGl2ZUNvbmZpZygpOiBhbnkge1xuICAgIHJldHVybiB7XG4gICAgICB0eXBlOiAnZGlmZmNsYW1wJyxcbiAgICAgIGlucHV0OiB0aGlzLl9hLl9fZ2V0TmF0aXZlVGFnKCksXG4gICAgICBtaW46IHRoaXMuX21pbixcbiAgICAgIG1heDogdGhpcy5fbWF4LFxuICAgIH07XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBBbmltYXRlZERpZmZDbGFtcDtcbiJdfQ==